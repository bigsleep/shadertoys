(function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=14)})([function(e){function t(){throw new Error('setTimeout has not been defined')}function n(){throw new Error('clearTimeout has not been defined')}function r(e){if(p===setTimeout)return setTimeout(e,0);if((p===t||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function a(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){m&&g&&(m=!1,g.length?u=g.concat(u):f=-1,u.length&&s())}function s(){if(!m){var e=r(o);m=!0;for(var t=u.length;t;){for(g=u,u=[];++f<t;)g&&g[f].run();f=-1,t=u.length}g=null,m=!1,a(e)}}function d(e,t){this.fun=e,this.array=t}function i(){}var l=e.exports={},p,c;(function(){try{p='function'==typeof setTimeout?setTimeout:t}catch(n){p=t}try{c='function'==typeof clearTimeout?clearTimeout:n}catch(t){c=n}})();var u=[],m=!1,f=-1,g;l.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||m||r(s)},d.prototype.run=function(){this.fun.apply(null,this.array)},l.title='browser',l.browser=!0,l.env={},l.argv=[],l.version='',l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.prependListener=i,l.prependOnceListener=i,l.listeners=function(){return[]},l.binding=function(){throw new Error('process.binding is not supported')},l.cwd=function(){return'/'},l.chdir=function(){throw new Error('process.chdir is not supported')},l.umask=function(){return 0}},function(e){'use strict';function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e){'use strict';/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function t(e){if(null===e||e===void 0)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(e)}var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String('abc');if(e[5]='de','5'===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t['_'+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if('0123456789'!==r.join(''))return!1;var a={};return['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t'].forEach(function(e){a[e]=e}),'abcdefghijklmnopqrst'===Object.keys(Object.assign({},a)).join('')}catch(e){return!1}}()?Object.assign:function(e){for(var o=t(e),d=1,s,l;d<arguments.length;d++){for(var p in s=Object(arguments[d]),s)r.call(s,p)&&(o[p]=s[p]);if(n){l=n(s);for(var c=0;c<l.length;c++)a.call(s,l[c])&&(o[l[c]]=s[l[c]])}}return o}},function(e,t,n){'use strict';(function(t){var n={};'production'!==t.env.NODE_ENV&&Object.freeze(n),e.exports=n}).call(t,n(0))},function(e,t,n){'use strict';(function(t){e.exports='production'===t.env.NODE_ENV?n(15):n(16)}).call(t,n(0))},function(e,t,n){'use strict';(function(t){var n=function(){};'production'!==t.env.NODE_ENV&&(n=function(e){if(e===void 0)throw new Error('invariant requires an error message argument')}),e.exports=function(t,r,o,a,i,s,d,e){if(n(r),!t){var l;if(void 0===r)l=new Error('Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.');else{var p=[o,a,i,s,d,e],c=0;l=new Error(r.replace(/%s/g,function(){return p[c++]})),l.name='Invariant Violation'}throw l.framesToPop=1,l}}}).call(t,n(0))},function(e,t,n){'use strict';(function(t){var r=n(1),a=r;if('production'!==t.env.NODE_ENV){var o=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o='Warning: '+e.replace(/%s/g,function(){return n[a++]});'undefined'!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};a=function(e,t){if(t===void 0)throw new Error('`warning(condition, format, ...args)` requires a warning message argument');if(0!==t.indexOf('Failed Composite propType: ')&&!e){for(var n=arguments.length,r=Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];o.apply(void 0,[t].concat(r))}}}e.exports=a}).call(t,n(0))},function(e,t,n){'use strict';(function(t){if('production'!==t.env.NODE_ENV)var r=n(5),a=n(6),o=n(17),i={};e.exports=function(e,n,s,d,l){if('production'!==t.env.NODE_ENV)for(var p in e)if(e.hasOwnProperty(p)){var c;try{r('function'==typeof e[p],'%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.',d||'React class',s,p,typeof e[p]),c=e[p](n,p,d,s,null,o)}catch(e){c=e}if(a(!c||c instanceof Error,'%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).',d||'React class',s,p,typeof c),c instanceof Error&&!(c.message in i)){i[c.message]=!0;var u=l?l():'';a(!1,'Failed %s type: %s%s',s,c.message,null==u?'':u)}}}}).call(t,n(0))},function(e){'use strict';var t=!!('undefined'!=typeof window&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:'undefined'!=typeof Worker,canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},function(e,t,n){'use strict';(function(t){var r=n(1);e.exports={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent('on'+t,n),{remove:function(){e.detachEvent('on'+t,n)}}):void 0},capture:function(e,n,a){return e.addEventListener?(e.addEventListener(n,a,!0),{remove:function(){e.removeEventListener(n,a,!0)}}):('production'!==t.env.NODE_ENV&&console.error('Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events.'),{remove:r})},registerDefault:function(){}}}).call(t,n(0))},function(e){'use strict';e.exports=function(e){if(e=e||('undefined'==typeof document?void 0:document),'undefined'==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e){'use strict';function t(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}var n=Object.prototype.hasOwnProperty;e.exports=function(e,r){if(t(e,r))return!0;if('object'!=typeof e||null===e||'object'!=typeof r||null===r)return!1;var a=Object.keys(e),o=Object.keys(r);if(a.length!==o.length)return!1;for(var s=0;s<a.length;s++)if(!n.call(r,a[s])||!t(e[a[s]],r[a[s]]))return!1;return!0}},function(e,t,n){'use strict';function r(e,t){return e&&t&&(e===t||!a(e)&&(a(t)?r(e,t.parentNode):'contains'in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var a=n(20);e.exports=r},function(e){'use strict';e.exports=function(e){try{e.focus()}catch(t){}}},function(e,t,n){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function s(e,t,n,r){var a=p(0.5*e),o=new y.Matrix4;return o.set(1/(t*a),0,0,0,0,1/a,0,0,0,0,-(r+n)/(r-n),-1,0,0,1/(0.5/r-0.5/n),0),o}function d(e,n,r,a){var o=p(0.5*e),t=new y.Matrix4;return t.set(n*o,0,0,0,0,o,0,0,0,0,0,0.5/(r-a),0,0,-1,0.5/(r+a)),t}var l=Math.PI,p=Math.tan,c=function(){function e(e,t){for(var n=0,r;n<t.length;n++)r=t[n],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),m=r(u),f=n(18),g=r(f),h=n(27),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),x=500,v=281,b=['shaders/circle01.glsl','shaders/wavycircle01.glsl','shaders/wavycircle02.glsl','shaders/perlinnoise01.glsl','shaders/cubic01.glsl','shaders/fragment01.glsl','shaders/texture01.glsl','shaders/vector-distance-field.glsl','shaders/vector-distance-field-bicubic.glsl','shaders/raymarching01.glsl','shaders/raymarching02.glsl','shaders/raymarching03.glsl','shaders/raymarching04.glsl','shaders/msdf01.glsl'],_=['resources/circle-distance-field-32.png','resources/circle-distance-field-64.png','resources/circle-distance-field-128.png','resources/low-resolution-circle.png','resources/inconsolata-msdf.png'],E=['Linear','Nearest'],T=[y.LinearFilter,y.NearestFilter],S={i:'int',f:'float',v2:'vec2',v3:'vec3',v4:'vec4',m4:'mat4',t:'sampler2D'},C=function(){function e(){i(this,e),this.state={fragmentShader:null,uniforms:{iTime:{type:'f',value:0},iResolution:{type:'v2',value:new y.Vector2(x,v)},iPerspective:{type:'m4',value:new y.Matrix4},iInvPerspective:{type:'m4',value:new y.Matrix4},iPerspectiveNear:{type:'f',value:0},iPerspectiveFar:{type:'f',value:0},iPerspectiveFovy:{type:'f',value:0}}},this.three={},this.onUpdate=function(){}}return c(e,[{key:'buildUniformsHeader',value:function(e){return Object.keys(e).map(function(t){var n=S[e[t].type];return'uniform '+n+' '+t+';\n'}).join('')}},{key:'loadFragmentShader',value:function(e){var t=this,n=this.buildUniformsHeader(this.state.uniforms),r=function(e){return n+e+'\nvoid main()\n{\n    mainImage(gl_FragColor, gl_FragCoord.xy);\n}\n'},a=new y.FileLoader;return a.mimeType='x-shader/x-fragment',new Promise(function(n){a.load(e,function(e){n(r(e)),t.state.fragmentShader=e,t.onUpdate(t.state)})})}},{key:'loadTexture',value:function(e){var t=new y.TextureLoader;return new Promise(function(n){t.load(e,function(e){n(e)})})}},{key:'changeShader',value:function(e){var t=this;this.loadFragmentShader(e).then(function(e){t.three.material.fragmentShader=e,t.three.material.needsUpdate=!0})}},{key:'changeTexture',value:function(e){var t=this,n=this;this.loadTexture(e).then(function(e){e.minFilter=t.state.uniforms.iChannel0.value.minFilter,e.magFilter=t.state.uniforms.iChannel0.value.magFilter,n.state.uniforms.iChannel0.value=e,n.state.uniforms.iChannel0Size.value=new y.Vector2(e.image.width,e.image.width),n.onUpdate(n.state)})}},{key:'changeTextureMinFilter',value:function(e){this.state.uniforms.iChannel0.value.minFilter=parseInt(e,10),this.state.uniforms.iChannel0.value.needsUpdate=!0,this.onUpdate(this.state)}},{key:'changeTextureMagFilter',value:function(e){this.state.uniforms.iChannel0.value.magFilter=parseInt(e,10),this.state.uniforms.iChannel0.value.needsUpdate=!0,this.onUpdate(this.state)}},{key:'changePerspective',value:function(e,t,n,r){this.state.uniforms.iPerspectiveFovy.value=e,this.state.uniforms.iPerspectiveNear.value=n,this.state.uniforms.iPerspectiveFar.value=r,this.state.uniforms.iPerspective.value=s(e,t,n,r),this.state.uniforms.iInvPerspective.value=d(e,t,n,r),this.onUpdate(this.state)}},{key:'initialize',value:function(e,t,n,r){var a=this;this.onUpdate=r,this.loadFragmentShader(t).then(function(e){return a.loadTexture(n).then(function(t){return{fragmentShader:e,texture:t}})}).then(function(t){a.initializeThree(e,t.fragmentShader,t.texture)})}},{key:'initializeThree',value:function(e,t,n){this.state.uniforms.iChannel0={type:'t',value:n},this.state.uniforms.iChannel0Size={type:'v2',value:new y.Vector2(n.image.width,n.image.width)},this.three.camera=new y.Camera,this.three.camera.position.z=1,this.three.geometry=new y.PlaneBufferGeometry(2,2),this.three.material=new y.ShaderMaterial({uniforms:this.state.uniforms,vertexShader:document.getElementById('vertexShader').textContent,fragmentShader:t}),this.three.mesh=new y.Mesh(this.three.geometry,this.three.material),this.three.scene=new y.Scene,this.three.scene.add(this.three.mesh),this.three.renderer=new y.WebGLRenderer,this.three.renderer.setSize(500,281),this.three.renderer.setPixelRatio(window.devicePixelRatio),e.appendChild(this.three.renderer.domElement),this.animate()}},{key:'animate',value:function(){var e=this;requestAnimationFrame(function(){e.animate()}),this.render()}},{key:'render',value:function(){this.state.uniforms.iTime.value+=0.05,this.three.renderer.render(this.three.scene,this.three.camera),this.onUpdate(this.state)}}]),e}(),M=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:'render',value:function(){var e=this;return m.default.createElement('div',null,m.default.createElement('div',null,m.default.createElement('label',null,'fragment shader ',m.default.createElement(P,{optionValues:b,optionNames:b,onChange:function(t){return e.props.shaderViewer.changeShader(t)}})),m.default.createElement('label',null,'texture ',m.default.createElement(P,{optionValues:_,optionNames:_,onChange:function(t){return e.props.shaderViewer.changeTexture(t)}})),m.default.createElement('label',null,'min filter ',m.default.createElement(P,{optionValues:T,optionNames:E,onChange:function(t){return e.props.shaderViewer.changeTextureMinFilter(t)}})),m.default.createElement('label',null,'mag filter ',m.default.createElement(P,{optionValues:T,optionNames:E,onChange:function(t){return e.props.shaderViewer.changeTextureMagFilter(t)}})),m.default.createElement(w,{onChange:this.props.shaderViewer.changePerspective.bind(this.props.shaderViewer)})),m.default.createElement(R,{shaderViewer:this.props.shaderViewer}))}}]),t}(m.default.Component),w=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={fovy:0.5*l,aspect:x/v,near:0,far:100},e}return o(t,e),c(t,[{key:'componentDidMount',value:function(){this.props.onChange(this.state.fovy,this.state.aspect,this.state.near,this.state.far)}},{key:'render',value:function(){var t=this,e=l/3,n=l,r=0,a=10,o=10,i=100;return m.default.createElement('div',null,m.default.createElement('label',null,'fovy ',m.default.createElement('input',{type:'range',value:this.state.fovy,onChange:function(n){var e=parseFloat(n.target.value);t.state.fovy=e,t.props.onChange(t.state.fovy,t.state.aspect,t.state.near,t.state.far),t.setState(t.state)},min:e,max:n,step:(n-e)/100})),m.default.createElement('label',null,'near ',m.default.createElement('input',{type:'range',value:this.state.near,onChange:function(n){var e=parseFloat(n.target.value);t.state.near=e,t.props.onChange(t.state.fovy,t.state.aspect,t.state.near,t.state.far),t.setState(t.state)},min:r,max:a,step:(a-r)/100})),m.default.createElement('label',null,'far ',m.default.createElement('input',{type:'range',value:this.state.far,onChange:function(n){var e=parseFloat(n.target.value);t.state.far=e,t.props.onChange(t.state.fovy,t.state.aspect,t.state.near,t.state.far),t.setState(t.state)},min:o,max:i,step:(i-o)/100})))}}]),t}(m.default.Component),R=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:'componentDidMount',value:function(){this.props.shaderViewer.initialize(this.container,b[0],_[0],this.setState.bind(this))}},{key:'render',value:function(){var e=this;return m.default.createElement('div',{className:'player',ref:function(t){e.container=t}})}}]),t}(m.default.Component),P=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:'render',value:function(){var t=this,e=this.props.optionValues.map(function(e,n){return m.default.createElement('option',{key:n,value:e},t.props.optionNames[n])});return m.default.createElement('select',{onChange:function(n){var e=n.target.options,r=e[n.target.selectedIndex].value;t.props.onChange(r)}},e)}}]),t}(m.default.Component),A=new C;g.default.render(m.default.createElement(M,{shaderViewer:A}),document.getElementById('root'))},function(e,a,o){'use strict';/** @license React v16.2.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function i(t){for(var n=arguments.length-1,r='Minified React error #'+t+'; visit http://facebook.github.io/react/docs/error-decoder.html?invariant='+t,e=0;e<n;e++)r+='&args[]='+encodeURIComponent(arguments[e+1]);throw n=Error(r+' for the full message or use the non-minified dev environment for full errors and additional helpful warnings.'),n.name='Invariant Violation',n.framesToPop=1,n}function s(t,n,r){this.props=t,this.context=n,this.refs=k,this.updater=r||x}function d(t,n,r){this.props=t,this.context=n,this.refs=k,this.updater=r||x}function l(){}function c(t,n,r){this.props=t,this.context=n,this.refs=k,this.updater=r||x}function f(t,n,o){var e={},i=null,s=null,p;if(null!=n)for(p in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(i=''+n.key),n)X.call(n,p)&&!H.hasOwnProperty(p)&&(e[p]=n[p]);var c=arguments.length-2;if(1==c)e.children=o;else if(1<c){for(var u=Array(c),m=0;m<c;m++)u[m]=arguments[m+2];e.children=u}if(t&&t.defaultProps)for(p in c=t.defaultProps,c)void 0===e[p]&&(e[p]=c[p]);return{$$typeof:O,type:t,key:i,ref:s,props:e,_owner:F.current}}function g(e){return'object'==typeof e&&null!==e&&e.$$typeof===O}function h(e){var t={"=":'=0',":":'=2'};return'$'+(''+e).replace(/[=:]/g,function(e){return t[e]})}function y(t,n,r,o){if(L.length){var i=L.pop();return i.result=t,i.keyPrefix=n,i.func=r,i.context=o,i.count=0,i}return{result:t,keyPrefix:n,func:r,context:o,count:0}}function _(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function C(n,r,o,e){var s=typeof n;('undefined'==s||'boolean'==s)&&(n=null);var d=!1;if(null===n)d=!0;else switch(s){case'string':case'number':d=!0;break;case'object':switch(n.$$typeof){case O:case b:case t:case u:d=!0;}}if(d)return o(e,n,''===r?'.'+P(n,0):r),1;if(d=0,r=''===r?'.':r+':',Array.isArray(n))for(var l=0;l<n.length;l++){s=n[l];var p=r+P(s,l);d+=C(s,p,o,e)}else if(null===n||'undefined'==typeof n?p=null:(p=j&&n[j]||n['@@iterator'],p='function'==typeof p?p:null),'function'==typeof p)for(n=p.call(n),l=0;!(s=n.next()).done;)s=s.value,p=r+P(s,l++),d+=C(s,p,o,e);else'object'===s&&(o=''+n,i('31','[object Object]'===o?'object with keys {'+Object.keys(n).join(', ')+'}':o,''));return d}function P(e,t){return'object'==typeof e&&null!==e&&null!=e.key?h(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function R(t,a,o){var e=t.result,i=t.keyPrefix;t=t.func.call(t.context,a,t.count++),Array.isArray(t)?S(t,e,o,n.thatReturnsArgument):null!=t&&(g(t)&&(a=i+(!t.key||a&&a.key===t.key?'':(''+t.key).replace(I,'$&/')+'/')+o,t={$$typeof:O,type:t.type,key:a,ref:t.ref,props:t.props,_owner:t._owner}),e.push(t))}function S(t,n,r,e,a){var o='';null!=r&&(o=(''+r).replace(I,'$&/')+'/'),n=y(n,o,e,a),null==t||C(t,'',R,n),_(n)}var T=o(2),k=o(3),n=o(1),p='function'==typeof Symbol&&Symbol['for'],O=p?Symbol['for']('react.element'):60103,b=p?Symbol['for']('react.call'):60104,t=p?Symbol['for']('react.return'):60105,u=p?Symbol['for']('react.portal'):60106,v=p?Symbol['for']('react.fragment'):60107,j='function'==typeof Symbol&&Symbol.iterator,x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};s.prototype.isReactComponent={},s.prototype.setState=function(e,t){'object'!=typeof e&&'function'!=typeof e&&null!=e?i('85'):void 0,this.updater.enqueueSetState(this,e,t,'setState')},s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,'forceUpdate')},l.prototype=s.prototype;var z=d.prototype=new l;z.constructor=d,T(z,s.prototype),z.isPureReactComponent=!0;var D=c.prototype=new l;D.constructor=c,T(D,s.prototype),D.unstable_isAsyncReactComponent=!0,D.render=function(){return this.props.children};var F={current:null},X=Object.prototype.hasOwnProperty,H={key:!0,ref:!0,__self:!0,__source:!0},I=/\/+/g,L=[],M={Children:{map:function(t,n,r){if(null==t)return t;var e=[];return S(t,e,null,n,r),e},forEach:function(t,n,r){return null==t?t:void(n=y(null,null,n,r),null==t||C(t,'',N,n),_(n))},count:function(e){return null==e?0:C(e,'',n.thatReturnsNull,null)},toArray:function(e){var t=[];return S(e,t,null,n.thatReturnsArgument),t},only:function(e){return g(e)?void 0:i('143'),e}},Component:s,PureComponent:d,unstable_AsyncComponent:c,Fragment:v,createElement:f,cloneElement:function(t,n,a){var e=T({},t.props),o=t.key,i=t.ref,s=t._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,s=F.current),void 0!==n.key&&(o=''+n.key),t.type&&t.type.defaultProps)var p=t.type.defaultProps;for(u in n)X.call(n,u)&&!H.hasOwnProperty(u)&&(e[u]=void 0===n[u]&&void 0!==p?p[u]:n[u])}var u=arguments.length-2;if(1===u)e.children=a;else if(1<u){p=Array(u);for(var m=0;m<u;m++)p[m]=arguments[m+2];e.children=p}return{$$typeof:O,type:t.type,key:o,ref:i,props:e,_owner:s}},createFactory:function(e){var t=f.bind(null,e);return t.type=e,t},isValidElement:g,version:'16.2.0',__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:F,assign:T}},Y=Object.freeze({default:M}),V=Y&&M||Y;e.exports=V['default']?V['default']:V},function(e,t,n){'use strict';(function(t){'production'!==t.env.NODE_ENV&&function(){function t(e){if(null===e||'undefined'==typeof e)return null;var t=Y&&e[Y]||e[q];return'function'==typeof t?t:null}function r(e,t){{var n=e.constructor,r=n&&(n.displayName||n.name)||'ReactClass',a=r+'.'+t;if(Q[a])return;F(!1,'%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.\n\nPlease check the code for the %s component.',t,t,r),Q[a]=!0}}function a(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||$}function o(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||$}function i(){}function s(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||$}function d(e){if(ie.call(e,'ref')){var t=Object.getOwnPropertyDescriptor(e,'ref').get;if(t&&t.isReactWarning)return!1}return e.ref!==void 0}function l(e){if(ie.call(e,'key')){var t=Object.getOwnPropertyDescriptor(e,'key').get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function p(e,t){var n=function(){pe||(pe=!0,F(!1,'%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)',t))};n.isReactWarning=!0,Object.defineProperty(e,'key',{get:n,configurable:!0})}function c(e,t){var n=function(){ce||(ce=!0,F(!1,'%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)',t))};n.isReactWarning=!0,Object.defineProperty(e,'ref',{get:n,configurable:!0})}function u(e,t,n){var r={},a=null,o=null,s=null,u=null,m;if(null!=t)for(m in d(t)&&(o=t.ref),l(t)&&(a=''+t.key),s=void 0===t.__self?null:t.__self,u=void 0===t.__source?null:t.__source,t)ie.call(t,m)&&!se.hasOwnProperty(m)&&(r[m]=t[m]);var f=arguments.length-2;if(1==f)r.children=n;else if(1<f){for(var g=Array(f),h=0;h<f;h++)g[h]=arguments[h+2];Object.freeze&&Object.freeze(g),r.children=g}if(e&&e.defaultProps){var i=e.defaultProps;for(m in i)void 0===r[m]&&(r[m]=i[m])}if((a||o)&&('undefined'==typeof r.$$typeof||r.$$typeof!==V)){var y='function'==typeof e?e.displayName||e.name||'Unknown':e;a&&p(r,y),o&&c(r,y)}return de(e,a,o,s,u,oe.current,r)}function m(e,t){var n=de(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n}function f(e,t,n){var r=U({},e.props),a=e.key,o=e.ref,s=e._self,p=e._source,c=e._owner,u;if(null!=t){d(t)&&(o=t.ref,c=oe.current),l(t)&&(a=''+t.key);var m;for(u in e.type&&e.type.defaultProps&&(m=e.type.defaultProps),t)ie.call(t,u)&&!se.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==m?m[u]:t[u])}var f=arguments.length-2;if(1==f)r.children=n;else if(1<f){for(var g=Array(f),h=0;h<f;h++)g[h]=arguments[h+2];r.children=g}return de(e.type,a,o,s,p,c,r)}function g(e){return'object'==typeof e&&null!==e&&e.$$typeof===V}function h(e){var t=/[=:]/g,n={"=":'=0',":":'=2'},r=(''+e).replace(t,function(e){return n[e]});return'$'+r}function y(e){return(''+e).replace(ge,'$&/')}function x(e,t,n,r){if(ye.length){var a=ye.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function v(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,ye.length<he&&ye.push(e)}function b(e,n,r,a){var o=typeof e;('undefined'==o||'boolean'==o)&&(e=null);var s=!1;if(null===e)s=!0;else switch(o){case'string':case'number':s=!0;break;case'object':switch(e.$$typeof){case V:case G:case W:case j:s=!0;}}if(s)return r(a,e,''===n?ue+E(e,0):n),1;var d=0,l=''===n?ue:n+me,p,c;if(Array.isArray(e))for(var u=0;u<e.length;u++)p=e[u],c=l+E(p,u),d+=b(p,c,r,a);else{var i=t(e);if('function'==typeof i){i===e.entries&&(F(fe,'Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead.%s',le.getStackAddendum()),fe=!0);for(var m=i.call(e),f=0,g;!(g=m.next()).done;)p=g.value,c=l+E(p,f++),d+=b(p,c,r,a)}else if('object'==o){var h='';h=' If you meant to render a collection of children, use an array instead.'+le.getStackAddendum();var y=''+e;O(!1,'Objects are not valid as a React child (found: %s).%s','[object Object]'==y?'object with keys {'+Object.keys(e).join(', ')+'}':y,h)}}return d}function _(e,t,n){return null==e?0:b(e,'',t,n)}function E(e,t){return'object'==typeof e&&null!==e&&null!=e.key?h(e.key):t.toString(36)}function T(e,t){var n=e.func,r=e.context;n.call(r,t,e.count++)}function S(e,t,n){var r=e.result,a=e.keyPrefix,o=e.func,i=e.context,s=o.call(i,t,e.count++);Array.isArray(s)?C(s,r,n,z.thatReturnsArgument):null!=s&&(g(s)&&(s=m(s,a+(s.key&&(!t||t.key!==s.key)?y(s.key)+'/':'')+n)),r.push(s))}function C(e,t,n,r,a){var o='';null!=n&&(o=y(n)+'/');var i=x(t,o,r,a);_(e,S,i),v(i)}function M(e){var t=e.type;return'string'==typeof t?t:'function'==typeof t?t.displayName||t.name:null}function w(){if(oe.current){var e=M(oe.current);if(e)return'\n\nCheck the render method of `'+e+'`.'}return''}function R(e){if(null!==e&&e!==void 0&&e.__source!==void 0){var t=e.__source,n=t.fileName.replace(/^.*[\\\/]/,''),r=t.lineNumber;return'\n\nCheck your code at '+n+':'+r+'.'}return''}function P(e){var t=w();if(!t){var n='string'==typeof e?e:e.displayName||e.name;n&&(t='\n\nCheck the top-level render call using <'+n+'>.')}return t}function A(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=P(t);if(!Se[n]){Se[n]=!0;var r='';e&&e._owner&&e._owner!==oe.current&&(r=' It was passed a child from '+M(e._owner)+'.'),ve=e,F(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s See https://fb.me/react-warning-keys for more information.%s',n,r,Ee()),ve=null}}}function L(e,n){if('object'==typeof e)if(Array.isArray(e))for(var r=0,a;r<e.length;r++)a=e[r],g(a)&&A(a,n);else if(g(e))e._store&&(e._store.validated=!0);else if(e){var o=t(e);if('function'==typeof o&&o!==e.entries)for(var i=o.call(e),s;!(s=i.next()).done;)g(s.value)&&A(s.value,n)}}function I(e){var t=e.type;if('function'==typeof t){var n=t.displayName||t.name,r=t.propTypes;r?(ve=e,B(r,e.props,'prop',n,Ee),ve=null):void 0!==t.PropTypes&&!be&&(be=!0,F(!1,'Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?',n||'Unknown')),'function'==typeof t.getDefaultProps&&F(t.getDefaultProps.isReactClassApproved,'getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.')}}function N(e){ve=e;var t=!0,n=!1,r;try{for(var a=Object.keys(e.props)[Symbol.iterator](),o,i;!(t=(o=a.next()).done);t=!0)if(i=o.value,!Te.has(i)){F(!1,'Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.%s',i,Ee());break}}catch(e){n=!0,r=e}finally{try{!t&&a['return']&&a['return']()}finally{if(n)throw r}}null!==e.ref&&F(!1,'Invalid attribute `ref` supplied to `React.Fragment`.%s',Ee()),ve=null}function D(e,t){var n='string'==typeof e||'function'==typeof e||'symbol'==typeof e||'number'==typeof e;if(!n){var r='';(void 0===e||'object'==typeof e&&null!==e&&0===Object.keys(e).length)&&(r+=' You likely forgot to export your component from the file it\'s defined in, or you might have mixed up default and named imports.');var a=R(t);r+=a?a:w(),r+=Ee()||'',F(!1,'React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s',null==e?e:typeof e,r)}var o=u.apply(this,arguments);if(null==o)return o;if(n)for(var s=2;s<arguments.length;s++)L(arguments[s],e);return'symbol'==typeof e&&e===X?N(o):I(o),o}var U=n(2),k=n(3),O=n(5),F=n(6),z=n(1),B=n(7),H='function'==typeof Symbol&&Symbol['for'],V=H?Symbol['for']('react.element'):60103,G=H?Symbol['for']('react.call'):60104,W=H?Symbol['for']('react.return'):60105,j=H?Symbol['for']('react.portal'):60106,X=H?Symbol['for']('react.fragment'):60107,Y='function'==typeof Symbol&&Symbol.iterator,q='@@iterator',K=function(){};{var Z=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o='Warning: '+e.replace(/%s/g,function(){return n[a++]});'undefined'!=typeof console&&console.warn(o);try{throw new Error(o)}catch(e){}};K=function(e,t){if(t===void 0)throw new Error('`warning(condition, format, ...args)` requires a warning message argument');if(!e){for(var n=arguments.length,r=Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];Z.apply(void 0,[t].concat(r))}}}var J=K,Q={},$={isMounted:function(){return!1},enqueueForceUpdate:function(e){r(e,'forceUpdate')},enqueueReplaceState:function(e){r(e,'replaceState')},enqueueSetState:function(e){r(e,'setState')}};a.prototype.isReactComponent={},a.prototype.setState=function(e,t){'object'==typeof e||'function'==typeof e||null==e?void 0:O(!1,'setState(...): takes an object of state variables to update or a function which returns an object of state variables.'),this.updater.enqueueSetState(this,e,t,'setState')},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,'forceUpdate')};{var ee={isMounted:['isMounted','Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks.'],replaceState:['replaceState','Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236).']},te=function(e,t){Object.defineProperty(a.prototype,e,{get:function(){J(!1,'%s(...) is deprecated in plain JavaScript React classes. %s',t[0],t[1])}})};for(var ne in ee)ee.hasOwnProperty(ne)&&te(ne,ee[ne])}i.prototype=a.prototype;var re=o.prototype=new i;re.constructor=o,U(re,a.prototype),re.isPureReactComponent=!0;var ae=s.prototype=new i;ae.constructor=s,U(ae,a.prototype),ae.unstable_isAsyncReactComponent=!0,ae.render=function(){return this.props.children};var oe={current:null},ie=Object.prototype.hasOwnProperty,se={key:!0,ref:!0,__self:!0,__source:!0},de=function(e,t,n,r,a,o,i){var s={$$typeof:V,type:e,key:t,ref:n,props:i,_owner:o};return s._store={},Object.defineProperty(s._store,'validated',{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,'_self',{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(s,'_source',{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s},le={},pe,ce;le.getCurrentStack=null,le.getStackAddendum=function(){var e=le.getCurrentStack;return e?e():null};var ue='.',me=':',fe=!1,ge=/\/+/g,he=10,ye=[],xe=function(e,t,n){return'\n    in '+(e||'Unknown')+(t?' (at '+t.fileName.replace(/^.*[\\\/]/,'')+':'+t.lineNumber+')':n?' (created by '+n+')':'')};var ve=null,be=!1,_e=function(e){return null==e?'#empty':'string'==typeof e||'number'==typeof e?'#text':'string'==typeof e.type?e.type:e.type===X?'React.Fragment':e.type.displayName||e.type.name||'Unknown'},Ee=function(){var e='';if(ve){var t=_e(ve),n=ve._owner;e+=xe(t,ve._source,n&&M(n))}return e+=le.getStackAddendum()||'',e},Te=new Map([['children',!0],['key',!0]]),Se={},Ce={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return C(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;var r=x(null,null,t,n);_(e,T,r),v(r)},count:function(e){return _(e,z.thatReturnsNull,null)},toArray:function(e){var t=[];return C(e,t,null,z.thatReturnsArgument),t},only:function(e){return g(e)?void 0:O(!1,'React.Children.only expected to receive a single React element child.'),e}},Component:a,PureComponent:o,unstable_AsyncComponent:s,Fragment:X,createElement:D,cloneElement:function(){for(var e=f.apply(this,arguments),t=2;t<arguments.length;t++)L(arguments[t],e.type);return I(e),e},createFactory:function(e){var t=D.bind(null,e);return t.type=e,Object.defineProperty(t,'type',{enumerable:!1,get:function(){return J(!1,'Factory.type is deprecated. Access the class directly before passing it to createFactory.'),Object.defineProperty(this,'type',{value:e}),e}}),t},isValidElement:g,version:'16.2.0',__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:oe,assign:U}};U(Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,{ReactDebugCurrentFrame:le,ReactComponentTreeHook:{}});var Me=Object.freeze({default:Ce}),we=Me&&Ce||Me,Re=we['default']?we['default']:we;e.exports=Re}()}).call(t,n(0))},function(e){'use strict';e.exports='SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED'},function(e,t,n){'use strict';(function(t){function r(){if('undefined'!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&'function'==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){if('production'!==t.env.NODE_ENV)throw new Error('^_^');try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}}'production'===t.env.NODE_ENV?(r(),e.exports=n(19)):e.exports=n(22)}).call(t,n(0))},function(e,t,n){'use strict';/** @license React v16.2.0
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function o(e){for(var t=arguments.length-1,n='Minified React error #'+e+'; visit http://facebook.github.io/react/docs/error-decoder.html?invariant='+e,r=0;r<t;r++)n+='&args[]='+encodeURIComponent(arguments[r+1]);throw t=Error(n+' for the full message or use the non-minified dev environment for full errors and additional helpful warnings.'),t.name='Invariant Violation',t.framesToPop=1,t}function r(e,t){return(e&t)===t}function i(e,t){if(ar.hasOwnProperty(e)||2<e.length&&('o'===e[0]||'O'===e[0])&&('n'===e[1]||'N'===e[1]))return!1;if(null===t)return!0;switch(typeof t){case'boolean':return ar.hasOwnProperty(e)?e=!0:(t=s(e))?e=t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:(e=e.toLowerCase().slice(0,5),e='data-'===e||'aria-'===e),e;case'undefined':case'number':case'string':case'object':return!0;default:return!1;}}function s(e){return ir.hasOwnProperty(e)?ir[e]:null}function d(e){return e[1].toUpperCase()}function p(e,t,n){yr._hasCaughtError=!1,yr._caughtError=null;var r=Array.prototype.slice.call(arguments,3);try{t.apply(n,r)}catch(e){yr._caughtError=e,yr._hasCaughtError=!0}}function a(){if(yr._hasRethrowError){var e=yr._rethrowError;throw yr._rethrowError=null,yr._hasRethrowError=!1,e}}function u(){if(P)for(var t in xr){var n=xr[t],r=P.indexOf(t);if(-1<r?void 0:o('96',t),!vr[r])for(var a in n.extractEvents?void 0:o('97',t),vr[r]=n,r=n.eventTypes,r){var i=void 0,e=r[a],s=n,d=a;br.hasOwnProperty(d)?o('99',d):void 0,br[d]=e;var l=e.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&m(l[i],s,d);i=!0}else e.registrationName?(m(e.registrationName,s,d),i=!0):i=!1;i?void 0:o('98',a,t)}}}function m(e,t,n){_r[e]?o('100',e):void 0,_r[e]=t,Er[e]=t.eventTypes[n].dependencies}function c(e){P?o('101'):void 0,P=Array.prototype.slice.call(e),u()}function f(e){var t=!1,n;for(n in e)if(e.hasOwnProperty(n)){var r=e[n];xr.hasOwnProperty(n)&&xr[n]===r||(xr[n]?o('102',n):void 0,xr[n]=r,t=!0)}t&&u()}function g(e,t,n,r){t=e.type||'unknown-event',e.currentTarget=Mr(r),yr.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function h(e,t){return null==t?o('30'):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function y(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function x(t,n){if(t){var r=t._dispatchListeners,a=t._dispatchInstances;if(Array.isArray(r))for(var o=0;o<r.length&&!t.isPropagationStopped();o++)g(t,n,r[o],a[o]);else r&&g(t,n,r,a);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function v(e){return x(e,!0)}function _(e){return x(e,!1)}function E(e,t){var n=e.stateNode;if(!n)return null;var r=Sr(n);if(!r)return null;n=r[t];a:'onClick'===t||'onClickCapture'===t||'onDoubleClick'===t||'onDoubleClickCapture'===t||'onMouseDown'===t||'onMouseDownCapture'===t||'onMouseMove'===t||'onMouseMoveCapture'===t||'onMouseUp'===t||'onMouseUpCapture'===t?((r=!r.disabled)||(e=e.type,r='button'!==e&&'input'!==e&&'select'!==e&&'textarea'!==e),e=!r):e=!1;return e?null:(n&&'function'!=typeof n?o('231',t,typeof n):void 0,n)}function w(t,n,r,a){for(var o=0,i,e;o<vr.length;o++)e=vr[o],e&&(e=e.extractEvents(t,n,r,a))&&(i=h(i,e));return i}function R(e){e&&(wr=h(wr,e))}function A(e){var t=wr;wr=null,t&&(e?y(t,v):y(t,_),wr?o('95'):void 0,yr.rethrowCaughtError())}function L(e){if(e[Lr])return e[Lr];for(var t=[];!e[Lr];)if(t.push(e),e.parentNode)e=e.parentNode;else return null;var n=e[Lr],r;if(5===n.tag||6===n.tag)return n;for(;e&&(n=e[Lr]);e=t.pop())r=n;return r}function I(e){return 5===e.tag||6===e.tag?e.stateNode:void o('33')}function b(e){return e[Q]||null}function N(e){do e=e['return'];while(e&&5!==e.tag);return e?e:null}function k(e,t,n){for(var r=[];e;)r.push(e),e=N(e);for(e=r.length;0<e--;)t(r[e],'captured',n);for(e=0;e<r.length;e++)t(r[e],'bubbled',n)}function O(e,t,n){(t=E(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=h(n._dispatchListeners,t),n._dispatchInstances=h(n._dispatchInstances,e))}function F(e){e&&e.dispatchConfig.phasedRegistrationNames&&k(e._targetInst,O,e)}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?N(t):null,k(t,O,e)}}function H(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=E(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=h(n._dispatchListeners,t),n._dispatchInstances=h(n._dispatchInstances,e))}function G(e){e&&e.dispatchConfig.registrationName&&H(e._targetInst,null,e)}function j(e){y(e,F)}function q(t,n,r,a){if(r&&a)a:{for(var o=r,e=a,i=0,s=o;s;s=N(s))i++;s=0;for(var d=e;d;d=N(d))s++;for(;0<i-s;)o=N(o),i--;for(;0<s-i;)e=N(e),s--;for(;i--;){if(o===e||o===e.alternate)break a;o=N(o),e=N(e)}o=null}else o=null;for(e=o,o=[];r&&r!==e&&(i=r.alternate,null===i||i!==e);)o.push(r),r=N(r);for(r=[];a&&a!==e&&(i=a.alternate,null===i||i!==e);)r.push(a),a=N(a);for(a=0;a<o.length;a++)H(o[a],'bubbled',t);for(t=r.length;0<t--;)H(r[t],'captured',n)}function J(){return!Dr&&Qn.canUseDOM&&(Dr='textContent'in document.documentElement?'textContent':'innerText'),Dr}function $(){if(Ur._fallbackText)return Ur._fallbackText;var t=Ur._startText,n=t.length,r=fe(),e=r.length,o,a;for(o=0;o<n&&t[o]===r[o];o++);var i=n-o;for(a=1;a<=i&&t[n-a]===r[e-a];a++);return Ur._fallbackText=r.slice(o,1<a?1-a:void 0),Ur._fallbackText}function fe(){return'value'in Ur._root?Ur._root.value:Ur._root[J()]}function _e(t,n,r,a){for(var o in this.dispatchConfig=t,this._targetInst=n,this.nativeEvent=r,t=this.constructor.Interface,t)t.hasOwnProperty(o)&&((n=t[o])?this[o]=n(r):'target'===o?this.target=a:this[o]=r[o]);return this.isDefaultPrevented=(null==r.defaultPrevented?!1===r.returnValue:r.defaultPrevented)?B.thatReturnsTrue:B.thatReturnsFalse,this.isPropagationStopped=B.thatReturnsFalse,this}function T(t,n,r,a){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,t,n,r,a),o}return new this(t,n,r,a)}function Me(e){e instanceof this?void 0:o('223'),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Pe(e){e.eventPool=[],e.getPooled=T,e.release=Me}function Ne(e,t,n,r){return _e.call(this,e,t,n,r)}function Oe(e,t,n,r){return _e.call(this,e,t,n,r)}function et(e,t){return'topKeyUp'===e?-1!==Or.indexOf(t.keyCode):'topKeyDown'===e?229!==t.keyCode:'topKeyPress'==e||'topMouseDown'==e||'topBlur'==e}function tt(e){return e=e.detail,'object'==typeof e&&'data'in e?e.data:null}function nt(e,t){return'topCompositionEnd'===e?tt(t):'topKeyPress'===e?32===t.which?(Xr=!0,Wr):null:'topTextInput'===e?(e=t.data,e===Wr&&Xr?null:e):null}function rt(e,t){if(Yr)return'topCompositionEnd'===e||!Fr&&et(e,t)?(e=$(),Ur._root=null,Ur._startText=null,Ur._fallbackText=null,Yr=!1,e):null;switch(e){case'topPaste':return null;case'topKeyPress':if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return Zn(t.which)}return null;case'topCompositionEnd':return Gr?null:t.data;default:return null;}}function at(e){if(e=Cr(e)){qr&&'function'==typeof qr.restoreControlledState?void 0:o('194');var t=Sr(e.stateNode);qr.restoreControlledState(e.stateNode,e.type,t)}}function ot(e){Kr?Zr?Zr.push(e):Zr=[e]:Kr=e}function it(){if(Kr){var e=Kr,t=Zr;if(Zr=Kr=null,at(e),t)for(e=0;e<t.length;e++)at(t[e])}}function st(e,t){return e(t)}function dt(e,t){if($r)return st(e,t);$r=!0;try{return st(e,t)}finally{$r=!1,it()}}function lt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return'input'===t?!!ea[e.type]:!('textarea'!==t)}function pt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e,t){if(!Qn.canUseDOM||t&&!('addEventListener'in document))return!1;t='on'+e;var n=t in document;return n||(n=document.createElement('div'),n.setAttribute(t,'return;'),n='function'==typeof n[t]),!n&&ta&&'wheel'===e&&(n=document.implementation.hasFeature('Events.wheel','3.0')),n}function ut(e){var t=e.type;return(e=e.nodeName)&&'input'===e.toLowerCase()&&('checkbox'===t||'radio'===t)}function mt(e){var t=ut(e)?'checked':'value',n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=''+e[t];if(!e.hasOwnProperty(t)&&'function'==typeof n.get&&'function'==typeof n.set)return Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=''+e,n.set.call(this,e)}}),{getValue:function(){return r},setValue:function(e){r=''+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}function ft(e){e._valueTracker||(e._valueTracker=mt(e))}function gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r='';return e&&(r=ut(e)?e.checked?'true':'false':e.value),e=r,e!==n&&(t.setValue(e),!0)}function ht(e,t,n){return e=_e.getPooled(na.change,e,t,n),e.type='change',ot(n),j(e),e}function yt(e){R(e),A(!1)}function xt(e){var t=I(e);if(gt(t))return e}function vt(e,t){if('topChange'===e)return t}function bt(){ra&&(ra.detachEvent('onpropertychange',_t),aa=ra=null)}function _t(e){'value'===e.propertyName&&xt(aa)&&(e=ht(aa,e,pt(e)),dt(yt,e))}function Et(e,t,n){'topFocus'===e?(bt(),ra=t,aa=n,ra.attachEvent('onpropertychange',_t)):'topBlur'==e&&bt()}function Tt(e){if('topSelectionChange'===e||'topKeyUp'===e||'topKeyDown'===e)return xt(aa)}function St(e,t){if('topClick'===e)return xt(t)}function Ct(e,t){if('topInput'===e||'topChange'===e)return xt(t)}function Mt(e,t,n,r){return _e.call(this,e,t,n,r)}function wt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=sa[e])&&!!t[e]}function Rt(){return wt}function Pt(e,t,n,r){return _e.call(this,e,t,n,r)}function At(e){return e=e.type,'string'==typeof e?e:'function'==typeof e?e.displayName||e.name:null}function Lt(e){var t=e;if(e.alternate)for(;t['return'];)t=t['return'];else{if(0!=(2&t.effectTag))return 1;for(;t['return'];)if(t=t['return'],0!=(2&t.effectTag))return 1}return 3===t.tag?2:3}function It(e){return!!(e=e._reactInternalFiber)&&2===Lt(e)}function Nt(e){2===Lt(e)?void 0:o('188')}function Dt(t){var n=t.alternate;if(!n)return n=Lt(t),3===n?o('188'):void 0,1===n?null:t;for(var r=t,a=n;;){var i=r['return'],s=i?i.alternate:null;if(!i||!s)break;if(i.child===s.child){for(var d=i.child;d;){if(d===r)return Nt(i),t;if(d===a)return Nt(i),n;d=d.sibling}o('188')}if(r['return']!==a['return'])r=i,a=s;else{d=!1;for(var l=i.child;l;){if(l===r){d=!0,r=i,a=s;break}if(l===a){d=!0,a=i,r=s;break}l=l.sibling}if(!d){for(l=s.child;l;){if(l===r){d=!0,r=s,a=i;break}if(l===a){d=!0,a=s,r=i;break}l=l.sibling}d?void 0:o('189')}}r.alternate===a?void 0:o('190')}return 3===r.tag?void 0:o('188'),r.stateNode.current===r?t:n}function Ut(e){if(e=Dt(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child['return']=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t['return']||t['return']===e)return null;t=t['return']}t.sibling['return']=t['return'],t=t.sibling}}return null}function kt(e){if(e=Dt(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child['return']=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t['return']||t['return']===e)return null;t=t['return']}t.sibling['return']=t['return'],t=t.sibling}}return null}function Ot(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n['return'];)n=n['return'];if(n=3===n.tag?n.stateNode.containerInfo:null,!n)break;e.ancestors.push(t),t=L(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],ha(e.topLevelType,t,e.nativeEvent,pt(e.nativeEvent))}function Ft(e){ca=!!e}function zt(e,t,n){return n?C.listen(n,t,Ht.bind(null,e)):null}function Bt(e,t,n){return n?C.capture(n,t,Ht.bind(null,e)):null}function Ht(e,t){if(ca){var n=pt(t);if(n=L(n),null===n||'number'!=typeof n.tag||2===Lt(n)||(n=null),pa.length){var r=pa.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{dt(Ot,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>pa.length&&pa.push(e)}}}function Vt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n['Webkit'+e]='webkit'+t,n['Moz'+e]='moz'+t,n['ms'+e]='MS'+t,n['O'+e]='o'+t.toLowerCase(),n}function Gt(e){if(fa[e])return fa[e];if(!ma[e])return e;var t=ma[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ga)return fa[e]=t[n];return''}function Wt(e){return Object.prototype.hasOwnProperty.call(e,ba)||(e[ba]=va++,xa[e[ba]]={}),xa[e[ba]]}function jt(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xt(e,t){var n=jt(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=jt(n)}}function Yt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&('input'===t&&'text'===e.type||'textarea'===t||'true'===e.contentEditable)}function qt(e,t){if(Na||null==wa||wa!==$n())return null;var n=wa;return'selectionStart'in n&&Yt(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,Ia&&er(Ia,n)?null:(Ia=n,e=_e.getPooled(Ma.select,La,e,t),e.type='select',e.target=wa,j(e),e)}function Kt(e,t,n,r){return _e.call(this,e,t,n,r)}function Zt(e,t,n,r){return _e.call(this,e,t,n,r)}function Jt(e,t,n,r){return _e.call(this,e,t,n,r)}function Qt(e){var t=e.keyCode;return'charCode'in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,32<=e||13===e?e:0}function $t(e,t,n,r){return _e.call(this,e,t,n,r)}function en(e,t,n,r){return _e.call(this,e,t,n,r)}function tn(e,t,n,r){return _e.call(this,e,t,n,r)}function ae(e,t,n,r){return _e.call(this,e,t,n,r)}function be(e,t,n,r){return _e.call(this,e,t,n,r)}function ce(e){0>ge||(e.current=ee[ge],ee[ge]=null,ge--)}function V(e,t){ge++,ee[ge]=e.current,e.current=t}function W(e){return me(e)?X:he.current}function ke(t,n){var r=t.type.contextTypes;if(!r)return rr;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var o={},e;for(e in r)o[e]=n[e];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=o),o}function me(e){return 2===e.tag&&null!=e.type.childContextTypes}function le(e){me(e)&&(ce(ie,e),ce(he,e))}function ne(e,t,n){null==he.cursor?void 0:o('168'),V(he,t,e),V(ie,n,e)}function oe(t,n){var r=t.stateNode,a=t.type.childContextTypes;if('function'!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext(),r)i in a?void 0:o('108',At(t)||'Unknown',i);return l({},n,r)}function pe(e){if(!me(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||rr,X=he.current,V(he,t,e),V(ie,ie.current,e),!0}function qe(e,t){var n=e.stateNode;if(n?void 0:o('169'),t){var r=oe(e,X);n.__reactInternalMemoizedMergedChildContext=r,ce(ie,e),ce(he,e),V(he,r,e)}else ce(ie,e);V(ie,t,e)}function re(e,t,n){this.tag=e,this.key=t,this.stateNode=this.type=null,this.sibling=this.child=this['return']=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Y(e,t,n){var r=e.alternate;return null===r?(r=new re(e.tag,e.key,e.internalContextTag),r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.pendingProps=t,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function se(t,n,r){var a=t.type,i=t.key,s;return'function'==typeof a?(s=a.prototype&&a.prototype.isReactComponent?new re(2,i,n):new re(0,i,n),s.type=a,s.pendingProps=t.props):'string'==typeof a?(s=new re(5,i,n),s.type=a,s.pendingProps=t.props):'object'==typeof a&&null!==a&&'number'==typeof a.tag?(s=a,s.pendingProps=t.props):o('130',null==a?a:typeof a,''),s.expirationTime=r,s}function te(e,t,n,r){return t=new re(10,r,t),t.pendingProps=e,t.expirationTime=n,t}function ue(e,t,n){return t=new re(6,null,t),t.pendingProps=e,t.expirationTime=n,t}function ve(e,t,n){return t=new re(7,e.key,t),t.type=e.handler,t.pendingProps=e,t.expirationTime=n,t}function we(e,t,n){return e=new re(9,null,t),e.expirationTime=n,e}function xe(e,t,n){return t=new re(4,e.key,t),t.pendingProps=e.children||[],t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ye(e){return function(t){try{return e(t)}catch(e){}}}function Be(e){if('undefined'==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);je=ye(function(e){return t.onCommitFiberRoot(n,e)}),Ga=ye(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function Ce(e){'function'==typeof je&&je(e)}function nn(e){'function'==typeof Ga&&Ga(e)}function rn(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function Fe(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}function Ge(e,t){var n=e.alternate,r=e.updateQueue;null===r&&(r=e.updateQueue=rn(null)),null===n?e=null:(e=n.updateQueue,null===e&&(e=n.updateQueue=rn(null))),e=e===r?null:e,null===e?Fe(r,t):null===r.last||null===e.last?(Fe(r,t),Fe(e,t)):(Fe(r,t),e.last=t)}function He(e,t,n,r){return e=e.partialState,'function'==typeof e?e.call(t,n,r):e}function Ie(t,n,r,a,o,e){null!==t&&t.updateQueue===r&&(r=n.updateQueue={baseState:r.baseState,expirationTime:r.expirationTime,first:r.first,last:r.last,isInitialized:r.isInitialized,callbackList:null,hasForceUpdate:!1}),r.expirationTime=0,r.isInitialized?t=r.baseState:(t=r.baseState=n.memoizedState,r.isInitialized=!0);for(var i=!0,s=r.first,d=!1,p;null!==s;){if(p=s.expirationTime,p>e){var c=r.expirationTime;(0===c||c>p)&&(r.expirationTime=p),d||(d=!0,r.baseState=t)}else d||(r.first=s.next,null===r.first&&(r.last=null)),s.isReplace?(t=He(s,a,t,o),i=!0):(p=He(s,a,t,o))&&(t=i?l({},t,p):l(t,p),i=!1),s.isForced&&(r.hasForceUpdate=!0),null!==s.callback&&(p=r.callbackList,null===p&&(p=r.callbackList=[]),p.push(s));s=s.next}return null===r.callbackList?null!==r.first||r.hasForceUpdate||(n.updateQueue=null):n.effectTag|=32,d||(r.baseState=t),t}function Je(t,n){var r=t.callbackList;if(null!==r)for(t.callbackList=null,t=0;t<r.length;t++){var a=r[t],i=a.callback;a.callback=null,'function'==typeof i?void 0:o('191',i),i.call(n)}}function Ke(t,n,r,i){function s(e,t){t.updater=l,e.stateNode=t,t._reactInternalFiber=e}var l={isMounted:It,enqueueSetState:function(r,a,o){r=r._reactInternalFiber,o=void 0===o?null:o;var i=n(r);Ge(r,{expirationTime:i,partialState:a,callback:o,isReplace:!1,isForced:!1,nextCallback:null,next:null}),t(r,i)},enqueueReplaceState:function(r,a,o){r=r._reactInternalFiber,o=void 0===o?null:o;var i=n(r);Ge(r,{expirationTime:i,partialState:a,callback:o,isReplace:!0,isForced:!1,nextCallback:null,next:null}),t(r,i)},enqueueForceUpdate:function(r,a){r=r._reactInternalFiber,a=void 0===a?null:a;var o=n(r);Ge(r,{expirationTime:o,partialState:null,callback:a,isReplace:!1,isForced:!0,nextCallback:null,next:null}),t(r,o)}};return{adoptClassInstance:s,constructClassInstance:function(e,t){var n=e.type,r=W(e),a=2===e.tag&&null!=e.type.contextTypes,o=a?ke(e,r):rr;return t=new n(t,o),s(e,t),a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t},mountClassInstance:function(t,n){var r=t.alternate,a=t.stateNode,i=a.state||null,e=t.pendingProps;e?void 0:o('158');var s=W(t);a.props=e,a.state=t.memoizedState=i,a.refs=rr,a.context=ke(t,s),null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent&&(t.internalContextTag|=1),'function'==typeof a.componentWillMount&&(i=a.state,a.componentWillMount(),i!==a.state&&l.enqueueReplaceState(a,a.state,null),i=t.updateQueue,null!==i&&(a.state=Ie(r,t,i,a,e,n))),'function'==typeof a.componentDidMount&&(t.effectTag|=4)},updateClassInstance:function(t,n,a){var e=n.stateNode;e.props=n.memoizedProps,e.state=n.memoizedState;var s=n.memoizedProps,d=n.pendingProps;d||(d=s,null==d?o('159'):void 0);var p=e.context,c=W(n);if(c=ke(n,c),'function'!=typeof e.componentWillReceiveProps||s===d&&p===c||(p=e.state,e.componentWillReceiveProps(d,c),e.state!==p&&l.enqueueReplaceState(e,e.state,null)),p=n.memoizedState,a=null===n.updateQueue?p:Ie(t,n,n.updateQueue,e,d,a),!(s!==d||p!==a||ie.current||null!==n.updateQueue&&n.updateQueue.hasForceUpdate))return'function'!=typeof e.componentDidUpdate||s===t.memoizedProps&&p===t.memoizedState||(n.effectTag|=4),!1;var u=d;if(null===s||null!==n.updateQueue&&n.updateQueue.hasForceUpdate)u=!0;else{var m=n.stateNode,f=n.type;u='function'==typeof m.shouldComponentUpdate?m.shouldComponentUpdate(u,a,c):f.prototype&&f.prototype.isPureReactComponent?!er(s,u)||!er(p,a):!0}return u?('function'==typeof e.componentWillUpdate&&e.componentWillUpdate(d,a,c),'function'==typeof e.componentDidUpdate&&(n.effectTag|=4)):('function'!=typeof e.componentDidUpdate||s===t.memoizedProps&&p===t.memoizedState||(n.effectTag|=4),r(n,d),i(n,a)),e.props=d,e.state=a,e.context=c,u}}}function Le(e){return null===e||'undefined'==typeof e?null:(e=Ve&&e[Ve]||e['@@iterator'],'function'==typeof e?e:null)}function Xe(t,n){var r=n.ref;if(null!==r&&'function'!=typeof r){if(n._owner){n=n._owner;var i;n&&(2===n.tag?void 0:o('110'),i=n.stateNode),i?void 0:o('147',r);var s=''+r;return null!==t&&null!==t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs===rr?i.refs={}:i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}'string'==typeof r?void 0:o('148'),n._owner?void 0:o('149',r)}return r}function Ze(e,t){'textarea'!==e.type&&o('31','[object Object]'===Object.prototype.toString.call(t)?'object with keys {'+Object.keys(t).join(', ')+'}':t,'')}function $e(t){function i(e,n){if(t){var r=e.lastEffect;null===r?e.firstEffect=e.lastEffect=n:(r.nextEffect=n,e.lastEffect=n),n.nextEffect=null,n.effectTag=8}}function s(e,n){if(!t)return null;for(;null!==n;)i(e,n),n=n.sibling;return null}function l(e,t){for(e=new Map;null!==t;)null===t.key?e.set(t.index,t):e.set(t.key,t),t=t.sibling;return e}function n(e,t,n){return e=Y(e,t,n),e.index=0,e.sibling=null,e}function d(e,n,r){return(e.index=r,!t)?n:(r=e.alternate,null!==r)?(r=r.index,r<n?(e.effectTag=2,n):r):(e.effectTag=2,n)}function e(e){return t&&null===e.alternate&&(e.effectTag=2),e}function r(e,t,r,a){return null===t||6!==t.tag?(t=ue(r,e.internalContextTag,a),t['return']=e,t):(t=n(t,r,a),t['return']=e,t)}function p(e,t,r,a){return null!==t&&t.type===r.type?(a=n(t,r.props,a),a.ref=Xe(t,r),a['return']=e,a):(a=se(r,e.internalContextTag,a),a.ref=Xe(t,r),a['return']=e,a)}function m(e,t,r,a){return null===t||7!==t.tag?(t=ve(r,e.internalContextTag,a),t['return']=e,t):(t=n(t,r,a),t['return']=e,t)}function f(e,t,r,a){return null===t||9!==t.tag?(t=we(r,e.internalContextTag,a),t.type=r.value,t['return']=e,t):(t=n(t,null,a),t.type=r.value,t['return']=e,t)}function g(e,t,r,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?(t=xe(r,e.internalContextTag,a),t['return']=e,t):(t=n(t,r.children||[],a),t['return']=e,t)}function h(e,t,r,a,o){return null===t||10!==t.tag?(t=te(r,e.internalContextTag,a,o),t['return']=e,t):(t=n(t,r,a),t['return']=e,t)}function c(e,t,n){if('string'==typeof t||'number'==typeof t)return t=ue(''+t,e.internalContextTag,n),t['return']=e,t;if('object'==typeof t&&null!==t){switch(t.$$typeof){case Qe:return t.type===ja?(t=te(t.props.children,e.internalContextTag,n,t.key),t['return']=e,t):(n=se(t,e.internalContextTag,n),n.ref=Xe(null,t),n['return']=e,n);case Re:return t=ve(t,e.internalContextTag,n),t['return']=e,t;case Se:return n=we(t,e.internalContextTag,n),n.type=t.value,n['return']=e,n;case Te:return t=xe(t,e.internalContextTag,n),t['return']=e,t;}if(We(t)||Le(t))return t=te(t,e.internalContextTag,n,null),t['return']=e,t;Ze(e,t)}return null}function u(t,n,a,o){var i=null===n?null:n.key;if('string'==typeof a||'number'==typeof a)return null===i?r(t,n,''+a,o):null;if('object'==typeof a&&null!==a){switch(a.$$typeof){case Qe:return a.key===i?a.type===ja?h(t,n,a.props.children,o,i):p(t,n,a,o):null;case Re:return a.key===i?m(t,n,a,o):null;case Se:return null===i?f(t,n,a,o):null;case Te:return a.key===i?g(t,n,a,o):null;}if(We(a)||Le(a))return null===i?h(t,n,a,o,null):null;Ze(t,a)}return null}function y(t,n,a,o,i){if('string'==typeof o||'number'==typeof o)return t=t.get(a)||null,r(n,t,''+o,i);if('object'==typeof o&&null!==o){switch(o.$$typeof){case Qe:return t=t.get(null===o.key?a:o.key)||null,o.type===ja?h(n,t,o.props.children,i,o.key):p(n,t,o,i);case Re:return t=t.get(null===o.key?a:o.key)||null,m(n,t,o,i);case Se:return t=t.get(a)||null,f(n,t,o,i);case Te:return t=t.get(null===o.key?a:o.key)||null,g(n,t,o,i);}if(We(o)||Le(o))return t=t.get(a)||null,h(n,t,o,i,null);Ze(n,o)}return null}function x(o,e,a,p){for(var m=null,f=null,r=e,n=e=0,g=null;null!==r&&n<a.length;n++){r.index>n?(g=r,r=null):g=r.sibling;var h=u(o,r,a[n],p);if(null===h){null===r&&(r=g);break}t&&r&&null===h.alternate&&i(o,r),e=d(h,e,n),null==f?m=h:f.sibling=h,f=h,r=g}if(n===a.length)return s(o,r),m;if(null===r){for(;n<a.length;n++)(r=c(o,a[n],p))&&(e=d(r,e,n),null===f?m=r:f.sibling=r,f=r);return m}for(r=l(o,r);n<a.length;n++)(g=y(r,o,n,a[n],p))&&(t&&null!==g.alternate&&r['delete'](null===g.key?n:g.key),e=d(g,e,n),null===f?m=g:f.sibling=g,f=g);return t&&r.forEach(function(e){return i(o,e)}),m}function v(p,e,a,m){var f=Le(a);'function'==typeof f?void 0:o('150'),a=f.call(a),null==a?o('151'):void 0;for(var g=f=null,r=e,n=e=0,v=null,b=a.next();null!==r&&!b.done;n++,b=a.next()){r.index>n?(v=r,r=null):v=r.sibling;var x=u(p,r,b.value,m);if(null===x){r||(r=v);break}t&&r&&null===x.alternate&&i(p,r),e=d(x,e,n),null==g?f=x:g.sibling=x,g=x,r=v}if(b.done)return s(p,r),f;if(null===r){for(;!b.done;n++,b=a.next())b=c(p,b.value,m),null!==b&&(e=d(b,e,n),null===g?f=b:g.sibling=b,g=b);return f}for(r=l(p,r);!b.done;n++,b=a.next())(b=y(r,p,n,b.value,m),null!==b)&&(t&&null!==b.alternate&&r['delete'](null===b.key?n:b.key),e=d(b,e,n),null===g?f=b:g.sibling=b,g=b);return t&&r.forEach(function(e){return i(p,e)}),f}return function(t,a,d,l){'object'==typeof d&&null!==d&&d.type===ja&&null===d.key&&(d=d.props.children);var p='object'==typeof d&&null!==d;if(p)switch(d.$$typeof){case Qe:a:{var c=d.key;for(p=a;null!==p;){if(p.key!==c)i(t,p);else if(10===p.tag?d.type===ja:p.type===d.type){s(t,p.sibling),a=n(p,d.type===ja?d.props.children:d.props,l),a.ref=Xe(p,d),a['return']=t,t=a;break a}else{s(t,p);break}p=p.sibling}d.type===ja?(a=te(d.props.children,t.internalContextTag,l,d.key),a['return']=t,t=a):(l=se(d,t.internalContextTag,l),l.ref=Xe(a,d),l['return']=t,t=l)}return e(t);case Re:a:{for(p=d.key;null!==a;){if(a.key!==p)i(t,a);else if(7===a.tag){s(t,a.sibling),a=n(a,d,l),a['return']=t,t=a;break a}else{s(t,a);break}a=a.sibling}a=ve(d,t.internalContextTag,l),a['return']=t,t=a}return e(t);case Se:a:{if(null!==a)if(9===a.tag){s(t,a.sibling),a=n(a,null,l),a.type=d.value,a['return']=t,t=a;break a}else s(t,a);a=we(d,t.internalContextTag,l),a.type=d.value,a['return']=t,t=a}return e(t);case Te:a:{for(p=d.key;null!==a;){if(a.key!==p)i(t,a);else if(4===a.tag&&a.stateNode.containerInfo===d.containerInfo&&a.stateNode.implementation===d.implementation){s(t,a.sibling),a=n(a,d.children||[],l),a['return']=t,t=a;break a}else{s(t,a);break}a=a.sibling}a=xe(d,t.internalContextTag,l),a['return']=t,t=a}return e(t);}if('string'==typeof d||'number'==typeof d)return d=''+d,null!==a&&6===a.tag?(s(t,a.sibling),a=n(a,d,l)):(s(t,a),a=ue(d,t.internalContextTag,l)),a['return']=t,t=a,e(t);if(We(d))return x(t,a,d,l);if(Le(d))return v(t,a,d,l);if(p&&Ze(t,d),'undefined'==typeof d)switch(t.tag){case 2:case 1:l=t.type,o('152',l.displayName||l.name||'Component');}return s(t,a)}}function an(t,n,r,a,i){function s(e,t,n){var r=t.expirationTime;t.child=null===e?Xa(t,null,n,r):Ye(t,e.child,n,r)}function l(e,t){var n=t.ref;null===n||e&&e.ref===n||(t.effectTag|=128)}function p(t,n,r,a){if(l(t,n),!r)return a&&qe(n,!1),g(t,n);r=n.stateNode,la.current=n;var o=r.render();return n.effectTag|=1,s(t,n,o),n.memoizedState=r.state,n.memoizedProps=r.props,a&&qe(n,!0),n.child}function f(e){var t=e.stateNode;t.pendingContext?ne(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ne(e,t.context,!1),d(e,t.containerInfo)}function g(e,t){if(null!==e&&t.child!==e.child?o('153'):void 0,null!==t.child){e=t.child;var n=Y(e,e.pendingProps,e.expirationTime);for(t.child=n,n['return']=t;null!==e.sibling;)e=e.sibling,n=n.sibling=Y(e,e.pendingProps,e.expirationTime),n['return']=t;n.sibling=null}return t.child}function h(e,t){switch(t.tag){case 3:f(t);break;case 2:pe(t);break;case 4:d(t,t.stateNode.containerInfo);}return null}var x=t.shouldSetTextContent,y=t.useSyncScheduling,v=t.shouldDeprioritizeSubtree,_=n.pushHostContext,d=n.pushHostContainer,E=r.enterHydrationState,T=r.resetHydrationState,S=r.tryToClaimNextHydratableInstance;t=Ke(a,i,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t});var C=t.adoptClassInstance,M=t.constructClassInstance,m=t.mountClassInstance,w=t.updateClassInstance;return{beginWork:function(t,a,i){if(0===a.expirationTime||a.expirationTime>i)return h(t,a);switch(a.tag){case 0:null===t?void 0:o('155');var c=a.type,b=a.pendingProps,e=W(a);return e=ke(a,e),c=c(b,e),a.effectTag|=1,'object'==typeof c&&null!==c&&'function'==typeof c.render?(a.tag=2,b=pe(a),C(a,c),m(a,i),a=p(t,a,!0,b)):(a.tag=1,s(t,a,c),a.memoizedProps=b,a=a.child),a;case 1:a:{if(b=a.type,i=a.pendingProps,c=a.memoizedProps,ie.current)null===i&&(i=c);else if(null===i||c===i){a=g(t,a);break a}c=W(a),c=ke(a,c),b=b(i,c),a.effectTag|=1,s(t,a,b),a.memoizedProps=i,a=a.child}return a;case 2:return b=pe(a),c=void 0,null===t?a.stateNode?o('153'):(M(a,a.pendingProps),m(a,i),c=!0):c=w(t,a,i),p(t,a,c,b);case 3:return f(a),b=a.updateQueue,null===b?(T(),a=g(t,a)):(c=a.memoizedState,b=Ie(t,a,b,null,null,i),c===b?(T(),a=g(t,a)):(c=b.element,e=a.stateNode,(null===t||null===t.child)&&e.hydrate&&E(a)?(a.effectTag|=2,a.child=Xa(a,null,c,i)):(T(),s(t,a,c)),a.memoizedState=b,a=a.child)),a;case 5:_(a),null===t&&S(a),b=a.type;var r=a.memoizedProps;return c=a.pendingProps,null===c&&(c=r,null===c?o('154'):void 0),e=null===t?null:t.memoizedProps,ie.current||null!==c&&r!==c?(r=c.children,x(b,c)?r=null:e&&x(b,e)&&(a.effectTag|=16),l(t,a),2147483647!==i&&!y&&v(b,c)?(a.expirationTime=2147483647,a=null):(s(t,a,r),a.memoizedProps=c,a=a.child)):a=g(t,a),a;case 6:return null===t&&S(a),t=a.pendingProps,null===t&&(t=a.memoizedProps),a.memoizedProps=t,null;case 8:a.tag=7;case 7:return b=a.pendingProps,ie.current?null===b&&(b=t&&t.memoizedProps,null===b?o('154'):void 0):(null===b||a.memoizedProps===b)&&(b=a.memoizedProps),c=b.children,a.stateNode=null===t?Xa(a,a.stateNode,c,i):Ye(a,a.stateNode,c,i),a.memoizedProps=b,a.stateNode;case 9:return null;case 4:a:{if(d(a,a.stateNode.containerInfo),b=a.pendingProps,ie.current)null===b&&(b=t&&t.memoizedProps,null==b?o('154'):void 0);else if(null===b||a.memoizedProps===b){a=g(t,a);break a}null===t?a.child=Ye(a,null,b,i):s(t,a,b),a.memoizedProps=b,a=a.child}return a;case 10:a:{if(i=a.pendingProps,ie.current)null===i&&(i=a.memoizedProps);else if(null===i||a.memoizedProps===i){a=g(t,a);break a}s(t,a,i),a.memoizedProps=i,a=a.child}return a;default:o('156');}},beginFailedWork:function(e,t,n){switch(t.tag){case 2:pe(t);break;case 3:f(t);break;default:o('157');}return(t.effectTag|=64,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),0===t.expirationTime||t.expirationTime>n)?h(e,t):(t.firstEffect=null,t.lastEffect=null,t.child=null===e?Xa(t,null,null,n):Ye(t,e.child,null,n),2===t.tag&&(e=t.stateNode,t.memoizedProps=e.props,t.memoizedState=e.state),t.child)}}}function on(t,n,r){function i(e){e.effectTag|=4}var s=t.createInstance,e=t.createTextInstance,d=t.appendInitialChild,l=t.finalizeInitialChildren,f=t.prepareUpdate,a=t.persistence,g=n.getRootHostContainer,h=n.popHostContext,y=n.getHostContext,u=n.popHostContainer,x=r.prepareToHydrateHostInstance,p=r.prepareToHydrateHostTextInstance,v=r.popHydrationState,_,E,T;return t.mutation?(_=function(){},E=function(e,t,n){(t.updateQueue=n)&&i(t)},T=function(t,n,r,a){r!==a&&i(n)}):a?o('235'):o('236'),{completeWork:function(t,n,r){var a=n.pendingProps;switch(null===a?a=n.memoizedProps:(2147483647!==n.expirationTime||2147483647===r)&&(n.pendingProps=null),n.tag){case 1:return null;case 2:return le(n),null;case 3:return u(n),ce(ie,n),ce(he,n),a=n.stateNode,a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(null===t||null===t.child)&&(v(n),n.effectTag&=-3),_(n),null;case 5:h(n),r=g();var c=n.type;if(null!==t&&null!=n.stateNode){var b=t.memoizedProps,S=n.stateNode,C=y();S=f(S,c,b,a,r,C),E(t,n,S,c,b,a,r),t.ref!==n.ref&&(n.effectTag|=128)}else{if(!a)return null===n.stateNode?o('166'):void 0,null;if(t=y(),v(n))x(n,r,t)&&i(n);else{t=s(c,a,r,t,n);a:for(b=n.child;null!==b;){if(5===b.tag||6===b.tag)d(t,b.stateNode);else if(4!==b.tag&&null!==b.child){b.child['return']=b,b=b.child;continue}if(b===n)break;for(;null===b.sibling;){if(null===b['return']||b['return']===n)break a;b=b['return']}b.sibling['return']=b['return'],b=b.sibling}l(t,c,a,r)&&i(n),n.stateNode=t}null!==n.ref&&(n.effectTag|=128)}return null;case 6:if(t&&null!=n.stateNode)T(t,n,t.memoizedProps,a);else{if('string'!=typeof a)return null===n.stateNode?o('166'):void 0,null;t=g(),r=y(),v(n)?p(n)&&i(n):n.stateNode=e(a,t,r,n)}return null;case 7:(a=n.memoizedProps)?void 0:o('165'),n.tag=8,c=[];a:for((b=n.stateNode)&&(b['return']=n);null!==b;){if(5===b.tag||6===b.tag||4===b.tag)o('247');else if(9===b.tag)c.push(b.type);else if(null!==b.child){b.child['return']=b,b=b.child;continue}for(;null===b.sibling;){if(null===b['return']||b['return']===n)break a;b=b['return']}b.sibling['return']=b['return'],b=b.sibling}return b=a.handler,a=b(a.props,c),n.child=Ye(n,null===t?null:t.child,a,r),n.child;case 8:return n.tag=7,null;case 9:return null;case 10:return null;case 4:return u(n),_(n),null;case 0:o('167');default:o('156');}}}}function sn(t,n){function r(e){var t=e.ref;if(null!==t)try{t(null)}catch(t){n(e,t)}}function i(e){switch('function'==typeof nn&&nn(e),e.tag){case 2:r(e);var t=e.stateNode;if('function'==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){n(e,t)}break;case 5:r(e);break;case 7:s(e.stateNode);break;case 4:p&&l(e);}}function s(e){for(var t=e;;)if(i(t),null===t.child||p&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t['return']||t['return']===e)return;t=t['return']}t.sibling['return']=t['return'],t=t.sibling}else t.child['return']=t,t=t.child}function e(e){return 5===e.tag||3===e.tag||4===e.tag}function l(e){for(var t=e,n=!1,r=void 0,a=void 0;;){if(!n){n=t['return'];a:for(;;){switch(null===n?o('160'):void 0,n.tag){case 5:r=n.stateNode,a=!1;break a;case 3:r=n.stateNode.containerInfo,a=!0;break a;case 4:r=n.stateNode.containerInfo,a=!0;break a;}n=n['return']}n=!0}if(5===t.tag||6===t.tag)s(t),a?E(r,t.stateNode):_(r,t.stateNode);else if(4===t.tag?r=t.stateNode.containerInfo:i(t),null!==t.child){t.child['return']=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t['return']||t['return']===e)return;t=t['return'],4===t.tag&&(n=!1)}t.sibling['return']=t['return'],t=t.sibling}}var d=t.getPublicInstance,p=t.mutation;t=t.persistence,p||(t?o('235'):o('236'));var m=p.commitMount,g=p.commitUpdate,f=p.resetTextContent,h=p.commitTextUpdate,u=p.appendChild,y=p.appendChildToContainer,x=p.insertBefore,v=p.insertInContainerBefore,_=p.removeChild,E=p.removeChildFromContainer;return{commitResetTextContent:function(e){f(e.stateNode)},commitPlacement:function(t){a:{for(var n=t['return'];null!==n;){if(e(n)){var r=n;break a}n=n['return']}o('160'),r=void 0}var a=n=void 0;switch(r.tag){case 5:n=r.stateNode,a=!1;break;case 3:n=r.stateNode.containerInfo,a=!0;break;case 4:n=r.stateNode.containerInfo,a=!0;break;default:o('161');}16&r.effectTag&&(f(n),r.effectTag&=-17);a:b:for(r=t;;){for(;null===r.sibling;){if(null===r['return']||e(r['return'])){r=null;break a}r=r['return']}for(r.sibling['return']=r['return'],r=r.sibling;5!==r.tag&&6!==r.tag;){if(2&r.effectTag)continue b;if(null===r.child||4===r.tag)continue b;else r.child['return']=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break a}}for(var i=t;;){if(5===i.tag||6===i.tag)r?a?v(n,i.stateNode,r):x(n,i.stateNode,r):a?y(n,i.stateNode):u(n,i.stateNode);else if(4!==i.tag&&null!==i.child){i.child['return']=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i['return']||i['return']===t)return;i=i['return']}i.sibling['return']=i['return'],i=i.sibling}},commitDeletion:function(e){l(e),e['return']=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate['return']=null)},commitWork:function(t,n){switch(n.tag){case 2:break;case 5:var r=n.stateNode;if(null!=r){var a=n.memoizedProps;t=null===t?a:t.memoizedProps;var i=n.type,e=n.updateQueue;n.updateQueue=null,null!==e&&g(r,e,i,t,a,n)}break;case 6:null===n.stateNode?o('162'):void 0,r=n.memoizedProps,h(n.stateNode,null===t?r:t.memoizedProps,r);break;case 3:break;default:o('163');}},commitLifeCycles:function(e,t){switch(t.tag){case 2:var n=t.stateNode;if(4&t.effectTag)if(null===e)n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidMount();else{var r=e.memoizedProps;e=e.memoizedState,n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidUpdate(r,e)}t=t.updateQueue,null!==t&&Je(t,n);break;case 3:n=t.updateQueue,null!==n&&Je(n,null===t.child?null:t.child.stateNode);break;case 5:n=t.stateNode,null===e&&4&t.effectTag&&m(n,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;default:o('163');}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:t(d(n));break;default:t(n);}}},commitDetachRef:function(e){e=e.ref,null!==e&&e(null)}}}function dn(t){function n(e){return e===Ya?o('174'):void 0,e}var r=t.getChildHostContext,i=t.getRootHostContext,s={current:Ya},e={current:Ya},l={current:Ya};return{getHostContext:function(){return n(s.current)},getRootHostContainer:function(){return n(l.current)},popHostContainer:function(t){ce(s,t),ce(e,t),ce(l,t)},popHostContext:function(t){e.current===t&&(ce(s,t),ce(e,t))},pushHostContainer:function(t,n){V(l,n,t),n=i(n),V(e,t,t),V(s,n,t)},pushHostContext:function(t){var a=n(l.current),o=n(s.current);a=r(o,t.type,a),o!==a&&(V(e,t,t),V(s,a,t))},resetHostContainer:function(){s.current=Ya,l.current=Ya}}}function ln(t){function n(e,t){var n=new re(5,null,0);n.type='DELETED',n.stateNode=t,n['return']=e,n.effectTag=8,null===e.lastEffect?e.firstEffect=e.lastEffect=n:(e.lastEffect.nextEffect=n,e.lastEffect=n)}function r(t,n){switch(t.tag){case 5:return n=e(n,t.type,t.pendingProps),null!==n&&(t.stateNode=n,!0);case 6:return n=d(n,t.pendingProps),null!==n&&(t.stateNode=n,!0);default:return!1;}}function i(e){for(e=e['return'];null!==e&&5!==e.tag&&3!==e.tag;)e=e['return'];f=e}var s=t.shouldSetTextContent;if(t=t.hydration,!t)return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){o('175')},prepareToHydrateHostTextInstance:function(){o('176')},popHydrationState:function(){return!1}};var e=t.canHydrateInstance,d=t.canHydrateTextInstance,l=t.getNextHydratableSibling,p=t.getFirstHydratableChild,m=t.hydrateInstance,c=t.hydrateTextInstance,f=null,g=null,u=!1;return{enterHydrationState:function(e){return g=p(e.stateNode.containerInfo),f=e,u=!0},resetHydrationState:function(){g=f=null,u=!1},tryToClaimNextHydratableInstance:function(e){if(u){var t=g;if(t){if(!r(e,t)){if(t=l(t),!t||!r(e,t))return e.effectTag|=2,u=!1,void(f=e);n(f,g)}f=e,g=p(t)}else e.effectTag|=2,u=!1,f=e}},prepareToHydrateHostInstance:function(e,t,n){return t=m(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return c(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==f)return!1;if(!u)return i(e),u=!0,!1;var t=e.type;if(5!==e.tag||'head'!==t&&'body'!==t&&!s(t,e.memoizedProps))for(t=g;t;)n(e,t),t=l(t);return i(e),g=f?l(e.stateNode):null,!0}}}function pn(i){function s(n){fe=se=!0;var r=n.stateNode;if(r.current===n?o('177'):void 0,r.isReadyForCommit=!1,la.current=null,!(1<n.effectTag))a=n.firstEffect;else if(null!==n.lastEffect){n.lastEffect.nextEffect=n;var a=n.firstEffect}else a=n;for(te(),H=a;null!==H;){var i=!1,s=void 0;try{for(;null!==H;){var e=H.effectTag;if(16&e&&B(H),128&e){var d=H.alternate;null!==d&&K(d)}switch(-242&e){case 2:V(H),H.effectTag&=-3;break;case 6:V(H),H.effectTag&=-3,W(H.alternate,H);break;case 4:W(H.alternate,H);break;case 8:ye=!0,G(H),ye=!1;}H=H.nextEffect}}catch(e){i=!0,s=e}i&&(null===H?o('178'):void 0,E(H,s),null!==H&&(H=H.nextEffect))}for(ne(),r.current=n,H=a;null!==H;){a=!1,i=void 0;try{for(;null!==H;){var l=H.effectTag;if(36&l&&j(H.alternate,H),128&l&&q(H),64&l)switch(s=H,e=void 0,null!==t&&(e=t.get(s),t['delete'](s),null==e&&null!==s.alternate&&(s=s.alternate,e=t.get(s),t['delete'](s))),null==e?o('184'):void 0,s.tag){case 2:s.stateNode.componentDidCatch(e.error,{componentStack:e.componentStack});break;case 3:null===ue&&(ue=e.error);break;default:o('157');}var p=H.nextEffect;H.nextEffect=null,H=p}}catch(e){a=!0,i=e}a&&(null===H?o('178'):void 0,E(H,i),null!==H&&(H=H.nextEffect))}return se=fe=!1,'function'==typeof Ce&&Ce(n.stateNode),ce&&(ce.forEach(C),ce=null),null!==ue&&(n=ue,ue=null,A(n)),r=r.current.expirationTime,0===r&&(R=t=null),r}function l(t){for(;;){var n=z(t.alternate,t,pe),r=t['return'],a=t.sibling,o=t;if(2147483647===pe||2147483647!==o.expirationTime){if(2!==o.tag&&3!==o.tag)var e=0;else e=o.updateQueue,e=null===e?0:e.expirationTime;for(var i=o.child;null!==i;)0!==i.expirationTime&&(0===e||e>i.expirationTime)&&(e=i.expirationTime),i=i.sibling;o.expirationTime=e}if(null!==n)return n;if(null!==r&&(null===r.firstEffect&&(r.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=t.firstEffect),r.lastEffect=t.lastEffect),1<t.effectTag&&(null===r.lastEffect?r.firstEffect=t:r.lastEffect.nextEffect=t,r.lastEffect=t)),null!==a)return a;if(null!==r)t=r;else{t.stateNode.isReadyForCommit=!0;break}}return null}function a(e){var t=U(e.alternate,e,pe);return null===t&&(t=l(e)),la.current=null,t}function _(e){var t=k(e.alternate,e,pe);return null===t&&(t=l(e)),la.current=null,t}function e(e){if(null!=t){if(!(0===pe||pe>e))if(pe<=ae)for(;null!==de;)de=d(de)?_(de):a(de);else for(;null!==de&&!m();)de=d(de)?_(de):a(de);}else if(!(0===pe||pe>e))if(pe<=ae)for(;null!==de;)de=a(de);else for(;null!==de&&!m();)de=a(de)}function f(t,r){if(se?o('243'):void 0,se=!0,t.isReadyForCommit=!1,t!==F||r!==pe||null===de){for(;-1<ge;)ee[ge]=null,ge--;X=rr,he.current=rr,ie.current=!1,D(),F=t,pe=r,de=Y(F.current,null,r)}var a=!1,i=null;try{e(r)}catch(e){a=!0,i=e}for(;a;){if(me){ue=i;break}var s=de;if(null===s)me=!0;else{var d=E(s,i);if(null===d?o('183'):void 0,!me){try{for(a=d,i=r,d=a;null!=s;){switch(s.tag){case 2:le(s);break;case 5:p(s);break;case 3:n(s);break;case 4:n(s);}if(s===d||s.alternate===d)break;s=s['return']}de=_(a),e(i)}catch(e){a=!0,i=e;continue}break}}}return r=ue,me=se=!1,ue=null,null!==r&&A(r),t.isReadyForCommit?t.current.alternate:null}function E(r,o){var i=la.current=null,s=!1,l=!1,c=null;if(3===r.tag)i=r,T(r)&&(me=!0);else for(var u=r['return'];null!==u&&null==i;){if(2===u.tag?'function'==typeof u.stateNode.componentDidCatch&&(s=!0,c=At(u),i=u,l=!0):3===u.tag&&(i=u),T(u)){if(ye||null!=ce&&(ce.has(u)||null!==u.alternate&&ce.has(u.alternate)))return null;i=null,l=!1}u=u['return']}if(null!==i){null==R&&(R=new Set),R.add(i);var y='';u=r;do{a:switch(u.tag){case 0:case 1:case 2:case 5:var x=u._debugOwner,v=u._debugSource,_=At(u),m=null;x&&(m=At(x)),x=v,_='\n    in '+(_||'Unknown')+(x?' (at '+x.fileName.replace(/^.*[\\\/]/,'')+':'+x.lineNumber+')':m?' (created by '+m+')':'');break a;default:_='';}y+=_,u=u['return']}while(u);u=y,r=At(r),null==t&&(t=new Map),o={componentName:r,componentStack:u,error:o,errorBoundary:s?i.stateNode:null,errorBoundaryFound:s,errorBoundaryName:c,willRetry:l},t.set(i,o);try{var n=o.error;n&&n.suppressReactErrorLogging||console.error(n)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}return fe?(null==ce&&(ce=new Set),ce.add(i)):C(i),i}return null===ue&&(ue=o),null}function d(e){return null!==t&&(t.has(e)||null!==e.alternate&&t.has(e.alternate))}function T(e){return null!==R&&(R.has(e)||null!==e.alternate&&R.has(e.alternate))}function c(){return 20*((0|(b()+100)/20)+1)}function g(e){return 0===oe?se?fe?1:pe:!$||1&e.internalContextTag?c():1:oe}function h(e,t){return S(e,t,!1)}function S(t,n){for(;null!==t;){if((0===t.expirationTime||t.expirationTime>n)&&(t.expirationTime=n),null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>n)&&(t.alternate.expirationTime=n),null===t['return'])if(3===t.tag){var r=t.stateNode;!se&&r===F&&n<pe&&(de=F=null,pe=0);var a=r,i=n;if(Ie>Le&&o('185'),null===a.nextScheduledRoot)a.remainingExpirationTime=i,null===ve?(xe=ve=a,a.nextScheduledRoot=a):(ve=ve.nextScheduledRoot=a,ve.nextScheduledRoot=xe);else{var e=a.remainingExpirationTime;(0===e||i<e)&&(a.remainingExpirationTime=i)}_e||(Pe?Ae&&(Ee=a,Te=1,w(Ee,Te)):1===i?I(1,null):M(i)),!se&&r===F&&n<pe&&(de=F=null,pe=0)}else break;t=t['return']}}function C(e){S(e,1,!0)}function b(){return ae=(0|(Z()-re)/10)+2}function M(e){if(0!==O){if(e>O)return;Q(be)}var t=Z()-re;O=e,be=J(L,{timeout:10*(e-2)-t})}function P(){var t=0,n=null;if(null!==ve)for(var r=ve,a=xe,i;null!==a;)if(i=a.remainingExpirationTime,0===i){if(null===r||null===ve?o('244'):void 0,a===a.nextScheduledRoot){xe=ve=a.nextScheduledRoot=null;break}else if(a===xe)xe=i=a.nextScheduledRoot,ve.nextScheduledRoot=i,a.nextScheduledRoot=null;else if(a===ve){ve=r,ve.nextScheduledRoot=xe,a.nextScheduledRoot=null;break}else r.nextScheduledRoot=a.nextScheduledRoot,a.nextScheduledRoot=null;a=r.nextScheduledRoot}else{if((0==t||i<t)&&(t=i,n=a),a===ve)break;r=a,a=a.nextScheduledRoot}r=Ee,null!==r&&r===n?Ie++:Ie=0,Ee=n,Te=t}function L(e){I(0,e)}function I(e,t){for(Re=t,P();null!==Ee&&0!=Te&&(0===e||Te<=e)&&!Se;)w(Ee,Te),P();if(null!==Re&&(O=0,be=-1),0!=Te&&M(Te),Re=null,Se=!1,Ie=0,Me)throw e=we,we=null,Me=!1,e}function w(e,t){if(_e?o('245'):void 0,_e=!0,t<=b()){var n=e.finishedWork;null===n?(e.finishedWork=null,n=f(e,t),null!==n&&(e.remainingExpirationTime=s(n))):(e.finishedWork=null,e.remainingExpirationTime=s(n))}else n=e.finishedWork,null===n?(e.finishedWork=null,n=f(e,t),null!==n&&(m()?e.finishedWork=n:e.remainingExpirationTime=s(n))):(e.finishedWork=null,e.remainingExpirationTime=s(n));_e=!1}function m(){return null===Re||Re.timeRemaining()>Ne?!1:Se=!0}function A(e){null===Ee?o('246'):void 0,Ee.remainingExpirationTime=0,Me||(Me=!0,we=e)}var N=dn(i),r=ln(i),n=N.popHostContainer,p=N.popHostContext,D=N.resetHostContainer,x=an(i,N,r,h,g),U=x.beginWork,k=x.beginFailedWork,z=on(i,N,r).completeWork;N=sn(i,E);var B=N.commitResetTextContent,V=N.commitPlacement,G=N.commitDeletion,W=N.commitWork,j=N.commitLifeCycles,q=N.commitAttachRef,K=N.commitDetachRef,Z=i.now,J=i.scheduleDeferredCallback,Q=i.cancelDeferredCallback,$=i.useSyncScheduling,te=i.prepareForCommit,ne=i.resetAfterCommit,re=Z(),ae=2,oe=0,se=!1,de=null,F=null,pe=0,H=null,t=null,R=null,ce=null,ue=null,me=!1,fe=!1,ye=!1,xe=null,ve=null,O=0,be=-1,_e=!1,Ee=null,Te=0,Se=!1,Me=!1,we=null,Re=null,Pe=!1,Ae=!1,Le=1E3,Ie=0,Ne=1;return{computeAsyncExpiration:c,computeExpirationForFiber:g,scheduleWork:h,batchedUpdates:function(e,t){var n=Pe;Pe=!0;try{return e(t)}finally{(Pe=n)||_e||I(1,null)}},unbatchedUpdates:function(e){if(Pe&&!Ae){Ae=!0;try{return e()}finally{Ae=!1}}return e()},flushSync:function(e){var t=Pe;Pe=!0;try{a:{var n=oe;oe=1;try{var r=e();break a}finally{oe=n}r=void 0}return r}finally{Pe=t,_e?o('187'):void 0,I(1,null)}},deferredUpdates:function(e){var t=oe;oe=c();try{return e()}finally{oe=t}}}}function cn(t){function n(e){return e=Ut(e),null===e?null:e.stateNode}var r=t.getPublicInstance;t=pn(t);var i=t.computeAsyncExpiration,s=t.computeExpirationForFiber,e=t.scheduleWork;return{createContainer:function(e,t){var n=new re(3,null,0);return e={current:n,containerInfo:e,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:t,nextScheduledRoot:null},n.stateNode=e},updateContainer:function(t,n,r,d){var l=n.current;if(r){r=r._reactInternalFiber;var p;b:{for(2===Lt(r)&&2===r.tag?void 0:o('170'),p=r;3!==p.tag;){if(me(p)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break b}(p=p['return'])?void 0:o('171')}p=p.stateNode.context}r=me(r)?oe(r,p):p}else r=rr;null===n.context?n.context=r:n.pendingContext=r,n=d,n=void 0===n?null:n,d=null!=t&&null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent?i():s(l),Ge(l,{expirationTime:d,partialState:{element:t},callback:n,isReplace:!1,isForced:!1,nextCallback:null,next:null}),e(l,d)},batchedUpdates:t.batchedUpdates,unbatchedUpdates:t.unbatchedUpdates,deferredUpdates:t.deferredUpdates,flushSync:t.flushSync,getPublicRootInstance:function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return r(e.child.stateNode);default:return e.child.stateNode;}},findHostInstance:n,findHostInstanceWithNoPortals:function(e){return e=kt(e),null===e?null:e.stateNode},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return Be(l({},e,{findHostInstanceByFiber:function(e){return n(e)},findFiberByHostInstance:function(e){return t?t(e):null}}))}}}function un(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Te,key:null==r?null:''+r,children:e,containerInfo:t,implementation:n}}function mn(e){return!!fo.hasOwnProperty(e)||!mo.hasOwnProperty(e)&&(uo.test(e)?fo[e]=!0:(mo[e]=!0,!1))}function fn(t,n,r){var a=s(n);if(a&&i(n,r)){var o=a.mutationMethod;o?o(t,r):null==r||a.hasBooleanValue&&!r||a.hasNumericValue&&isNaN(r)||a.hasPositiveNumericValue&&1>r||a.hasOverloadedBooleanValue&&!1===r?hn(t,n):a.mustUseProperty?t[a.propertyName]=r:(n=a.attributeName,(o=a.attributeNamespace)?t.setAttributeNS(o,n,''+r):a.hasBooleanValue||a.hasOverloadedBooleanValue&&!0===r?t.setAttribute(n,''):t.setAttribute(n,''+r))}else gn(t,n,i(n,r)?r:null)}function gn(e,t,n){mn(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,''+n))}function hn(e,t){var n=s(t);n?(t=n.mutationMethod)?t(e,void 0):n.mustUseProperty?e[n.propertyName]=!n.hasBooleanValue&&'':e.removeAttribute(n.attributeName):e.removeAttribute(t)}function yn(e,t){var n=t.value,r=t.checked;return l({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null==n?e._wrapperState.initialValue:n,checked:null==r?e._wrapperState.initialChecked:r})}function xn(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null==t.checked?t.defaultChecked:t.checked,initialValue:null==t.value?n:t.value,controlled:'checkbox'===t.type||'radio'===t.type?null!=t.checked:null!=t.value}}function vn(e,t){t=t.checked,null!=t&&fn(e,'checked',t)}function bn(e,t){vn(e,t);var n=t.value;null==n?(null==t.value&&null!=t.defaultValue&&e.defaultValue!==''+t.defaultValue&&(e.defaultValue=''+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)):0===n&&''===e.value?e.value='0':'number'===t.type?(t=parseFloat(e.value)||0,n!=t||n==t&&e.value!=n)&&(e.value=''+n):e.value!==''+n&&(e.value=''+n)}function _n(e,t){switch(t.type){case'submit':case'reset':break;case'color':case'date':case'datetime':case'datetime-local':case'month':case'time':case'week':e.value='',e.value=e.defaultValue;break;default:e.value=e.value;}t=e.name,''!==t&&(e.name=''),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,''!==t&&(e.name=t)}function En(e){var t='';return Jn.Children.forEach(e,function(e){null==e||'string'!=typeof e&&'number'!=typeof e||(t+=e)}),t}function Tn(e,t){return e=l({children:void 0},t),(t=En(t.children))&&(e.children=t),e}function Sn(t,n,r,a){if(t=t.options,n){n={};for(var o=0;o<r.length;o++)n['$'+r[o]]=!0;for(r=0;r<t.length;r++)o=n.hasOwnProperty('$'+t[r].value),t[r].selected!==o&&(t[r].selected=o),o&&a&&(t[r].defaultSelected=!0)}else{for(r=''+r,n=null,o=0;o<t.length;o++){if(t[o].value===r)return t[o].selected=!0,void(a&&(t[o].defaultSelected=!0));null!==n||t[o].disabled||(n=t[o])}null!==n&&(n.selected=!0)}}function Cn(e,t){var n=t.value;e._wrapperState={initialValue:null==n?t.defaultValue:n,wasMultiple:!!t.multiple}}function Mn(e,t){return null==t.dangerouslySetInnerHTML?void 0:o('91'),l({},t,{value:void 0,defaultValue:void 0,children:''+e._wrapperState.initialValue})}function wn(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null==n?void 0:o('92'),Array.isArray(t)&&(1>=t.length?void 0:o('93'),t=t[0]),n=''+t),null==n&&(n='')),e._wrapperState={initialValue:''+n}}function Rn(e,t){var n=t.value;null!=n&&(n=''+n,n!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Pn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function An(e){return'svg'===e?'http://www.w3.org/2000/svg':'math'===e?'http://www.w3.org/1998/Math/MathML':'http://www.w3.org/1999/xhtml'}function Ln(e,t){return null==e||'http://www.w3.org/1999/xhtml'===e?An(t):'http://www.w3.org/2000/svg'===e&&'foreignObject'===t?'http://www.w3.org/1999/xhtml':e}function In(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Nn(t,n){for(var r in t=t.style,n)if(n.hasOwnProperty(r)){var a=0===r.indexOf('--'),o=r,e=n[r];o=null==e||'boolean'==typeof e||''===e?'':a||'number'!=typeof e||0===e||yo.hasOwnProperty(o)&&yo[o]?(''+e).trim():e+'px','float'===r&&(r='cssFloat'),a?t.setProperty(r,o):t[r]=o}}function Dn(e,t,n){t&&(bo[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?o('137',e,n()):void 0),null!=t.dangerouslySetInnerHTML&&(null==t.children?void 0:o('60'),'object'==typeof t.dangerouslySetInnerHTML&&'__html'in t.dangerouslySetInnerHTML?void 0:o('61')),null!=t.style&&'object'!=typeof t.style?o('62',n()):void 0)}function Un(e,t){if(-1===e.indexOf('-'))return'string'==typeof t.is;return'annotation-xml'===e||'color-profile'===e||'font-face'===e||'font-face-src'===e||'font-face-uri'===e||'font-face-format'===e||'font-face-name'===e||'missing-glyph'===e?!1:!0}function kn(t,n){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var r=Wt(t);n=Er[n];for(var a=0,o;a<n.length;a++)o=n[a],r.hasOwnProperty(o)&&r[o]||('topScroll'===o?Bt('topScroll','scroll',t):'topFocus'===o||'topBlur'===o?(Bt('topFocus','focus',t),Bt('topBlur','blur',t),r.topBlur=!0,r.topFocus=!0):'topCancel'===o?(ct('cancel',!0)&&Bt('topCancel','cancel',t),r.topCancel=!0):'topClose'===o?(ct('close',!0)&&Bt('topClose','close',t),r.topClose=!0):ya.hasOwnProperty(o)&&zt(o,ya[o],t),r[o]=!0)}function On(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===_o&&(r=An(e)),r===_o?'script'===e?(e=n.createElement('div'),e.innerHTML='<script></script>',e=e.removeChild(e.firstChild)):e='string'==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function Fn(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function zn(t,n,r,a){var o=Un(n,r);switch(n){case'iframe':case'object':zt('topLoad','load',t);var e=r;break;case'video':case'audio':for(e in To)To.hasOwnProperty(e)&&zt(e,To[e],t);e=r;break;case'source':zt('topError','error',t),e=r;break;case'img':case'image':zt('topError','error',t),zt('topLoad','load',t),e=r;break;case'form':zt('topReset','reset',t),zt('topSubmit','submit',t),e=r;break;case'details':zt('topToggle','toggle',t),e=r;break;case'input':xn(t,r),e=yn(t,r),zt('topInvalid','invalid',t),kn(a,'onChange');break;case'option':e=Tn(t,r);break;case'select':Cn(t,r),e=l({},r,{value:void 0}),zt('topInvalid','invalid',t),kn(a,'onChange');break;case'textarea':wn(t,r),e=Mn(t,r),zt('topInvalid','invalid',t),kn(a,'onChange');break;default:e=r;}Dn(n,e,Eo);var i=e,s;for(s in i)if(i.hasOwnProperty(s)){var d=i[s];'style'===s?Nn(t,d,Eo):'dangerouslySetInnerHTML'===s?(d=d?d.__html:void 0,null!=d&&ho(t,d)):'children'===s?'string'==typeof d?('textarea'!==n||''!=d)&&In(t,d):'number'==typeof d&&In(t,''+d):'suppressContentEditableWarning'!=s&&'suppressHydrationWarning'!=s&&'autoFocus'!=s&&(_r.hasOwnProperty(s)?null!=d&&kn(a,s):o?gn(t,s,d):null!=d&&fn(t,s,d))}'input'===n?(ft(t),_n(t,r)):'textarea'===n?(ft(t),Pn(t,r)):'option'===n?null!=r.value&&t.setAttribute('value',r.value):'select'===n?(t.multiple=!!r.multiple,n=r.value,null==n?null!=r.defaultValue&&Sn(t,!!r.multiple,r.defaultValue,!0):Sn(t,!!r.multiple,n,!1)):'function'==typeof e.onClick&&(t.onclick=B)}function Bn(t,n,r,a,o){var e=null;'input'===n?(r=yn(t,r),a=yn(t,a),e=[]):'option'===n?(r=Tn(t,r),a=Tn(t,a),e=[]):'select'===n?(r=l({},r,{value:void 0}),a=l({},a,{value:void 0}),e=[]):'textarea'===n?(r=Mn(t,r),a=Mn(t,a),e=[]):'function'!=typeof r.onClick&&'function'==typeof a.onClick&&(t.onclick=B),Dn(n,a,Eo);var i,s;for(i in t=null,r)if(!a.hasOwnProperty(i)&&r.hasOwnProperty(i)&&null!=r[i])if('style'===i)for(s in n=r[i],n)n.hasOwnProperty(s)&&(t||(t={}),t[s]='');else'dangerouslySetInnerHTML'!=i&&'children'!=i&&'suppressContentEditableWarning'!=i&&'suppressHydrationWarning'!=i&&'autoFocus'!=i&&(_r.hasOwnProperty(i)?e||(e=[]):(e=e||[]).push(i,null));for(i in a){var d=a[i];if(n=null==r?void 0:r[i],a.hasOwnProperty(i)&&d!==n&&(null!=d||null!=n))if('style'!==i)'dangerouslySetInnerHTML'===i?(d=d?d.__html:void 0,n=n?n.__html:void 0,null!=d&&n!==d&&(e=e||[]).push(i,''+d)):'children'===i?n===d||'string'!=typeof d&&'number'!=typeof d||(e=e||[]).push(i,''+d):'suppressContentEditableWarning'!=i&&'suppressHydrationWarning'!=i&&(_r.hasOwnProperty(i)?(null!=d&&kn(o,i),e||n===d||(e=[])):(e=e||[]).push(i,d));else if(n){for(s in n)!n.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(t||(t={}),t[s]='');for(s in d)d.hasOwnProperty(s)&&n[s]!==d[s]&&(t||(t={}),t[s]=d[s])}else t||(e||(e=[]),e.push(i,t)),t=d}return t&&(e=e||[]).push('style',t),e}function Hn(t,n,r,a,o){'input'===r&&'radio'===o.type&&null!=o.name&&vn(t,o),Un(r,a),a=Un(r,o);for(var e=0;e<n.length;e+=2){var i=n[e],s=n[e+1];'style'===i?Nn(t,s,Eo):'dangerouslySetInnerHTML'===i?ho(t,s):'children'===i?In(t,s):a?null==s?t.removeAttribute(i):gn(t,i,s):null==s?hn(t,i):fn(t,i,s)}'input'===r?bn(t,o):'textarea'===r?Rn(t,o):'select'===r?(t._wrapperState.initialValue=void 0,n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!o.multiple,r=o.value,null==r?n!==!!o.multiple&&(null==o.defaultValue?Sn(t,!!o.multiple,o.multiple?[]:'',!1):Sn(t,!!o.multiple,o.defaultValue,!0)):Sn(t,!!o.multiple,r,!1)):void 0}function Vn(t,n,r,a,o){switch(n){case'iframe':case'object':zt('topLoad','load',t);break;case'video':case'audio':for(var e in To)To.hasOwnProperty(e)&&zt(e,To[e],t);break;case'source':zt('topError','error',t);break;case'img':case'image':zt('topError','error',t),zt('topLoad','load',t);break;case'form':zt('topReset','reset',t),zt('topSubmit','submit',t);break;case'details':zt('topToggle','toggle',t);break;case'input':xn(t,r),zt('topInvalid','invalid',t),kn(o,'onChange');break;case'select':Cn(t,r),zt('topInvalid','invalid',t),kn(o,'onChange');break;case'textarea':wn(t,r),zt('topInvalid','invalid',t),kn(o,'onChange');}for(var i in Dn(n,r,Eo),a=null,r)r.hasOwnProperty(i)&&(e=r[i],'children'===i?'string'==typeof e?t.textContent!==e&&(a=['children',e]):'number'==typeof e&&t.textContent!==''+e&&(a=['children',''+e]):_r.hasOwnProperty(i)&&null!=e&&kn(o,i));switch(n){case'input':ft(t),_n(t,r);break;case'textarea':ft(t),Pn(t,r);break;case'select':case'option':break;default:'function'==typeof r.onClick&&(t.onclick=B);}return a}function Gn(e,t){return e.nodeValue!==t}function Wn(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&' react-mount-point-unstable '===e.nodeValue)}function jn(e){return e=e?9===e.nodeType?e.documentElement:e.firstChild:null,e&&1===e.nodeType&&e.hasAttribute('data-reactroot')}function Xn(t,n,r,a,i){Wn(r)?void 0:o('200');var e=r._reactRootContainer;if(e)wo.updateContainer(n,e,t,i);else{if(a=a||jn(r),!a)for(e=void 0;e=r.lastChild;)r.removeChild(e);var s=wo.createContainer(r,a);e=r._reactRootContainer=s,wo.unbatchedUpdates(function(){wo.updateContainer(n,s,t,i)})}return wo.getPublicRootInstance(e)}function Yn(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Wn(t)?void 0:o('200'),un(e,t,null,n)}function qn(e,t){this._reactRootContainer=wo.createContainer(e,t)}var Kn=Math.min,Zn=String.fromCharCode,Jn=n(4),Qn=n(8),l=n(2),B=n(1),C=n(9),$n=n(10),er=n(11),tr=n(12),nr=n(13),rr=n(3);Jn?void 0:o('227');var ar={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},or={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var n=or,a=t.Properties||{},i=t.DOMAttributeNamespaces||{},s=t.DOMAttributeNames||{};for(var e in t=t.DOMMutationMethods||{},a){ir.hasOwnProperty(e)?o('48',e):void 0;var d=e.toLowerCase(),l=a[e];d={attributeName:d,attributeNamespace:null,propertyName:e,mutationMethod:null,mustUseProperty:r(l,n.MUST_USE_PROPERTY),hasBooleanValue:r(l,n.HAS_BOOLEAN_VALUE),hasNumericValue:r(l,n.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(l,n.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(l,n.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:r(l,n.HAS_STRING_BOOLEAN_VALUE)},1>=d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue?void 0:o('50',e),s.hasOwnProperty(e)&&(d.attributeName=s[e]),i.hasOwnProperty(e)&&(d.attributeNamespace=i[e]),t.hasOwnProperty(e)&&(d.mutationMethod=t[e]),ir[e]=d}}},ir={},sr=or,dr=sr.MUST_USE_PROPERTY,lr=sr.HAS_BOOLEAN_VALUE,pr=sr.HAS_NUMERIC_VALUE,cr=sr.HAS_POSITIVE_NUMERIC_VALUE,ur=sr.HAS_OVERLOADED_BOOLEAN_VALUE,mr=sr.HAS_STRING_BOOLEAN_VALUE,fr=sr.HAS_STRING_BOOLEAN_VALUE,gr={xlink:'http://www.w3.org/1999/xlink',xml:'http://www.w3.org/XML/1998/namespace'},M={Properties:{autoReverse:fr,externalResourcesRequired:fr,preserveAlpha:fr},DOMAttributeNames:{autoReverse:'autoReverse',externalResourcesRequired:'externalResourcesRequired',preserveAlpha:'preserveAlpha'},DOMAttributeNamespaces:{xlinkActuate:gr.xlink,xlinkArcrole:gr.xlink,xlinkHref:gr.xlink,xlinkRole:gr.xlink,xlinkShow:gr.xlink,xlinkTitle:gr.xlink,xlinkType:gr.xlink,xmlBase:gr.xml,xmlLang:gr.xml,xmlSpace:gr.xml}},hr=/[\-\:]([a-z])/g;['accent-height','alignment-baseline','arabic-form','baseline-shift','cap-height','clip-path','clip-rule','color-interpolation','color-interpolation-filters','color-profile','color-rendering','dominant-baseline','enable-background','fill-opacity','fill-rule','flood-color','flood-opacity','font-family','font-size','font-size-adjust','font-stretch','font-style','font-variant','font-weight','glyph-name','glyph-orientation-horizontal','glyph-orientation-vertical','horiz-adv-x','horiz-origin-x','image-rendering','letter-spacing','lighting-color','marker-end','marker-mid','marker-start','overline-position','overline-thickness','paint-order','panose-1','pointer-events','rendering-intent','shape-rendering','stop-color','stop-opacity','strikethrough-position','strikethrough-thickness','stroke-dasharray','stroke-dashoffset','stroke-linecap','stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke-width','text-anchor','text-decoration','text-rendering','underline-position','underline-thickness','unicode-bidi','unicode-range','units-per-em','v-alphabetic','v-hanging','v-ideographic','v-mathematical','vector-effect','vert-adv-y','vert-origin-x','vert-origin-y','word-spacing','writing-mode','x-height','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xmlns:xlink','xml:lang','xml:space'].forEach(function(e){var t=e.replace(hr,d);M.Properties[t]=0,M.DOMAttributeNames[t]=e}),sr.injectDOMPropertyConfig({Properties:{allowFullScreen:lr,async:lr,autoFocus:lr,autoPlay:lr,capture:ur,checked:dr|lr,cols:cr,contentEditable:mr,controls:lr,default:lr,defer:lr,disabled:lr,download:ur,draggable:mr,formNoValidate:lr,hidden:lr,loop:lr,multiple:dr|lr,muted:dr|lr,noValidate:lr,open:lr,playsInline:lr,readOnly:lr,required:lr,reversed:lr,rows:cr,rowSpan:pr,scoped:lr,seamless:lr,selected:dr|lr,size:cr,start:pr,span:cr,spellCheck:mr,style:0,tabIndex:0,itemScope:lr,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:mr},DOMAttributeNames:{acceptCharset:'accept-charset',className:'class',htmlFor:'for',httpEquiv:'http-equiv'},DOMMutationMethods:{value:function(e,t){return null==t?e.removeAttribute('value'):void('number'!==e.type||!1===e.hasAttribute('value')?e.setAttribute('value',''+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute('value',''+t))}}}),sr.injectDOMPropertyConfig(M);var yr={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){'function'==typeof e.invokeGuardedCallback?void 0:o('197'),p=e.invokeGuardedCallback}},invokeGuardedCallback:function(){p.apply(yr,arguments)},invokeGuardedCallbackAndCatchFirstError:function(){if(yr.invokeGuardedCallback.apply(this,arguments),yr.hasCaughtError()){var e=yr.clearCaughtError();yr._hasRethrowError||(yr._hasRethrowError=!0,yr._rethrowError=e)}},rethrowCaughtError:function(){return a.apply(yr,arguments)},hasCaughtError:function(){return yr._hasCaughtError},clearCaughtError:function(){if(yr._hasCaughtError){var e=yr._caughtError;return yr._caughtError=null,yr._hasCaughtError=!1,e}o('198')}},P=null,xr={},vr=[],br={},_r={},Er={},Tr=Object.freeze({plugins:vr,eventNameDispatchConfigs:br,registrationNameModules:_r,registrationNameDependencies:Er,possibleRegistrationNames:null,injectEventPluginOrder:c,injectEventPluginsByName:f}),Sr=null,Cr=null,Mr=null,wr=null,Rr={injectEventPluginOrder:c,injectEventPluginsByName:f},Pr=Object.freeze({injection:Rr,getListener:E,extractEvents:w,enqueueEvents:R,processEventQueue:A}),Ar=Math.random().toString(36).slice(2),Lr='__reactInternalInstance$'+Ar,Q='__reactEventHandlers$'+Ar,Ir=Object.freeze({precacheFiberNode:function(e,t){t[Lr]=e},getClosestInstanceFromNode:L,getInstanceFromNode:function(e){return e=e[Lr],e&&(5===e.tag||6===e.tag)?e:null},getNodeFromInstance:I,getFiberCurrentPropsFromNode:b,updateFiberProps:function(e,t){e[Q]=t}}),Nr=Object.freeze({accumulateTwoPhaseDispatches:j,accumulateTwoPhaseDispatchesSkipTarget:function(e){y(e,z)},accumulateEnterLeaveDispatches:q,accumulateDirectDispatches:function(e){y(e,G)}}),Dr=null,Ur={_root:null,_startText:null,_fallbackText:null},S=['dispatchConfig','_targetInst','nativeEvent','isDefaultPrevented','isPropagationStopped','_dispatchListeners','_dispatchInstances'],kr={type:null,target:null,currentTarget:B.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};l(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():'unknown'!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=B.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():'unknown'!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=B.thatReturnsTrue)},persist:function(){this.isPersistent=B.thatReturnsTrue},isPersistent:B.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;for(e=0;e<S.length;e++)this[S[e]]=null}}),_e.Interface=kr,_e.augmentClass=function(e,t){function n(){}n.prototype=this.prototype;var r=new n;l(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=l({},this.Interface,t),e.augmentClass=this.augmentClass,Pe(e)},Pe(_e),_e.augmentClass(Ne,{data:null}),_e.augmentClass(Oe,{data:null});var Or=[9,13,27,32],Fr=Qn.canUseDOM&&'CompositionEvent'in window,zr=null;Qn.canUseDOM&&'documentMode'in document&&(zr=document.documentMode);var Br;if(Br=Qn.canUseDOM&&'TextEvent'in window&&!zr){var Hr=window.opera;Br=!('object'==typeof Hr&&'function'==typeof Hr.version&&12>=parseInt(Hr.version(),10))}var Vr=Br,Gr=Qn.canUseDOM&&(!Fr||zr&&8<zr&&11>=zr),Wr=' ',jr={beforeInput:{phasedRegistrationNames:{bubbled:'onBeforeInput',captured:'onBeforeInputCapture'},dependencies:['topCompositionEnd','topKeyPress','topTextInput','topPaste']},compositionEnd:{phasedRegistrationNames:{bubbled:'onCompositionEnd',captured:'onCompositionEndCapture'},dependencies:['topBlur','topCompositionEnd','topKeyDown','topKeyPress','topKeyUp','topMouseDown']},compositionStart:{phasedRegistrationNames:{bubbled:'onCompositionStart',captured:'onCompositionStartCapture'},dependencies:['topBlur','topCompositionStart','topKeyDown','topKeyPress','topKeyUp','topMouseDown']},compositionUpdate:{phasedRegistrationNames:{bubbled:'onCompositionUpdate',captured:'onCompositionUpdateCapture'},dependencies:['topBlur','topCompositionUpdate','topKeyDown','topKeyPress','topKeyUp','topMouseDown']}},Xr=!1,Yr=!1,qr=null,Kr=null,Zr=null,Jr={injectFiberControlledHostComponent:function(e){qr=e}},Qr=Object.freeze({injection:Jr,enqueueStateRestore:ot,restoreStateIfNeeded:it}),$r=!1,ea={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},ta;Qn.canUseDOM&&(ta=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature('',''));var na={change:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'},dependencies:['topBlur','topChange','topClick','topFocus','topInput','topKeyDown','topKeyUp','topSelectionChange']}},ra=null,aa=null,oa=!1;Qn.canUseDOM&&(oa=ct('input')&&(!document.documentMode||9<document.documentMode));var ia={eventTypes:na,_isInputEventSupported:oa,extractEvents:function(t,n,r,a){var o=n?I(n):window,e=o.nodeName&&o.nodeName.toLowerCase();if('select'===e||'input'===e&&'file'===o.type)var i=vt;else if(!lt(o))e=o.nodeName,e&&'input'===e.toLowerCase()&&('checkbox'===o.type||'radio'===o.type)&&(i=St);else if(oa)i=Ct;else{i=Tt;var s=Et}return i&&(i=i(t,n))?ht(i,r,a):void(s&&s(t,o,n),'topBlur'===t&&null!=n&&(t=n._wrapperState||o._wrapperState)&&t.controlled&&'number'===o.type&&(t=''+o.value,o.getAttribute('value')!==t&&o.setAttribute('value',t)))}};_e.augmentClass(Mt,{view:null,detail:null});var sa={Alt:'altKey',Control:'ctrlKey',Meta:'metaKey',Shift:'shiftKey'};Mt.augmentClass(Pt,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Rt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var da={mouseEnter:{registrationName:'onMouseEnter',dependencies:['topMouseOut','topMouseOver']},mouseLeave:{registrationName:'onMouseLeave',dependencies:['topMouseOut','topMouseOver']}},la=Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pa=[],ca=!0,ua=Object.freeze({get _enabled(){return ca},get _handleTopLevel(){return ha},setHandleTopLevel:function(e){ha=e},setEnabled:Ft,isEnabled:function(){return ca},trapBubbledEvent:zt,trapCapturedEvent:Bt,dispatchEvent:Ht}),ma={animationend:Vt('Animation','AnimationEnd'),animationiteration:Vt('Animation','AnimationIteration'),animationstart:Vt('Animation','AnimationStart'),transitionend:Vt('Transition','TransitionEnd')},fa={},ga={},ha;Qn.canUseDOM&&(ga=document.createElement('div').style,'AnimationEvent'in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),'TransitionEvent'in window||delete ma.transitionend.transition);var ya={topAbort:'abort',topAnimationEnd:Gt('animationend')||'animationend',topAnimationIteration:Gt('animationiteration')||'animationiteration',topAnimationStart:Gt('animationstart')||'animationstart',topBlur:'blur',topCancel:'cancel',topCanPlay:'canplay',topCanPlayThrough:'canplaythrough',topChange:'change',topClick:'click',topClose:'close',topCompositionEnd:'compositionend',topCompositionStart:'compositionstart',topCompositionUpdate:'compositionupdate',topContextMenu:'contextmenu',topCopy:'copy',topCut:'cut',topDoubleClick:'dblclick',topDrag:'drag',topDragEnd:'dragend',topDragEnter:'dragenter',topDragExit:'dragexit',topDragLeave:'dragleave',topDragOver:'dragover',topDragStart:'dragstart',topDrop:'drop',topDurationChange:'durationchange',topEmptied:'emptied',topEncrypted:'encrypted',topEnded:'ended',topError:'error',topFocus:'focus',topInput:'input',topKeyDown:'keydown',topKeyPress:'keypress',topKeyUp:'keyup',topLoadedData:'loadeddata',topLoad:'load',topLoadedMetadata:'loadedmetadata',topLoadStart:'loadstart',topMouseDown:'mousedown',topMouseMove:'mousemove',topMouseOut:'mouseout',topMouseOver:'mouseover',topMouseUp:'mouseup',topPaste:'paste',topPause:'pause',topPlay:'play',topPlaying:'playing',topProgress:'progress',topRateChange:'ratechange',topScroll:'scroll',topSeeked:'seeked',topSeeking:'seeking',topSelectionChange:'selectionchange',topStalled:'stalled',topSuspend:'suspend',topTextInput:'textInput',topTimeUpdate:'timeupdate',topToggle:'toggle',topTouchCancel:'touchcancel',topTouchEnd:'touchend',topTouchMove:'touchmove',topTouchStart:'touchstart',topTransitionEnd:Gt('transitionend')||'transitionend',topVolumeChange:'volumechange',topWaiting:'waiting',topWheel:'wheel'},xa={},va=0,ba='_reactListenersID'+(''+Math.random()).slice(2),_a=Qn.canUseDOM&&'documentMode'in document&&11>=document.documentMode,Ma={select:{phasedRegistrationNames:{bubbled:'onSelect',captured:'onSelectCapture'},dependencies:['topBlur','topContextMenu','topFocus','topKeyDown','topKeyUp','topMouseDown','topMouseUp','topSelectionChange']}},wa=null,La=null,Ia=null,Na=!1;_e.augmentClass(Kt,{animationName:null,elapsedTime:null,pseudoElement:null}),_e.augmentClass(Zt,{clipboardData:function(e){return'clipboardData'in e?e.clipboardData:window.clipboardData}}),Mt.augmentClass(Jt,{relatedTarget:null});var Da={Esc:'Escape',Spacebar:' ',Left:'ArrowLeft',Up:'ArrowUp',Right:'ArrowRight',Down:'ArrowDown',Del:'Delete',Win:'OS',Menu:'ContextMenu',Apps:'ContextMenu',Scroll:'ScrollLock',MozPrintableKey:'Unidentified'},ka={8:'Backspace',9:'Tab',12:'Clear',13:'Enter',16:'Shift',17:'Control',18:'Alt',19:'Pause',20:'CapsLock',27:'Escape',32:' ',33:'PageUp',34:'PageDown',35:'End',36:'Home',37:'ArrowLeft',38:'ArrowUp',39:'ArrowRight',40:'ArrowDown',45:'Insert',46:'Delete',112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7',119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'NumLock',145:'ScrollLock',224:'Meta'};Mt.augmentClass($t,{key:function(e){if(e.key){var t=Da[e.key]||e.key;if('Unidentified'!==t)return t}return'keypress'===e.type?(e=Qt(e),13===e?'Enter':Zn(e)):'keydown'===e.type||'keyup'===e.type?ka[e.keyCode]||'Unidentified':''},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Rt,charCode:function(e){return'keypress'===e.type?Qt(e):0},keyCode:function(e){return'keydown'===e.type||'keyup'===e.type?e.keyCode:0},which:function(e){return'keypress'===e.type?Qt(e):'keydown'===e.type||'keyup'===e.type?e.keyCode:0}}),Pt.augmentClass(en,{dataTransfer:null}),Mt.augmentClass(tn,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Rt}),_e.augmentClass(ae,{propertyName:null,elapsedTime:null,pseudoElement:null}),Pt.augmentClass(be,{deltaX:function(e){return'deltaX'in e?e.deltaX:'wheelDeltaX'in e?-e.wheelDeltaX:0},deltaY:function(e){return'deltaY'in e?e.deltaY:'wheelDeltaY'in e?-e.wheelDeltaY:'wheelDelta'in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var Fa={},Ha={};['abort','animationEnd','animationIteration','animationStart','blur','cancel','canPlay','canPlayThrough','click','close','contextMenu','copy','cut','doubleClick','drag','dragEnd','dragEnter','dragExit','dragLeave','dragOver','dragStart','drop','durationChange','emptied','encrypted','ended','error','focus','input','invalid','keyDown','keyPress','keyUp','load','loadedData','loadedMetadata','loadStart','mouseDown','mouseMove','mouseOut','mouseOver','mouseUp','paste','pause','play','playing','progress','rateChange','reset','scroll','seeked','seeking','stalled','submit','suspend','timeUpdate','toggle','touchCancel','touchEnd','touchMove','touchStart','transitionEnd','volumeChange','waiting','wheel'].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n='on'+t;t='top'+t,n={phasedRegistrationNames:{bubbled:n,captured:n+'Capture'},dependencies:[t]},Fa[e]=n,Ha[t]=n});ha=function(e,t,n,r){e=w(e,t,n,r),R(e),A(!1)},Rr.injectEventPluginOrder(['ResponderEventPlugin','SimpleEventPlugin','TapEventPlugin','EnterLeaveEventPlugin','ChangeEventPlugin','SelectEventPlugin','BeforeInputEventPlugin']),Sr=Ir.getFiberCurrentPropsFromNode,Cr=Ir.getInstanceFromNode,Mr=Ir.getNodeFromInstance,Rr.injectEventPluginsByName({SimpleEventPlugin:{eventTypes:Fa,extractEvents:function(t,n,r,a){var o=Ha[t];if(!o)return null;switch(t){case'topKeyPress':if(0===Qt(r))return null;case'topKeyDown':case'topKeyUp':t=$t;break;case'topBlur':case'topFocus':t=Jt;break;case'topClick':if(2===r.button)return null;case'topDoubleClick':case'topMouseDown':case'topMouseMove':case'topMouseUp':case'topMouseOut':case'topMouseOver':case'topContextMenu':t=Pt;break;case'topDrag':case'topDragEnd':case'topDragEnter':case'topDragExit':case'topDragLeave':case'topDragOver':case'topDragStart':case'topDrop':t=en;break;case'topTouchCancel':case'topTouchEnd':case'topTouchMove':case'topTouchStart':t=tn;break;case'topAnimationEnd':case'topAnimationIteration':case'topAnimationStart':t=Kt;break;case'topTransitionEnd':t=ae;break;case'topScroll':t=Mt;break;case'topWheel':t=be;break;case'topCopy':case'topCut':case'topPaste':t=Zt;break;default:t=_e;}return n=t.getPooled(o,n,r,a),j(n),n}},EnterLeaveEventPlugin:{eventTypes:da,extractEvents:function(t,n,r,a){if('topMouseOver'===t&&(r.relatedTarget||r.fromElement)||'topMouseOut'!==t&&'topMouseOver'!==t)return null;var o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window;if('topMouseOut'===t?(t=n,n=(n=r.relatedTarget||r.toElement)?L(n):null):t=null,t===n)return null;var e=null==t?o:I(t);o=null==n?o:I(n);var i=Pt.getPooled(da.mouseLeave,t,r,a);return i.type='mouseleave',i.target=e,i.relatedTarget=o,r=Pt.getPooled(da.mouseEnter,n,r,a),r.type='mouseenter',r.target=o,r.relatedTarget=e,q(i,r,t,n),[i,r]}},ChangeEventPlugin:ia,SelectEventPlugin:{eventTypes:Ma,extractEvents:function(t,n,r,a){var o=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument,i;if(!(i=!o)){a:{o=Wt(o),i=Er.onSelect;for(var s=0,d;s<i.length;s++)if(d=i[s],!o.hasOwnProperty(d)||!o[d]){o=!1;break a}o=!0}i=!o}if(i)return null;switch(o=n?I(n):window,t){case'topFocus':(lt(o)||'true'===o.contentEditable)&&(wa=o,La=n,Ia=null);break;case'topBlur':Ia=La=wa=null;break;case'topMouseDown':Na=!0;break;case'topContextMenu':case'topMouseUp':return Na=!1,qt(r,a);case'topSelectionChange':if(_a)break;case'topKeyDown':case'topKeyUp':return qt(r,a);}return null}},BeforeInputEventPlugin:{eventTypes:jr,extractEvents:function(t,n,r,a){var o;if(Fr)b:{switch(t){case'topCompositionStart':var e=jr.compositionStart;break b;case'topCompositionEnd':e=jr.compositionEnd;break b;case'topCompositionUpdate':e=jr.compositionUpdate;break b;}e=void 0}else Yr?et(t,r)&&(e=jr.compositionEnd):'topKeyDown'===t&&229===r.keyCode&&(e=jr.compositionStart);return e?(Gr&&(Yr||e!==jr.compositionStart?e===jr.compositionEnd&&Yr&&(o=$()):(Ur._root=a,Ur._startText=fe(),Yr=!0)),e=Ne.getPooled(e,n,r,a),o?e.data=o:(o=tt(r),null!==o&&(e.data=o)),j(e),o=e):o=null,(t=Vr?nt(t,r):rt(t,r))?(n=Oe.getPooled(jr.beforeInput,n,r,a),n.data=t,j(n)):n=null,[o,n]}}});var ee=[],ge=-1;new Set;var he={current:rr},ie={current:!1},X=rr,je=null,Ga=null,Wa='function'==typeof Symbol&&Symbol['for'],Qe=Wa?Symbol['for']('react.element'):60103,Re=Wa?Symbol['for']('react.call'):60104,Se=Wa?Symbol['for']('react.return'):60105,Te=Wa?Symbol['for']('react.portal'):60106,ja=Wa?Symbol['for']('react.fragment'):60107,Ve='function'==typeof Symbol&&Symbol.iterator,We=Array.isArray,Ye=$e(!0),Xa=$e(!1),Ya={},qa=Object.freeze({default:cn}),Ka=qa&&cn||qa,Za=Ka['default']?Ka['default']:Ka,Ja='object'==typeof performance&&'function'==typeof performance.now,Qa;Qa=Ja?function(){return performance.now()}:function(){return Date.now()};var $a,eo;if(!Qn.canUseDOM)$a=function(e){return setTimeout(function(){e({timeRemaining:function(){return Infinity}})})},eo=function(e){clearTimeout(e)};else if('function'!=typeof requestIdleCallback||'function'!=typeof cancelIdleCallback){var to=null,no=!1,ro=-1,ao=!1,oo=0,io=33,so=33,lo;lo=Ja?{didTimeout:!1,timeRemaining:function(){var e=oo-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=oo-Date.now();return 0<e?e:0}};var po='__reactIdleCallback$'+Math.random().toString(36).slice(2);window.addEventListener('message',function(e){if(e.source===window&&e.data===po){if(no=!1,e=Qa(),!(0>=oo-e))lo.didTimeout=!1;else if(-1!=ro&&ro<=e)lo.didTimeout=!0;else return void(ao||(ao=!0,requestAnimationFrame(co)));ro=-1,e=to,to=null,null!==e&&e(lo)}},!1);var co=function(e){ao=!1;var t=e-oo+so;t<so&&io<so?(8>t&&(t=8),so=t<io?io:t):io=t,oo=e+so,no||(no=!0,window.postMessage(po,'*'))};$a=function(e,t){return to=e,null!=t&&'number'==typeof t.timeout&&(ro=Qa()+t.timeout),ao||(ao=!0,requestAnimationFrame(co)),0},eo=function(){to=null,no=!1,ro=-1}}else $a=window.requestIdleCallback,eo=window.cancelIdleCallback;var uo=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mo={},fo={},go={html:'http://www.w3.org/1999/xhtml',mathml:'http://www.w3.org/1998/Math/MathML',svg:'http://www.w3.org/2000/svg'},ho=function(t){return'undefined'!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(n,r,a,o){MSApp.execUnsafeLocalFunction(function(){return t(n,r,a,o)})}:t}(function(e,t){if(e.namespaceURI!==go.svg||'innerHTML'in e)e.innerHTML=t;else{for(vo=vo||document.createElement('div'),vo.innerHTML='<svg>'+t+'</svg>',t=vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),yo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xo=['Webkit','ms','Moz','O'],vo;Object.keys(yo).forEach(function(e){xo.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yo[t]=yo[e]})});var bo=l({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),_o=go.html,Eo=B.thatReturns(''),To={topAbort:'abort',topCanPlay:'canplay',topCanPlayThrough:'canplaythrough',topDurationChange:'durationchange',topEmptied:'emptied',topEncrypted:'encrypted',topEnded:'ended',topError:'error',topLoadedData:'loadeddata',topLoadedMetadata:'loadedmetadata',topLoadStart:'loadstart',topPause:'pause',topPlay:'play',topPlaying:'playing',topProgress:'progress',topRateChange:'ratechange',topSeeked:'seeked',topSeeking:'seeking',topStalled:'stalled',topSuspend:'suspend',topTimeUpdate:'timeupdate',topVolumeChange:'volumechange',topWaiting:'waiting'},So=Object.freeze({createElement:On,createTextNode:Fn,setInitialProperties:zn,diffProperties:Bn,updateProperties:Hn,diffHydratedProperties:Vn,diffHydratedText:Gn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,n,r){switch(n){case'input':if(bn(t,r),n=r.name,'radio'===r.type&&null!=n){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name='+JSON.stringify(''+n)+'][type="radio"]'),n=0;n<r.length;n++){var a=r[n];if(a!==t&&a.form===t.form){var i=b(a);i?void 0:o('90'),gt(a),bn(a,i)}}}break;case'textarea':Rn(t,r);break;case'select':n=r.value,null!=n&&Sn(t,!!r.multiple,n,!1);}}});Jr.injectFiberControlledHostComponent(So);var Co=null,Mo=null,wo=Za({getRootHostContext:function(e){var t=e.nodeType;return 9===t||11===t?e=(e=e.documentElement)?e.namespaceURI:Ln(null,''):(t=8===t?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ln(e,t)),e},getChildHostContext:function(e,t){return Ln(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){Co=ca;var t=$n();if(Yt(t)){if('selectionStart'in t)var n={start:t.selectionStart,end:t.selectionEnd};else a:{var r=window.getSelection&&window.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break a}var e=0,s=-1,d=-1,l=0,p=0,c=t,m=null;b:for(;;){for(var f;;){if(c!==n||0!==o&&3!==c.nodeType||(s=e+o),c!==i||0!==r&&3!==c.nodeType||(d=e+r),3===c.nodeType&&(e+=c.nodeValue.length),null===(f=c.firstChild))break;m=c,c=f}for(;;){if(c===t)break b;if(m===n&&++l===o&&(s=e),m===i&&++p===r&&(d=e),null!==(f=c.nextSibling))break;c=m,m=c.parentNode}c=f}n=-1===s||-1===d?null:{start:s,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;Mo={focusedElem:t,selectionRange:n},Ft(!1)},resetAfterCommit:function(){var t=Mo,n=$n(),r=t.focusedElem,o=t.selectionRange;if(n!==r&&tr(document.documentElement,r)){if(Yt(r))if(n=o.start,t=o.end,void 0===t&&(t=n),'selectionStart'in r)r.selectionStart=n,r.selectionEnd=Kn(t,r.value.length);else if(window.getSelection){n=window.getSelection();var i=r[J()].length;t=Kn(o.start,i),o=void 0===o.end?t:Kn(o.end,i),!n.extend&&t>o&&(i=o,o=t,t=i),i=Xt(r,t);var e=Xt(r,o);if(i&&e&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==e.node||n.focusOffset!==e.offset)){var s=document.createRange();s.setStart(i.node,i.offset),n.removeAllRanges(),t>o?(n.addRange(s),n.extend(e.node,e.offset)):(s.setEnd(e.node,e.offset),n.addRange(s))}}for(n=[],t=r;t=t.parentNode;)1===t.nodeType&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(nr(r),r=0;r<n.length;r++)t=n[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}Mo=null,Ft(Co),Co=null},createInstance:function(t,n,r,a,o){return t=On(t,n,r,a),t[Lr]=o,t[Q]=n,t},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){zn(e,t,n,r);a:'button'===t||'input'===t||'select'===t||'textarea'===t?e=!!n.autoFocus:void 0,e=!1;return e},prepareUpdate:function(t,n,r,a,o){return Bn(t,n,r,a,o)},shouldSetTextContent:function(e,t){return'textarea'===e||'string'==typeof t.children||'number'==typeof t.children||'object'==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&'string'==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return e=Fn(e,t),e[Lr]=r,e},now:Qa,mutation:{commitMount:function(e){e.focus()},commitUpdate:function(t,n,r,a,o){t[Q]=o,Hn(t,n,r,a,o)},resetTextContent:function(e){e.textContent=''},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return''===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(t,n,r,a,o,e){return t[Lr]=e,t[Q]=r,Vn(t,n,r,o,a)},hydrateTextInstance:function(e,t,n){return e[Lr]=n,Gn(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:$a,cancelDeferredCallback:eo,useSyncScheduling:!0});st=wo.batchedUpdates,qn.prototype.render=function(e,t){wo.updateContainer(e,this._reactRootContainer,null,t)},qn.prototype.unmount=function(e){wo.updateContainer(null,this._reactRootContainer,null,e)};var Z={createPortal:Yn,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return t?wo.findHostInstance(t):void('function'==typeof e.render?o('188'):o('213',Object.keys(e)))},hydrate:function(e,t,n){return Xn(null,e,t,!0,n)},render:function(e,t,n){return Xn(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return null==e||void 0===e._reactInternalFiber?o('38'):void 0,Xn(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Wn(e)?void 0:o('40'),!!e._reactRootContainer&&(wo.unbatchedUpdates(function(){Xn(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:Yn,unstable_batchedUpdates:dt,unstable_deferredUpdates:wo.deferredUpdates,flushSync:wo.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:Pr,EventPluginRegistry:Tr,EventPropagators:Nr,ReactControlledComponent:Qr,ReactDOMComponentTree:Ir,ReactDOMEventListener:ua}};wo.injectIntoDevTools({findFiberByHostInstance:L,bundleType:0,version:'16.2.0',rendererPackageName:'react-dom'});var Ro=Object.freeze({default:Z}),Po=Ro&&Z||Ro;e.exports=Po['default']?Po['default']:Po},function(e,t,n){'use strict';var r=n(21);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e){'use strict';e.exports=function(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!!(e&&('function'==typeof n.Node?e instanceof n.Node:'object'==typeof e&&'number'==typeof e.nodeType&&'string'==typeof e.nodeName))}},function(e,t,n){'use strict';var r=Math.min,a=String.fromCharCode;(function(t){'production'!==t.env.NODE_ENV&&function(){function t(e,t){return(e&t)===t}function o(e,t){if(d(e))return!1;if(2<e.length&&('o'===e[0]||'O'===e[0])&&('n'===e[1]||'N'===e[1]))return!1;if(null===t)return!0;switch(typeof t){case'boolean':return s(e);case'undefined':case'number':case'string':case'object':return!0;default:return!1;}}function i(e){return Wa.hasOwnProperty(e)?Wa[e]:null}function s(e){if(d(e))return!0;var t=i(e);if(t)return t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue;var n=e.toLowerCase().slice(0,5);return'data-'===n||'aria-'===n}function d(e){return Ha.hasOwnProperty(e)}function l(){if(lo)for(var e in po){var t=po[e],n=lo.indexOf(e);if(-1<n?void 0:wa(!1,'EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.',e),!co[n]){t.extractEvents?void 0:wa(!1,'EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.',e),co[n]=t;var r=t.eventTypes;for(var a in r)p(r[a],t,a)?void 0:wa(!1,'EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.',a,e)}}}function p(e,t,n){!uo.hasOwnProperty(n)?void 0:wa(!1,'EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.',n),uo[n]=e;var r=e.phasedRegistrationNames;if(r){for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];c(o,t,n)}return!0}return!!e.registrationName&&(c(e.registrationName,t,n),!0)}function c(e,t,n){!mo[e]?void 0:wa(!1,'EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.',e),mo[e]=t,fo[e]=t.eventTypes[n].dependencies;{var r=e.toLowerCase();go[r]=e,'onDoubleClick'===e&&(go.ondblclick=e)}}function u(e){!lo?void 0:wa(!1,'EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.'),lo=Array.prototype.slice.call(e),l()}function m(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];po.hasOwnProperty(n)&&po[n]===r||(po[n]?wa(!1,'EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.',n):void 0,po[n]=r,t=!0)}t&&l()}function f(e,t,n,r){var a=e.type||'unknown-event';e.currentTarget=vo(r),ro.invokeGuardedCallbackAndCatchFirstError(a,n,void 0,e),e.currentTarget=null}function g(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(bo(e),Array.isArray(n))for(var a=0;a<n.length&&!e.isPropagationStopped();a++)f(e,t,n[a],r[a]);else n&&f(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function h(e,t){return null==t?wa(!1,'accumulateInto(...): Accumulated items must not be null or undefined.'):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function y(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function x(e){return'button'===e||'input'===e||'select'===e||'textarea'===e}function v(e,t,n){return('onClick'===e||'onClickCapture'===e||'onDoubleClick'===e||'onDoubleClickCapture'===e||'onMouseDown'===e||'onMouseDownCapture'===e||'onMouseMove'===e||'onMouseMoveCapture'===e||'onMouseUp'===e||'onMouseUpCapture'===e)&&!!(n.disabled&&x(t))}function b(e,t){var n=e.stateNode,r;if(!n)return null;var a=yo(n);return a?(r=a[t],v(t,e.type,a))?null:(r&&'function'!=typeof r?wa(!1,'Expected `%s` listener to be a function, instead got a value of `%s` type.',t,typeof r):void 0,r):null}function _(e,t,n,r){for(var a=0,o,i;a<co.length;a++)if(i=co[a],i){var s=i.extractEvents(e,t,n,r);s&&(o=h(o,s))}return o}function E(e){e&&(_o=h(_o,e))}function T(e){var t=_o;_o=null;t&&(e?y(t,To):y(t,So),!_o?void 0:wa(!1,'processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.'),ro.rethrowCaughtError())}function S(e,t){t[zo]=e}function C(e){if(e[zo])return e[zo];for(var t=[];!e[zo];)if(t.push(e),e.parentNode)e=e.parentNode;else return null;var n=e[zo],r;if(n.tag===Io||n.tag===No)return n;for(;e&&(n=e[zo]);e=t.pop())r=n;return r}function M(e){var t=e[zo];return t?t.tag===Io||t.tag===No?t:null:null}function w(e){return e.tag===Io||e.tag===No?e.stateNode:void wa(!1,'getNodeFromInstance: Invalid argument.')}function R(e){return e[Bo]||null}function P(e,t){e[Bo]=t}function A(e){do e=e['return'];while(e&&e.tag!==Io);return e?e:null}function L(e,t){for(var n=0,r=e;r;r=A(r))n++;for(var a=0,o=t;o;o=A(o))a++;for(;0<n-a;)e=A(e),n--;for(;0<a-n;)t=A(t),a--;for(var i=n;i--;){if(e===t||e===t.alternate)return e;e=A(e),t=A(t)}return null}function I(e){return A(e)}function N(e,t,n){for(var r=[];e;)r.push(e),e=A(e);var a;for(a=r.length;0<a--;)t(r[a],'captured',n);for(a=0;a<r.length;a++)t(r[a],'bubbled',n)}function D(e,t,n,r,a){for(var o=e&&t?L(e,t):null,s=[];!0&&!!e;){if(e===o)break;var d=e.alternate;if(null!==d&&d===o)break;s.push(e),e=A(e)}for(var l=[];!0&&!!t;){if(t===o)break;var p=t.alternate;if(null!==p&&p===o)break;l.push(t),t=A(t)}for(var c=0;c<s.length;c++)n(s[c],'bubbled',r);for(var i=l.length;0<i--;)n(l[i],'captured',a)}function U(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return b(e,r)}function k(e,t,n){Ra(e,'Dispatching inst must not be null');var r=U(e,n,t);r&&(n._dispatchListeners=h(n._dispatchListeners,r),n._dispatchInstances=h(n._dispatchInstances,e))}function O(e){e&&e.dispatchConfig.phasedRegistrationNames&&N(e._targetInst,k,e)}function F(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?I(t):null;N(n,k,e)}}function z(e,t,n){if(e&&n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,a=b(e,r);a&&(n._dispatchListeners=h(n._dispatchListeners,a),n._dispatchInstances=h(n._dispatchInstances,e))}}function B(e){e&&e.dispatchConfig.registrationName&&z(e._targetInst,null,e)}function H(e){y(e,O)}function V(e,t,n,r){D(n,r,z,e,t)}function G(){return!Go&&Pa.canUseDOM&&(Go='textContent'in document.documentElement?'textContent':'innerText'),Go}function W(e){return Wo._root=e,Wo._startText=Y(),!0}function j(){Wo._root=null,Wo._startText=null,Wo._fallbackText=null}function X(){if(Wo._fallbackText)return Wo._fallbackText;var e=Wo._startText,t=e.length,n=Y(),r=n.length,a,o;for(a=0;a<t&&e[a]===n[a];a++);var i=t-a;for(o=1;o<=i&&e[t-o]===n[r-o];o++);var s=1<o?1-o:void 0;return Wo._fallbackText=n.slice(a,s),Wo._fallbackText}function Y(){return'value'in Wo._root?Wo._root.value:Wo._root[G()]}function q(e,t,n,r){delete this.nativeEvent,delete this.preventDefault,delete this.stopPropagation,this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var a=this.constructor.Interface;for(var o in a)if(a.hasOwnProperty(o)){delete this[o];var i=a[o];i?this[o]=i(n):'target'==o?this.target=r:this[o]=n[o]}var s=null==n.defaultPrevented?!1===n.returnValue:n.defaultPrevented;return this.isDefaultPrevented=s?La.thatReturnsTrue:La.thatReturnsFalse,this.isPropagationStopped=La.thatReturnsFalse,this}function K(e,t){function n(t,n){Ra(!1,'This synthetic event is reused for performance reasons. If you\'re seeing this, you\'re %s `%s` on a released/nullified synthetic event. %s. If you must keep the original synthetic event around, use event.persist(). See https://fb.me/react-event-pooling for more information.',t,e,n)}var r='function'==typeof t;return{configurable:!0,set:function(e){var t=r?'setting the method':'setting the property';return n(t,'This is effectively a no-op'),e},get:function(){var e=r?'accessing the method':'accessing the property',a=r?'This is a no-op function':'This is set to null';return n(e,a),t}}}function Z(e,t,n,r){var a=this;if(a.eventPool.length){var o=a.eventPool.pop();return a.call(o,e,t,n,r),o}return new a(e,t,n,r)}function J(e){var t=this;e instanceof t?void 0:wa(!1,'Trying to release an event instance  into a pool of a different type.'),e.destructor(),t.eventPool.length<Yo&&t.eventPool.push(e)}function Q(e){e.eventPool=[],e.getPooled=Z,e.release=J}function $(e,t,n,r){return Zo.call(this,e,t,n,r)}function ee(e,t,n,r){return Zo.call(this,e,t,n,r)}function te(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function ne(e){return'topCompositionStart'===e?oi.compositionStart:'topCompositionEnd'===e?oi.compositionEnd:'topCompositionUpdate'===e?oi.compositionUpdate:void 0}function re(e,t){return'topKeyDown'===e&&t.keyCode===Qo}function ae(e,t){return'topKeyUp'===e?-1!==Jo.indexOf(t.keyCode):'topKeyDown'===e?t.keyCode!==Qo:'topKeyPress'==e||'topMouseDown'==e||'topBlur'==e}function oe(e){var t=e.detail;return'object'==typeof t&&'data'in t?t.data:null}function ie(e,t,n,r){var a,o;if($o?a=ne(e):si?ae(e,n)&&(a=oi.compositionEnd):re(e,n)&&(a=oi.compositionStart),!a)return null;ni&&(si||a!==oi.compositionStart?a===oi.compositionEnd&&si&&(o=X()):si=W(r));var i=$.getPooled(a,t,n,r);if(o)i.data=o;else{var s=oe(n);null!==s&&(i.data=s)}return H(i),i}function se(e,t){switch(e){case'topCompositionEnd':return oe(t);case'topKeyPress':var n=t.which;return n===ri?(ii=!0,ai):null;case'topTextInput':var r=t.data;return r===ai&&ii?null:r;default:return null;}}function de(e,t){if(si){if('topCompositionEnd'===e||!$o&&ae(e,t)){var n=X();return j(),si=!1,n}return null}switch(e){case'topPaste':return null;case'topKeyPress':if(!te(t)){if(t.char&&1<t.char.length)return t.char;if(t.which)return a(t.which)}return null;case'topCompositionEnd':return ni?null:t.data;default:return null;}}function le(e,t,n,r){var a;if(a=ti?se(e,n):de(e,n),!a)return null;var o=ee.getPooled(oi.beforeInput,t,n,r);return o.data=a,H(o),o}function pe(e){var t=xo(e);if(t){di&&'function'==typeof di.restoreControlledState?void 0:wa(!1,'Fiber needs to be injected to handle a fiber target for controlled events. This error is likely caused by a bug in React. Please file an issue.');var n=yo(t.stateNode);di.restoreControlledState(t.stateNode,t.type,n)}}function ce(e){li?pi?pi.push(e):pi=[e]:li=e}function ue(){if(li){var e=li,t=pi;if(li=null,pi=null,pe(e),t)for(var n=0;n<t.length;n++)pe(t[n])}}function me(e,t){if(fi)return mi(e,t);fi=!0;try{return mi(e,t)}finally{fi=!1,ue()}}function fe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return'input'===t?!!gi[e.type]:!('textarea'!==t)}function ge(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===yi?t.parentNode:t}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function he(e,t){if(!Pa.canUseDOM||t&&!('addEventListener'in document))return!1;var n='on'+e,r=n in document;if(!r){var a=document.createElement('div');a.setAttribute(n,'return;'),r='function'==typeof a[n]}return!r&&_i&&'wheel'===e&&(r=document.implementation.hasFeature('Events.wheel','3.0')),r}function ye(e){var t=e.type,n=e.nodeName;return n&&'input'===n.toLowerCase()&&('checkbox'===t||'radio'===t)}function xe(e){return e._valueTracker}function ve(e){e._valueTracker=null}function be(e){var t='';return e?(t=ye(e)?e.checked?'true':'false':e.value,t):t}function _e(e){var t=ye(e)?'checked':'value',n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=''+e[t];if(!(e.hasOwnProperty(t)||'function'!=typeof n.get||'function'!=typeof n.set)){Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=''+e,n.set.call(this,e)}});var a={getValue:function(){return r},setValue:function(e){r=''+e},stopTracking:function(){ve(e),delete e[t]}};return a}}function Ee(e){xe(e)||(e._valueTracker=_e(e))}function Te(e){if(!e)return!1;var t=xe(e);if(!t)return!0;var n=t.getValue(),r=be(e);return r!==n&&(t.setValue(r),!0)}function Se(e,t,n){var r=Zo.getPooled(Ei.change,e,t,n);return r.type='change',ce(n),H(r),r}function Ce(e){var t=e.nodeName&&e.nodeName.toLowerCase();return'select'===t||'input'===t&&'file'===e.type}function Me(e){var t=Se(Si,e,ge(e));me(we,t)}function we(e){E(e),T(!1)}function Re(e){var t=w(e);if(Te(t))return e}function Pe(e,t){if('topChange'===e)return t}function Ae(e,t){Ti=e,Si=t,Ti.attachEvent('onpropertychange',Ie)}function Le(){Ti&&(Ti.detachEvent('onpropertychange',Ie),Ti=null,Si=null)}function Ie(e){'value'!==e.propertyName||Re(Si)&&Me(e)}function Ne(e,t,n){'topFocus'===e?(Le(),Ae(t,n)):'topBlur'===e&&Le()}function De(e){if('topSelectionChange'===e||'topKeyUp'===e||'topKeyDown'===e)return Re(Si)}function Ue(e){var t=e.nodeName;return t&&'input'===t.toLowerCase()&&('checkbox'===e.type||'radio'===e.type)}function ke(e,t){if('topClick'===e)return Re(t)}function Oe(e,t){if('topInput'===e||'topChange'===e)return Re(t)}function Fe(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&'number'===t.type){var r=''+t.value;t.getAttribute('value')!==r&&t.setAttribute('value',r)}}}function ze(e,t,n,r){return Zo.call(this,e,t,n,r)}function Be(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=wi[e];return!!r&&!!n[r]}function He(){return Be}function Ve(e,t,n,r){return ze.call(this,e,t,n,r)}function Ge(e){return e._reactInternalFiber}function We(e){return e._reactInternalFiber!==void 0}function je(e,t){e._reactInternalFiber=t}function Xe(e){var t=e.type;return'string'==typeof t?t:'function'==typeof t?t.displayName||t.name:null}function Ye(e){var t=e;if(!e.alternate){if((t.effectTag&Di)!=Ii)return Hi;for(;t['return'];)if(t=t['return'],(t.effectTag&Di)!=Ii)return Hi}else for(;t['return'];)t=t['return'];return t.tag===Ao?Vi:Gi}function qe(e){return Ye(e)===Vi}function Ke(e){{var t=Ai.current;if(null!==t&&t.tag===Po){var n=t,r=n.stateNode;Ra(r._warnedAboutRefsInRender,'%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.',Xe(n)||'A component'),r._warnedAboutRefsInRender=!0}}var a=Ge(e);return!!a&&Ye(a)===Vi}function Ze(e){Ye(e)===Vi?void 0:wa(!1,'Unable to find node on an unmounted component.')}function Je(e){var t=e.alternate;if(!t){var n=Ye(e);return n===Gi?wa(!1,'Unable to find node on an unmounted component.'):void 0,n===Hi?null:e}for(var r=e,a=t;;){var o=r['return'],i=o?o.alternate:null;if(!o||!i)break;if(o.child===i.child){for(var s=o.child;s;){if(s===r)return Ze(o),e;if(s===a)return Ze(o),t;s=s.sibling}wa(!1,'Unable to find node on an unmounted component.')}if(r['return']!==a['return'])r=o,a=i;else{for(var d=!1,l=o.child;l;){if(l===r){d=!0,r=o,a=i;break}if(l===a){d=!0,a=o,r=i;break}l=l.sibling}if(!d){for(l=i.child;l;){if(l===r){d=!0,r=i,a=o;break}if(l===a){d=!0,a=i,r=o;break}l=l.sibling}d?void 0:wa(!1,'Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.')}}r.alternate===a?void 0:wa(!1,'Return fibers should always be each others\' alternates. This error is likely caused by a bug in React. Please file an issue.')}return r.tag===Ao?void 0:wa(!1,'Unable to find node on an unmounted component.'),r.stateNode.current===r?e:t}function Qe(e){var t=Je(e);if(!t)return null;for(var n=t;;){if(n.tag===Io||n.tag===No)return n;if(n.child){n.child['return']=n,n=n.child;continue}if(n===t)return null;for(;!n.sibling;){if(!n['return']||n['return']===t)return null;n=n['return']}n.sibling['return']=n['return'],n=n.sibling}return null}function $e(e){var t=Je(e);if(!t)return null;for(var n=t;;){if(n.tag===Io||n.tag===No)return n;if(n.child&&n.tag!==Lo){n.child['return']=n,n=n.child;continue}if(n===t)return null;for(;!n.sibling;){if(!n['return']||n['return']===t)return null;n=n['return']}n.sibling['return']=n['return'],n=n.sibling}return null}function et(e){for(;e['return'];)e=e['return'];return e.tag===Ao?e.stateNode.containerInfo:null}function tt(e,t,n){if(ji.length){var r=ji.pop();return r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]}}function nt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,ji.length<Wi&&ji.push(e)}function rt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=et(n);if(!r)break;e.ancestors.push(n),n=C(r)}while(n);for(var a=0;a<e.ancestors.length;a++)t=e.ancestors[a],Ji(e.topLevelType,t,e.nativeEvent,ge(e.nativeEvent))}function at(e){Ji=e}function ot(e){Xi=!!e}function it(){return Xi}function st(e,t,n){return n?Ia.listen(n,t,lt.bind(null,e)):null}function dt(e,t,n){return n?Ia.capture(n,t,lt.bind(null,e)):null}function lt(e,t){if(Xi){var n=ge(t),r=C(n);null===r||'number'!=typeof r.tag||qe(r)||(r=null);var a=tt(e,t,r);try{me(rt,a)}finally{nt(a)}}}function pt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n['Webkit'+e]='webkit'+t,n['Moz'+e]='moz'+t,n['ms'+e]='MS'+t,n['O'+e]='o'+t.toLowerCase(),n}function ct(e){if(Ki[e])return Ki[e];if(!qi[e])return e;var t=qi[e];for(var n in t)if(t.hasOwnProperty(n)&&n in Zi)return Ki[e]=t[n];return''}function ut(e){E(e),T(!1)}function mt(e){return Object.prototype.hasOwnProperty.call(e,ns)||(e[ns]=ts++,es[e[ns]]={}),es[e[ns]]}function ft(e,t){for(var n=t,r=mt(n),a=fo[e],o=0,i;o<a.length;o++)i=a[o],r.hasOwnProperty(i)&&r[i]||('topScroll'===i?dt('topScroll','scroll',n):'topFocus'===i||'topBlur'===i?(dt('topFocus','focus',n),dt('topBlur','blur',n),r.topBlur=!0,r.topFocus=!0):'topCancel'===i?(he('cancel',!0)&&dt('topCancel','cancel',n),r.topCancel=!0):'topClose'===i?(he('close',!0)&&dt('topClose','close',n),r.topClose=!0):$i.hasOwnProperty(i)&&st(i,$i[i],n),r[i]=!0)}function gt(e,t){for(var n=mt(t),r=fo[e],a=0,o;a<r.length;a++)if(o=r[a],!(n.hasOwnProperty(o)&&n[o]))return!1;return!0}function ht(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yt(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function xt(e,t){for(var n=ht(e),r=0,a=0;n;){if(n.nodeType===yi){if(a=r+n.textContent.length,r<=t&&a>=t)return{node:n,offset:t-r};r=a}n=ht(yt(n))}}function vt(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,a=t.focusNode,o=t.focusOffset;try{n.nodeType,a.nodeType}catch(t){return null}return bt(e,n,r,a,o)}function bt(e,t,n,r,a){var o=0,i=-1,s=-1,d=0,l=0,p=e,c=null;outer:for(;;){for(var u=null;p===t&&(0===n||p.nodeType===yi)&&(i=o+n),p===r&&(0===a||p.nodeType===yi)&&(s=o+a),p.nodeType===yi&&(o+=p.nodeValue.length),null!==(u=p.firstChild);)c=p,p=u;for(;;){if(p===e)break outer;if(c===t&&++d===n&&(i=o),c===r&&++l===a&&(s=o),null!==(u=p.nextSibling))break;p=c,c=p.parentNode}p=u}return-1===i||-1===s?null:{start:i,end:s}}function _t(e,t){if(window.getSelection){var n=window.getSelection(),a=e[G()].length,o=r(t.start,a),i=void 0===t.end?o:r(t.end,a);if(!n.extend&&o>i){var s=i;i=o,o=s}var d=xt(e,o),l=xt(e,i);if(d&&l){if(1===n.rangeCount&&n.anchorNode===d.node&&n.anchorOffset===d.offset&&n.focusNode===l.node&&n.focusOffset===l.offset)return;var p=document.createRange();p.setStart(d.node,d.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(l.node,l.offset)):(p.setEnd(l.node,l.offset),n.addRange(p))}}}function Et(e){return Ua(document.documentElement,e)}function Tt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&('input'===t&&'text'===e.type||'textarea'===t||'true'===e.contentEditable)}function St(){var e=Na();return{focusedElem:e,selectionRange:Tt(e)?Mt(e):null}}function Ct(e){var t=Na(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&Et(n)){Tt(n)&&wt(n,r);for(var a=[],o=n;o=o.parentNode;)o.nodeType===hi&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});ka(n);for(var s=0,i;s<a.length;s++)i=a[s],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}function Mt(e){var t;return t='selectionStart'in e?{start:e.selectionStart,end:e.selectionEnd}:vt(e),t||{start:0,end:0}}function wt(e,t){var n=t.start,a=t.end;a===void 0&&(a=n),'selectionStart'in e?(e.selectionStart=n,e.selectionEnd=r(a,e.value.length)):_t(e,t)}function Rt(e){if('selectionStart'in e&&Tt(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}}function Pt(e,t){if(ds||null==os||os!==Na())return null;var n=Rt(os);if(!ss||!Da(ss,n)){ss=n;var r=Zo.getPooled(as.select,is,e,t);return r.type='select',r.target=os,H(r),r}return null}function At(e,t,n,r){return Zo.call(this,e,t,n,r)}function Lt(e,t,n,r){return Zo.call(this,e,t,n,r)}function It(e,t,n,r){return ze.call(this,e,t,n,r)}function Nt(e){var t=e.keyCode,n;return'charCode'in e?(n=e.charCode,0===n&&13===t&&(n=13)):n=t,32<=n||13===n?n:0}function Dt(e,t,n,r){return ze.call(this,e,t,n,r)}function Ut(e,t,n,r){return Ve.call(this,e,t,n,r)}function kt(e,t,n,r){return ze.call(this,e,t,n,r)}function Ot(e,t,n,r){return Zo.call(this,e,t,n,r)}function Ft(e,t,n,r){return Ve.call(this,e,t,n,r)}function zt(e){return{current:e}}function Bt(e,t){return 0>ys?void Ra(!1,'Unexpected pop.'):void(t!==hs[ys]&&Ra(!1,'Unexpected Fiber popped.'),e.current=gs[ys],gs[ys]=null,hs[ys]=null,ys--)}function Ht(e,t,n){ys++,gs[ys]=e.current,hs[ys]=n,e.current=t}function Vt(){for(;-1<ys;)gs[ys]=null,hs[ys]=null,ys--}function Gt(e){switch(e.tag){case wo:case Ro:case Po:case Io:var t=e._debugOwner,n=e._debugSource,r=Xe(e),a=null;return t&&(a=Xe(t)),xs(r,n,a);default:return'';}}function Wt(e){var t='',n=e;do t+=Gt(n),n=n['return'];while(n);return t}function jt(){{var e=vs.current;return null===e?null:Wt(e)}return null}function Xt(){Ps++}function Yt(){Cs&&(Ms=!0),null!=Ts&&'componentWillMount'!==Ts&&'componentWillReceiveProps'!==Ts&&(ws=!0)}function qt(){_s&&!As&&(As=!0,Ds('(Waiting for async callback...)'))}function Kt(e){if(_s){As=!1;var t=e?'React was blocked by main thread':null;ks('(Waiting for async callback...)','(Waiting for async callback...)',t)}}function Zt(e){!_s||Vs(e)||(Es=e,!zs(e,null))||(e._debugIsCurrentlyTiming=!0)}function Jt(e){!_s||Vs(e)||(e._debugIsCurrentlyTiming=!1,Bs(e,null))}function Qt(e){!_s||Vs(e)||(Es=e['return'],!e._debugIsCurrentlyTiming)||(e._debugIsCurrentlyTiming=!1,Hs(e,null,null))}function $t(e){if(_s&&!Vs(e)&&(Es=e['return'],!!e._debugIsCurrentlyTiming)){e._debugIsCurrentlyTiming=!1;Hs(e,null,'An error was thrown inside this error boundary')}}function en(e,t){!_s||(Gs(),!zs(e,t))||(Ss=e,Ts=t)}function tn(){if(_s){if(null!==Ts&&null!==Ss){var e=ws?'Scheduled a cascading update':null;Hs(Ss,Ts,e)}Ts=null,Ss=null}}function nn(e){(Es=e,!_s)||(Rs=0,Ds('(React Tree Reconciliation)'),Xs())}function rn(e){if(_s){var t=null;if(null===e)1<Rs&&(t='There were cascading updates');else if(e.tag===Ao)t='A top-level update interrupted the previous render';else{var n=Xe(e)||'Unknown';t='An update to '+n+' interrupted the previous render'}Rs=0,Ws(),ks('(React Tree Reconciliation)','(React Tree Reconciliation)',t)}}function an(){_s&&(Cs=!0,Ms=!1,Ls.clear(),Ds('(Committing Changes)'))}function on(){if(_s){var e=null;Ms?e='Lifecycle hook scheduled a cascading update':0<Rs&&(e='Caused by a cascading update in earlier commit'),Ms=!1,Rs++,Cs=!1,Ls.clear(),ks('(Committing Changes)','(Committing Changes)',e)}}function sn(){_s&&(Ps=0,Ds('(Committing Host Effects)'))}function dn(){if(_s){var e=Ps;Ps=0,ks('(Committing Host Effects: '+e+' Total)','(Committing Host Effects)',null)}}function ln(){_s&&(Ps=0,Ds('(Calling Lifecycle Methods)'))}function pn(){if(_s){var e=Ps;Ps=0,ks('(Calling Lifecycle Methods: '+e+' Total)','(Calling Lifecycle Methods)',null)}}function cn(e){var t=hn(e);return t?Zs:qs.current}function un(e,t,n){var r=e.stateNode;r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=n}function mn(e,t){var n=e.type,r=n.contextTypes;if(!r)return Oa;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var o={};for(var i in r)o[i]=t[i];{var s=Xe(e)||'Unknown';Fa(r,o,'context',s,vs.getCurrentFiberStackAddendum)}return a&&un(e,t,o),o}function gn(){return Ks.current}function fn(e){return e.tag===Po&&null!=e.type.contextTypes}function hn(e){return e.tag===Po&&null!=e.type.childContextTypes}function yn(e){hn(e)&&(Bt(Ks,e),Bt(qs,e))}function xn(e){Bt(Ks,e),Bt(qs,e)}function vn(e,t,n){null==qs.cursor?void 0:wa(!1,'Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.'),Ht(qs,t,e),Ht(Ks,n,e)}function bn(e,t){var n=e.stateNode,r=e.type.childContextTypes;if('function'!=typeof n.getChildContext){{var a=Xe(e)||'Unknown';Ys[a]||(Ys[a]=!0,Ra(!1,'%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.',a,a))}return t}var o;for(var i in vs.setCurrentPhase('getChildContext'),en(e,'getChildContext'),o=n.getChildContext(),tn(),vs.setCurrentPhase(null),o)i in r?void 0:wa(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',Xe(e)||'Unknown',i);{var s=Xe(e)||'Unknown';Fa(r,o,'child context',s,vs.getCurrentFiberStackAddendum)}return Aa({},t,o)}function _n(e){if(!hn(e))return!1;var t=e.stateNode,n=t&&t.__reactInternalMemoizedMergedChildContext||Oa;return Zs=qs.current,Ht(qs,n,e),Ht(Ks,Ks.current,e),!0}function En(e,t){var n=e.stateNode;if(n?void 0:wa(!1,'Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.'),t){var r=bn(e,Zs);n.__reactInternalMemoizedMergedChildContext=r,Bt(Ks,e),Bt(qs,e),Ht(qs,r,e),Ht(Ks,t,e)}else Bt(Ks,e),Ht(Ks,t,e)}function Tn(){Zs=Oa,qs.current=Oa,Ks.current=!1}function Sn(e){qe(e)&&e.tag===Po?void 0:wa(!1,'Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.');for(var t=e;t.tag!==Ao;){if(hn(t))return t.stateNode.__reactInternalMemoizedMergedChildContext;var n=t['return'];n?void 0:wa(!1,'Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.'),t=n}return t.stateNode.context}function Cn(e){return(0|e/ed)+td}function Mn(e){return(e-td)*ed}function wn(e,t){return((0|e/t)+1)*t}function Rn(e,t,n){return wn(e+t/ed,n/ed)}function Pn(e,t,n){this.tag=e,this.key=t,this.type=null,this.stateNode=null,this['return']=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=null,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.internalContextTag=n,this.effectTag=Ii,this.nextEffect=null,this.firstEffect=null,this.lastEffect=null,this.expirationTime=Js,this.alternate=null,this._debugID=od++,this._debugSource=null,this._debugOwner=null,this._debugIsCurrentlyTiming=!1,!ad&&'function'==typeof Object.preventExtensions&&Object.preventExtensions(this)}function An(e){return!!(e.prototype&&e.prototype.isReactComponent)}function Ln(e,t,n){var r=e.alternate;return null===r?(r=id(e.tag,e.key,e.internalContextTag),r.type=e.type,r.stateNode=e.stateNode,r._debugID=e._debugID,r._debugSource=e._debugSource,r._debugOwner=e._debugOwner,r.alternate=e,e.alternate=r):(r.effectTag=Ii,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.pendingProps=t,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function In(){var e=id(Ao,null,nd);return e}function Nn(e,t,n){var r=null;r=e._owner;var a=e.type,o=e.key,i;if('function'==typeof a)i=An(a)?id(Po,o,t):id(wo,o,t),i.type=a,i.pendingProps=e.props;else if('string'==typeof a)i=id(Io,o,t),i.type=a,i.pendingProps=e.props;else if('object'==typeof a&&null!==a&&'number'==typeof a.tag)i=a,i.pendingProps=e.props;else{var s='';{(void 0===a||'object'==typeof a&&null!==a&&0===Object.keys(a).length)&&(s+=' You likely forgot to export your component from the file it\'s defined in, or you might have mixed up default and named imports.');var d=r?Xe(r):null;d&&(s+='\n\nCheck the render method of `'+d+'`.')}wa(!1,'Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s',null==a?a:typeof a,s)}return i._debugSource=e._source,i._debugOwner=e._owner,i.expirationTime=n,i}function Dn(e,t,n,r){var a=id(Oo,r,t);return a.pendingProps=e,a.expirationTime=n,a}function Un(e,t,n){var r=id(No,null,t);return r.pendingProps=e,r.expirationTime=n,r}function kn(){var e=id(Io,null,nd);return e.type='DELETED',e}function On(e,t,n){var r=id(Do,e.key,t);return r.type=e.handler,r.pendingProps=e,r.expirationTime=n,r}function Fn(e,t,n){var r=id(ko,null,t);return r.expirationTime=n,r}function zn(e,t,n){var r=id(Lo,e.key,t);return r.pendingProps=e.children||[],r.expirationTime=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Bn(e,t){var n=In(),r={current:n,containerInfo:e,pendingChildren:null,remainingExpirationTime:Js,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:t,nextScheduledRoot:null};return n.stateNode=r,r}function Hn(e){return function(t){try{return e(t)}catch(e){!ld&&(ld=!0,Ra(!1,'React DevTools encountered an error: %s',e))}}}function Vn(e){if('undefined'==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return Ra(!1,'The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://fb.me/react-devtools'),!0;try{var n=t.inject(e);sd=Hn(function(e){return t.onCommitFiberRoot(n,e)}),dd=Hn(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){Ra(!1,'React DevTools encountered an error: %s.',e)}return!0}function Gn(e){'function'==typeof sd&&sd(e)}function Wn(e){'function'==typeof dd&&dd(e)}function jn(e){return{baseState:e,expirationTime:Js,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,isProcessing:!1}}function Xn(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(e.expirationTime===Js||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}function Yn(e,t){var n=e.alternate,r=e.updateQueue;null===r&&(r=e.updateQueue=jn(null));var a;return null===n?a=null:(a=n.updateQueue,null===a&&(a=n.updateQueue=jn(null))),a=a===r?null:a,(r.isProcessing||null!==a&&a.isProcessing)&&!pd&&(Ra(!1,'An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.'),pd=!0),null===a?void Xn(r,t):null===r.last||null===a.last?(Xn(r,t),void Xn(a,t)):void(Xn(r,t),a.last=t)}function qn(e){if(e.tag!==Po&&e.tag!==Ao)return Js;var t=e.updateQueue;return null===t?Js:t.expirationTime}function Kn(e,t,n,r){var a=e.partialState;if('function'==typeof a){return fs,a.call(t,n,r)}return a}function Zn(e,t,n,r,a,o){if(null!==e&&e.updateQueue===n){var i=n;n=t.updateQueue={baseState:i.baseState,expirationTime:i.expirationTime,first:i.first,last:i.last,isInitialized:i.isInitialized,callbackList:null,hasForceUpdate:!1}}n.isProcessing=!0,n.expirationTime=Js;var s;n.isInitialized?s=n.baseState:(s=n.baseState=t.memoizedState,n.isInitialized=!0);for(var d=!0,l=n.first,p=!1,c;null!==l;){if(c=l.expirationTime,c>o){var u=n.expirationTime;(u===Js||u>c)&&(n.expirationTime=c),p||(p=!0,n.baseState=s),l=l.next;continue}p||(n.first=l.next,null===n.first&&(n.last=null));var m=void 0;if(l.isReplace?(s=Kn(l,r,s,a),d=!0):(m=Kn(l,r,s,a),m&&(s=d?Aa({},s,m):Aa(s,m),d=!1)),l.isForced&&(n.hasForceUpdate=!0),null!==l.callback){var f=n.callbackList;null===f&&(f=n.callbackList=[]),f.push(l)}l=l.next}return null===n.callbackList?null===n.first&&!n.hasForceUpdate&&(t.updateQueue=null):t.effectTag|=Fi,p||(p=!0,n.baseState=s),n.isProcessing=!1,s}function Jn(e,t){var n=e.callbackList;if(null!==n){e.callbackList=null;for(var r=0;r<n.length;r++){var a=n[r],o=a.callback;a.callback=null,'function'==typeof o?void 0:wa(!1,'Invalid argument passed as callback. Expected a function. Instead received: %s',o),o.call(t)}}}function Qn(e){if(null===e||'undefined'==typeof e)return null;var t=Ed&&e[Ed]||e[Td];return'function'==typeof t?t:null}function $n(e,t){var n=t.ref;if(null!==n&&'function'!=typeof n){if(t._owner){var r=t._owner,a;if(r){var o=r;o.tag===Po?void 0:wa(!1,'Stateless function components cannot have refs.'),a=o.stateNode}a?void 0:wa(!1,'Missing owner for string ref %s. This error is likely caused by a bug in React. Please file an issue.',n);var i=''+n;if(null!==e&&null!==e.ref&&e.ref._stringRef===i)return e.ref;var s=function(e){var t=a.refs===Oa?a.refs={}:a.refs;null===e?delete t[i]:t[i]=e};return s._stringRef=i,s}'string'==typeof n?void 0:wa(!1,'Expected ref to be a function or a string.'),t._owner?void 0:wa(!1,'Element ref was specified as a string (%s) but no owner was set. You may have multiple copies of React loaded. (details: https://fb.me/react-refs-must-have-owner).',n)}return n}function er(e,t){if('textarea'!==e.type){var n='';n=' If you meant to render a collection of children, use an array instead.'+(Sd()||''),wa(!1,'Objects are not valid as a React child (found: %s).%s','[object Object]'===Object.prototype.toString.call(t)?'object with keys {'+Object.keys(t).join(', ')+'}':t,n)}}function tr(){var e='Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.'+(Sd()||'');wd[e]||(wd[e]=!0,Ra(!1,'Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.%s',Sd()||''))}function nr(e){function t(t,n){if(e){var r=t.lastEffect;null===r?t.firstEffect=t.lastEffect=n:(r.nextEffect=n,t.lastEffect=n),n.nextEffect=null,n.effectTag=ki}}function n(n,r){if(!e)return null;for(var a=r;null!==a;)t(n,a),a=a.sibling;return null}function r(e,t){for(var n=new Map,r=t;null!==r;)null===r.key?n.set(r.index,r):n.set(r.key,r),r=r.sibling;return n}function a(e,t,n){var r=Ln(e,t,n);return r.index=0,r.sibling=null,r}function o(t,n,r){if(t.index=r,!e)return n;var a=t.alternate;if(null!==a){var o=a.index;return o<n?(t.effectTag=Di,n):o}return t.effectTag=Di,n}function i(t){return e&&null===t.alternate&&(t.effectTag=Di),t}function s(e,t,n,r){if(null===t||t.tag!==No){var o=Un(n,e.internalContextTag,r);return o['return']=e,o}var i=a(t,n,r);return i['return']=e,i}function d(e,t,n,r){if(null!==t&&t.type===n.type){var o=a(t,n.props,r);return o.ref=$n(t,n),o['return']=e,o._debugSource=n._source,o._debugOwner=n._owner,o}var i=Nn(n,e.internalContextTag,r);return i.ref=$n(t,n),i['return']=e,i}function l(e,t,n,r){if(null===t||t.tag!==Do){var o=On(n,e.internalContextTag,r);return o['return']=e,o}var i=a(t,n,r);return i['return']=e,i}function p(e,t,n,r){if(null===t||t.tag!==ko){var o=Fn(n,e.internalContextTag,r);return o.type=n.value,o['return']=e,o}var i=a(t,null,r);return i.type=n.value,i['return']=e,i}function c(e,t,n,r){if(null===t||t.tag!==Lo||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation){var o=zn(n,e.internalContextTag,r);return o['return']=e,o}var i=a(t,n.children||[],r);return i['return']=e,i}function u(e,t,n,r,o){if(null===t||t.tag!==Oo){var i=Dn(n,e.internalContextTag,r,o);return i['return']=e,i}var s=a(t,n,r);return s['return']=e,s}function m(e,t,n){if('string'==typeof t||'number'==typeof t){var r=Un(''+t,e.internalContextTag,n);return r['return']=e,r}if('object'==typeof t&&null!==t){switch(t.$$typeof){case yd:{if(t.type===_d){var a=Dn(t.props.children,e.internalContextTag,n,t.key);return a['return']=e,a}var o=Nn(t,e.internalContextTag,n);return o.ref=$n(null,t),o['return']=e,o}case xd:{var i=On(t,e.internalContextTag,n);return i['return']=e,i}case vd:{var s=Fn(t,e.internalContextTag,n);return s.type=t.value,s['return']=e,s}case bd:{var d=zn(t,e.internalContextTag,n);return d['return']=e,d}}if(Pd(t)||Qn(t)){var l=Dn(t,e.internalContextTag,n,null);return l['return']=e,l}er(e,t)}return'function'==typeof t&&tr(),null}function f(e,t,n,r){var a=null===t?null:t.key;if('string'==typeof n||'number'==typeof n)return null===a?s(e,t,''+n,r):null;if('object'==typeof n&&null!==n){switch(n.$$typeof){case yd:return n.key===a?n.type===_d?u(e,t,n.props.children,r,a):d(e,t,n,r):null;case xd:return n.key===a?l(e,t,n,r):null;case vd:return null===a?p(e,t,n,r):null;case bd:return n.key===a?c(e,t,n,r):null;}if(Pd(n)||Qn(n))return null===a?u(e,t,n,r,null):null;er(e,n)}return'function'==typeof n&&tr(),null}function g(e,t,n,r,a){if('string'==typeof r||'number'==typeof r){var o=e.get(n)||null;return s(t,o,''+r,a)}if('object'==typeof r&&null!==r){switch(r.$$typeof){case yd:{var i=e.get(null===r.key?n:r.key)||null;return r.type===_d?u(t,i,r.props.children,a,r.key):d(t,i,r,a)}case xd:{var m=e.get(null===r.key?n:r.key)||null;return l(t,m,r,a)}case vd:{var f=e.get(n)||null;return p(t,f,r,a)}case bd:{var g=e.get(null===r.key?n:r.key)||null;return c(t,g,r,a)}}if(Pd(r)||Qn(r)){var h=e.get(n)||null;return u(t,h,r,a,null)}er(t,r)}return'function'==typeof r&&tr(),null}function h(e,t){{if('object'!=typeof e||null===e)return t;switch(e.$$typeof){case yd:case xd:case bd:Rd(e);var n=e.key;if('string'!=typeof n)break;if(null===t){t=new Set,t.add(n);break}if(!t.has(n)){t.add(n);break}Ra(!1,'Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted \u2014 the behavior is unsupported and could change in a future version.%s',n,Sd());break;default:}}return t}function y(a,s,d,l){for(var p=null,c=0,i;c<d.length;c++)i=d[c],p=h(i,p);for(var u=null,y=null,x=s,v=0,b=0,_=null;null!==x&&b<d.length;b++){x.index>b?(_=x,x=null):_=x.sibling;var E=f(a,x,d[b],l);if(null===E){null===x&&(x=_);break}e&&x&&null===E.alternate&&t(a,x),v=o(E,v,b),null==y?u=E:y.sibling=E,y=E,x=_}if(b===d.length)return n(a,x),u;if(null===x){for(;b<d.length;b++){var T=m(a,d[b],l);T&&(v=o(T,v,b),null===y?u=T:y.sibling=T,y=T)}return u}for(var S=r(a,x),C;b<d.length;b++)C=g(S,a,b,d[b],l),C&&(e&&null!==C.alternate&&S['delete'](null===C.key?b:C.key),v=o(C,v,b),null===y?u=C:y.sibling=C,y=C);return e&&S.forEach(function(e){return t(a,e)}),u}function x(a,i,s,d){var l=Qn(s);'function'==typeof l?void 0:wa(!1,'An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.');{if('function'==typeof s.entries){s.entries===l&&(Ra(Cd,'Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead.%s',Sd()),Cd=!0)}var p=l.call(s);if(p)for(var c=null,u=p.next(),y;!u.done;u=p.next())y=u.value,c=h(y,c)}var x=l.call(s);null==x?wa(!1,'An iterable object provided no iterator.'):void 0;for(var v=null,b=null,_=i,E=0,T=0,S=null,C=x.next();null!==_&&!C.done;T++,C=x.next()){_.index>T?(S=_,_=null):S=_.sibling;var M=f(a,_,C.value,d);if(null===M){_||(_=S);break}e&&_&&null===M.alternate&&t(a,_),E=o(M,E,T),null==b?v=M:b.sibling=M,b=M,_=S}if(C.done)return n(a,_),v;if(null===_){for(;!C.done;T++,C=x.next()){var w=m(a,C.value,d);null!==w&&(E=o(w,E,T),null===b?v=w:b.sibling=w,b=w)}return v}for(var R=r(a,_),P;!C.done;T++,C=x.next())P=g(R,a,T,C.value,d),null!==P&&(e&&null!==P.alternate&&R['delete'](null===P.key?T:P.key),E=o(P,E,T),null===b?v=P:b.sibling=P,b=P);return e&&R.forEach(function(e){return t(a,e)}),v}function v(e,t,r,o){if(null!==t&&t.tag===No){n(e,t.sibling);var i=a(t,r,o);return i['return']=e,i}n(e,t);var s=Un(r,e.internalContextTag,o);return s['return']=e,s}function b(e,r,o,i){for(var s=o.key,d=r;null!==d;){if(d.key===s){if(d.tag===Oo?o.type===_d:d.type===o.type){n(e,d.sibling);var l=a(d,o.type===_d?o.props.children:o.props,i);return l.ref=$n(d,o),l['return']=e,l._debugSource=o._source,l._debugOwner=o._owner,l}n(e,d);break}else t(e,d);d=d.sibling}if(o.type===_d){var p=Dn(o.props.children,e.internalContextTag,i,o.key);return p['return']=e,p}var c=Nn(o,e.internalContextTag,i);return c.ref=$n(r,o),c['return']=e,c}function _(e,r,o,i){for(var s=o.key,d=r;null!==d;){if(d.key===s){if(d.tag===Do){n(e,d.sibling);var l=a(d,o,i);return l['return']=e,l}n(e,d);break}else t(e,d);d=d.sibling}var p=On(o,e.internalContextTag,i);return p['return']=e,p}function E(e,t,r,o){var i=t;if(null!==i){if(i.tag===ko){n(e,i.sibling);var s=a(i,null,o);return s.type=r.value,s['return']=e,s}n(e,i)}var d=Fn(r,e.internalContextTag,o);return d.type=r.value,d['return']=e,d}function T(e,r,o,i){for(var s=o.key,d=r;null!==d;){if(d.key===s){if(d.tag===Lo&&d.stateNode.containerInfo===o.containerInfo&&d.stateNode.implementation===o.implementation){n(e,d.sibling);var l=a(d,o.children||[],i);return l['return']=e,l}n(e,d);break}else t(e,d);d=d.sibling}var p=zn(o,e.internalContextTag,i);return p['return']=e,p}return function(e,t,r,a){'object'==typeof r&&null!==r&&r.type===_d&&null===r.key&&(r=r.props.children);var o='object'==typeof r&&null!==r;if(o)switch(r.$$typeof){case yd:return i(b(e,t,r,a));case xd:return i(_(e,t,r,a));case vd:return i(E(e,t,r,a));case bd:return i(T(e,t,r,a));}if('string'==typeof r||'number'==typeof r)return i(v(e,t,''+r,a));if(Pd(r))return y(e,t,r,a);if(Qn(r))return x(e,t,r,a);if(o&&er(e,r),'function'==typeof r&&tr(),'undefined'==typeof r)switch(e.tag){case Po:{var s=e.stateNode;if(s.render._isMockFunction)break}case Ro:{var d=e.type;wa(!1,'%s(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.',d.displayName||d.name||'Component')}}return n(e,t)}}function rr(e,t){if(null===e||t.child===e.child?void 0:wa(!1,'Resuming work not yet implemented.'),null!==t.child){var n=t.child,r=Ln(n,n.pendingProps,n.expirationTime);for(t.child=r,r['return']=t;null!==n.sibling;)n=n.sibling,r=r.sibling=Ln(n,n.pendingProps,n.expirationTime),r['return']=t;r.sibling=null}}function ar(e){var t=Gd(e);if(!1!==t){var n=e.error,r=n&&n.suppressReactErrorLogging;if(!r){var a=e.componentName,o=e.componentStack,i=e.errorBoundaryName,s=e.errorBoundaryFound,d=e.willRetry,l=a?'The above error occurred in the <'+a+'> component:':'The above error occurred in one of your React components:',p;p=s&&i?d?'React will try to recreate this component tree from scratch using the error boundary you provided, '+i+'.':'This error was initially handled by the error boundary '+i+'.\nRecreating the tree from scratch failed so React will unmount the tree.':'Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://fb.me/react-error-boundaries to learn more about error boundaries.';var c=''+l+o+'\n\n'+(''+p);console.error(c)}}}function or(e){if(!e)return Oa;var t=Ge(e),n=Sn(t);return hn(t)?bn(t,n):n}function ir(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bd,key:null==r?null:''+r,children:e,containerInfo:t,implementation:n}}function sr(e){return!!Sl.hasOwnProperty(e)||!Tl.hasOwnProperty(e)&&(El.test(e)?(Sl[e]=!0,!0):(Tl[e]=!0,Ra(!1,'Invalid attribute name: `%s`',e),!1))}function dr(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&!1===t}function lr(e,t,n){{var r=i(t);if(r){var a=r.mutationMethod;if(a||r.mustUseProperty)return e[r.propertyName];var o=r.attributeName,s=null;if(r.hasOverloadedBooleanValue){if(e.hasAttribute(o)){var d=e.getAttribute(o);return''===d||(dr(r,n)?d:d===''+n?n:d)}}else if(e.hasAttribute(o)){if(dr(r,n))return e.getAttribute(o);if(r.hasBooleanValue)return n;s=e.getAttribute(o)}return dr(r,n)?null===s?n:s:s===''+n?n:s}}}function pr(e,t,n){{if(!sr(t))return;if(!e.hasAttribute(t))return void 0===n?void 0:null;var r=e.getAttribute(t);return r===''+n?n:r}}function cr(e,t,n){var r=i(t);if(r&&o(t,n)){var a=r.mutationMethod;if(a)a(e,n);else{if(dr(r,n))return void fr(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,d=r.attributeNamespace;d?e.setAttributeNS(d,s,''+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(s,''):e.setAttribute(s,''+n)}}}else return void ur(e,t,o(t,n)?n:null)}function ur(e,t,n){sr(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,''+n))}function mr(e,t){e.removeAttribute(t)}function fr(e,t){var n=i(t);if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var a=n.propertyName;e[a]=!n.hasBooleanValue&&''}else e.removeAttribute(n.attributeName)}else e.removeAttribute(t)}function gr(e){var t='checkbox'===e.type||'radio'===e.type;return t?null!=e.checked:null!=e.value}function hr(e,t){var n=e,r=t.value,a=t.checked,o=Aa({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null==r?n._wrapperState.initialValue:r,checked:null==a?n._wrapperState.initialChecked:a});return o}function yr(e,t){Cl.checkPropTypes('input',t,Pl),t.checked===void 0||t.defaultChecked===void 0||Ll||(Ra(!1,'%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components',Rl()||'A component',t.type),Ll=!0),t.value===void 0||t.defaultValue===void 0||Al||(Ra(!1,'%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components',Rl()||'A component',t.type),Al=!0);var n=t.defaultValue;e._wrapperState={initialChecked:null==t.checked?t.defaultChecked:t.checked,initialValue:null==t.value?n:t.value,controlled:gr(t)}}function xr(e,t){var n=t.checked;null!=n&&cr(e,'checked',n)}function vr(e,t){var n=e;{var r=gr(t);n._wrapperState.controlled||!r||Nl||(Ra(!1,'A component is changing an uncontrolled input of type %s to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components%s',t.type,Pl()),Nl=!0),!n._wrapperState.controlled||r||Il||(Ra(!1,'A component is changing a controlled input of type %s to be uncontrolled. Input elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components%s',t.type,Pl()),Il=!0)}xr(e,t);var a=t.value;if(!(null!=a))null==t.value&&null!=t.defaultValue&&n.defaultValue!==''+t.defaultValue&&(n.defaultValue=''+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked);else if(0===a&&''===n.value)n.value='0';else if('number'===t.type){var o=parseFloat(n.value)||0;(a!=o||a==o&&n.value!=a)&&(n.value=''+a)}else n.value!==''+a&&(n.value=''+a)}function br(e,t){var n=e;switch(t.type){case'submit':case'reset':break;case'color':case'date':case'datetime':case'datetime-local':case'month':case'time':case'week':n.value='',n.value=n.defaultValue;break;default:n.value=n.value;}var r=n.name;''!==r&&(n.name=''),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,''!==r&&(n.name=r)}function _r(e,t){var n=e;vr(n,t),Er(n,t)}function Er(e,t){var n=t.name;if('radio'===t.type&&null!=n){for(var r=e;r.parentNode;)r=r.parentNode;for(var a=r.querySelectorAll('input[name='+JSON.stringify(''+n)+'][type="radio"]'),o=0,i;o<a.length;o++)if(i=a[o],i!==e&&i.form===e.form){var s=R(i);s?void 0:wa(!1,'ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.'),Te(i),vr(i,s)}}}function Tr(e){var t='';return Ma.Children.forEach(e,function(e){null==e||('string'==typeof e||'number'==typeof e)&&(t+=e)}),t}function Sr(e,t){Ra(null==t.selected,'Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.')}function Cr(e,t){null!=t.value&&e.setAttribute('value',t.value)}function Mr(e,t){var n=Aa({children:void 0},t),r=Tr(t.children);return r&&(n.children=r),n}function wr(){var e=Dl();return e?'\n\nCheck the render method of `'+e+'`.':''}function Rr(e){Cl.checkPropTypes('select',e,Ul);for(var t=0,n;t<Ol.length;t++)if(n=Ol[t],null!=e[n]){var r=Array.isArray(e[n]);e.multiple&&!r?Ra(!1,'The `%s` prop supplied to <select> must be an array if `multiple` is true.%s',n,wr()):!e.multiple&&r&&Ra(!1,'The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s',n,wr())}}function Pr(e,t,n,r){var a=e.options;if(t){for(var o=n,s={},d=0;d<o.length;d++)s['$'+o[d]]=!0;for(var i=0,l;i<a.length;i++)l=s.hasOwnProperty('$'+a[i].value),a[i].selected!==l&&(a[i].selected=l),l&&r&&(a[i].defaultSelected=!0)}else{for(var p=null,c=0;c<a.length;c++){if(a[c].value===''+n)return a[c].selected=!0,void(r&&(a[c].defaultSelected=!0));null!=p||a[c].disabled||(p=a[c])}null!==p&&(p.selected=!0)}}function Ar(e,t){return Aa({},t,{value:void 0})}function Lr(e,t){Rr(t);var n=t.value;e._wrapperState={initialValue:null==n?t.defaultValue:n,wasMultiple:!!t.multiple},t.value===void 0||t.defaultValue===void 0||kl||(Ra(!1,'Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://fb.me/react-controlled-components'),kl=!0)}function Ir(e,t){var n=e;n.multiple=!!t.multiple;var r=t.value;null==r?null!=t.defaultValue&&Pr(n,!!t.multiple,t.defaultValue,!0):Pr(n,!!t.multiple,r,!1)}function Nr(e,t){var n=e;n._wrapperState.initialValue=void 0;var r=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!t.multiple;var a=t.value;null==a?r!==!!t.multiple&&(null==t.defaultValue?Pr(n,!!t.multiple,t.multiple?[]:'',!1):Pr(n,!!t.multiple,t.defaultValue,!0)):Pr(n,!!t.multiple,a,!1)}function Dr(e,t){var n=t.value;null!=n&&Pr(e,!!t.multiple,n,!1)}function Ur(e,t){null==t.dangerouslySetInnerHTML?void 0:wa(!1,'`dangerouslySetInnerHTML` does not make sense on <textarea>.');var n=Aa({},t,{value:void 0,defaultValue:void 0,children:''+e._wrapperState.initialValue});return n}function kr(e,t){Cl.checkPropTypes('textarea',t,Fl),t.value===void 0||t.defaultValue===void 0||zl||(Ra(!1,'Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://fb.me/react-controlled-components'),zl=!0);var n=t.value;if(null==n){var r=t.defaultValue,a=t.children;null!=a&&(Ra(!1,'Use the `defaultValue` or `value` props instead of setting children on <textarea>.'),null==r?void 0:wa(!1,'If you supply `defaultValue` on a <textarea>, do not pass children.'),Array.isArray(a)&&(1>=a.length?void 0:wa(!1,'<textarea> can only have at most one child.'),a=a[0]),r=''+a),null==r&&(r=''),n=r}e._wrapperState={initialValue:''+n}}function Or(e,t){var n=e,r=t.value;if(null!=r){var a=''+r;a!==n.value&&(n.value=a),null==t.defaultValue&&(n.defaultValue=a)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)}function Fr(e){var t=e,n=t.textContent;n===t._wrapperState.initialValue&&(t.value=n)}function zr(e,t){Or(e,t)}function Br(e){return'svg'===e?Vl:'math'===e?Hl:Bl}function Hr(e,t){return null==e||e===Bl?Br(t):e===Vl&&'foreignObject'===t?Bl:e}function Vr(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}function Gr(e,t,n){return null==t||'boolean'==typeof t||''===t?'':n||'number'!=typeof t||0===t||Xl.hasOwnProperty(e)&&Xl[e]?(''+t).trim():t+'px'}function Wr(e){{var t='',n='';for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];if(null!=a){var o=0===r.indexOf('--');t+=n+za(r)+':',t+=Gr(r,a,o),n=';'}}return t||null}}function jr(e,t,n){var r=e.style;for(var a in t)if(t.hasOwnProperty(a)){var o=0===a.indexOf('--');o||sp(a,t[a],n);var i=Gr(a,t[a],o);'float'==a&&(a='cssFloat'),o?r.setProperty(a,i):r[a]=i}}function Xr(e,t,n){t&&(dp[e]&&(null==t.children&&null==t.dangerouslySetInnerHTML?void 0:wa(!1,'%s is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.%s',e,n())),null!=t.dangerouslySetInnerHTML&&(null==t.children?void 0:wa(!1,'Can only set one of `children` or `props.dangerouslySetInnerHTML`.'),'object'==typeof t.dangerouslySetInnerHTML&&lp in t.dangerouslySetInnerHTML?void 0:wa(!1,'`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.')),Ra(t.suppressContentEditableWarning||!t.contentEditable||null==t.children,'A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.%s',n()),null==t.style||'object'==typeof t.style?void 0:wa(!1,'The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + \'em\'}} when using JSX.%s',n()))}function Yr(e,t){if(-1===e.indexOf('-'))return'string'==typeof t.is;return'annotation-xml'===e||'color-profile'===e||'font-face'===e||'font-face-src'===e||'font-face-uri'===e||'font-face-format'===e||'font-face-name'===e||'missing-glyph'===e?!1:!0}function qr(){var e=Li.getStackAddendum();return null==e?'':e}function Kr(e,t){if(fp.call(cp,t)&&cp[t])return!0;if(mp.test(t)){var n='aria-'+t.slice(4).toLowerCase(),r=pp.hasOwnProperty(n)?n:null;if(null==r)return Ra(!1,'Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.%s',t,qr()),cp[t]=!0,!0;if(t!==r)return Ra(!1,'Invalid ARIA attribute `%s`. Did you mean `%s`?%s',t,r,qr()),cp[t]=!0,!0}if(up.test(t)){var a=t.toLowerCase(),o=pp.hasOwnProperty(a)?a:null;if(null==o)return cp[t]=!0,!1;if(t!==o)return Ra(!1,'Unknown ARIA attribute `%s`. Did you mean `%s`?%s',t,o,qr()),cp[t]=!0,!0}return!0}function Zr(e,t){var n=[];for(var r in t){var a=Kr(e,r);a||n.push(r)}var o=n.map(function(e){return'`'+e+'`'}).join(', ');1===n.length?Ra(!1,'Invalid aria prop %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop%s',o,e,qr()):1<n.length&&Ra(!1,'Invalid aria props %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop%s',o,e,qr())}function Jr(e,t){Yr(e,t)||Zr(e,t)}function Qr(){var e=Li.getStackAddendum();return null==e?'':e}function $r(e,t){('input'===e||'textarea'===e||'select'===e)&&(null==t||null!==t.value||gp||(gp=!0,'select'===e&&t.multiple?Ra(!1,'`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.%s',e,Qr()):Ra(!1,'`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.%s',e,Qr())))}function ea(){var e=Li.getStackAddendum();return null==e?'':e}function ta(e,t,n){Yr(e,t)||Sp(e,t,n)}function na(e,t){var n=e.nodeType===vi||e.nodeType===bi,r=n?e:e.ownerDocument;ft(t,r)}function ra(e){return e.nodeType===vi?e:e.ownerDocument}function aa(e){e.onclick=La}function oa(e,t,n,r,a){for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];if(o==Dp)i&&Object.freeze(i),jr(t,i,Op);else if(o==Pp){var s=i?i[Up]:void 0;null!=s&&Wl(t,s)}else if(o==Np){if('string'==typeof i){('textarea'!==e||''!=i)&&jl(t,i)}else'number'==typeof i&&jl(t,''+i);}else if(o==Ap||o==Lp);else if(o==Ip);else mo.hasOwnProperty(o)?null!=i&&('function'!=typeof i&&Xp(o,i),na(n,o)):a?ur(t,o,i):null!=i&&cr(t,o,i)}}function ia(e,t,n,r){for(var a=0;a<t.length;a+=2){var o=t[a],i=t[a+1];o===Dp?jr(e,i,Op):o===Pp?Wl(e,i):o===Np?jl(e,i):r?null==i?mr(e,o):ur(e,o,i):null==i?fr(e,o):cr(e,o,i)}}function sa(e,t,n,r){var a=ra(n),o=r,i;if(o===kp&&(o=Br(e)),o===kp){{var s=Yr(e,t);Ra(s||e===e.toLowerCase(),'<%s /> is using uppercase HTML. Always use lowercase HTML tags in React.',e)}if('script'===e){var d=a.createElement('div');d.innerHTML='<script></script>';var l=d.firstChild;i=d.removeChild(l)}else i='string'==typeof t.is?a.createElement(e,{is:t.is}):a.createElement(e)}else i=a.createElementNS(o,e);return o!==kp||s||'[object HTMLUnknownElement]'!==Object.prototype.toString.call(i)||Object.prototype.hasOwnProperty.call(Fp,e)||(Fp[e]=!0,Ra(!1,'The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.',e)),i}function da(e,t){return ra(t).createTextNode(e)}function la(e,t,n,r){var a=Yr(t,n);zp(t,n),a&&!Rp&&e.shadyRoot&&(Ra(!1,'%s is using shady DOM. Using shady DOM with React can cause things to break subtly.',Cp()||'A component'),Rp=!0);var o;switch(t){case'iframe':case'object':st('topLoad','load',e),o=n;break;case'video':case'audio':for(var i in qp)qp.hasOwnProperty(i)&&st(i,qp[i],e);o=n;break;case'source':st('topError','error',e),o=n;break;case'img':case'image':st('topError','error',e),st('topLoad','load',e),o=n;break;case'form':st('topReset','reset',e),st('topSubmit','submit',e),o=n;break;case'details':st('topToggle','toggle',e),o=n;break;case'input':yr(e,n),o=hr(e,n),st('topInvalid','invalid',e),na(r,'onChange');break;case'option':Sr(e,n),o=Mr(e,n);break;case'select':Lr(e,n),o=Ar(e,n),st('topInvalid','invalid',e),na(r,'onChange');break;case'textarea':kr(e,n),o=Ur(e,n),st('topInvalid','invalid',e),na(r,'onChange');break;default:o=n;}switch(Xr(t,o,Op),oa(t,e,r,o,a),t){case'input':Ee(e),br(e,n);break;case'textarea':Ee(e),Fr(e,n);break;case'option':Cr(e,n);break;case'select':Ir(e,n);break;default:'function'==typeof o.onClick&&aa(e);}}function pa(e,t,n,r,a){zp(t,r);var o=null,i,s;'input'===t?(i=hr(e,n),s=hr(e,r),o=[]):'option'===t?(i=Mr(e,n),s=Mr(e,r),o=[]):'select'===t?(i=Ar(e,n),s=Ar(e,r),o=[]):'textarea'===t?(i=Ur(e,n),s=Ur(e,r),o=[]):(i=n,s=r,'function'!=typeof i.onClick&&'function'==typeof s.onClick&&aa(e));Xr(t,s,Op);var d=null,l,p;for(l in i)if(!s.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if(l===Dp){var c=i[l];for(p in c)c.hasOwnProperty(p)&&(d||(d={}),d[p]='')}else if(l===Pp||l===Np);else if(l===Ap||l===Lp);else if(l===Ip);else mo.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null);for(l in s){var u=s[l],m=null==i?void 0:i[l];if(s.hasOwnProperty(l)&&u!==m&&(null!=u||null!=m))if(l===Dp){if(u&&Object.freeze(u),m){for(p in m)!m.hasOwnProperty(p)||u&&u.hasOwnProperty(p)||(d||(d={}),d[p]='');for(p in u)u.hasOwnProperty(p)&&m[p]!==u[p]&&(d||(d={}),d[p]=u[p])}else d||(!o&&(o=[]),o.push(l,d)),d=u;}else if(l===Pp){var f=u?u[Up]:void 0,g=m?m[Up]:void 0;null!=f&&g!==f&&(o=o||[]).push(l,''+f)}else if(l===Np)m!==u&&('string'==typeof u||'number'==typeof u)&&(o=o||[]).push(l,''+u);else if(l===Ap||l===Lp);else mo.hasOwnProperty(l)?(null!=u&&('function'!=typeof u&&Xp(l,u),na(a,l)),o||m===u||(o=[])):(o=o||[]).push(l,u)}return d&&(o=o||[]).push(Dp,d),o}function ca(e,t,n,r,a){'input'===n&&'radio'===a.type&&null!=a.name&&xr(e,a);var o=Yr(n,r),i=Yr(n,a);ia(e,t,o,i);'input'===n?vr(e,a):'textarea'===n?Or(e,a):'select'===n?Nr(e,a):void 0}function ua(e,t,n,r,a){{var s=!0===n[Lp],d=Yr(t,n);zp(t,n),d&&!Rp&&e.shadyRoot&&(Ra(!1,'%s is using shady DOM. Using shady DOM with React can cause things to break subtly.',Cp()||'A component'),Rp=!0)}switch(t){case'iframe':case'object':st('topLoad','load',e);break;case'video':case'audio':for(var l in qp)qp.hasOwnProperty(l)&&st(l,qp[l],e);break;case'source':st('topError','error',e);break;case'img':case'image':st('topError','error',e),st('topLoad','load',e);break;case'form':st('topReset','reset',e),st('topSubmit','submit',e);break;case'details':st('topToggle','toggle',e);break;case'input':yr(e,n),st('topInvalid','invalid',e),na(a,'onChange');break;case'option':Sr(e,n);break;case'select':Lr(e,n),st('topInvalid','invalid',e),na(a,'onChange');break;case'textarea':kr(e,n),st('topInvalid','invalid',e),na(a,'onChange');}Xr(t,n,Op);for(var p=new Set,c=e.attributes,u=0,m;u<c.length;u++)switch(m=c[u].name.toLowerCase(),m){case'data-reactroot':break;case'value':break;case'checked':break;case'selected':break;default:p.add(c[u].name);}var f=null;for(var g in n)if(n.hasOwnProperty(g)){var h=n[g];if(g==Np)'string'==typeof h?e.textContent!==h&&(!s&&Gp(e.textContent,h),f=[Np,h]):'number'==typeof h&&e.textContent!==''+h&&(!s&&Gp(e.textContent,h),f=[Np,''+h]);else if(mo.hasOwnProperty(g))null!=h&&('function'!=typeof h&&Xp(g,h),na(a,g));else{var y,x;if(s);else if(g==Ap||g==Lp||'value'==g||'checked'==g||'selected'==g);else if(g==Pp){var v=h?h[Up]||'':'',b=e.innerHTML,_=Yp(e,v);_!==b&&Wp(g,b,_)}else if(g==Dp){p['delete'](g);var E=Wr(h);y=e.getAttribute('style'),E!==y&&Wp(g,y,E)}else if(d)p['delete'](g.toLowerCase()),y=pr(e,g,h),h!==y&&Wp(g,y,h);else if(o(g,h)){if(x=i(g))p['delete'](x.attributeName),y=lr(e,g,h);else{var T=r;T===kp&&(T=Br(t)),T===kp?p['delete'](g.toLowerCase()):p['delete'](g),y=pr(e,g,h)}h!==y&&Wp(g,y,h)}}}switch(0<p.size&&!s&&jp(p),t){case'input':Ee(e),br(e,n);break;case'textarea':Ee(e),Fr(e,n);break;case'select':case'option':break;default:'function'==typeof n.onClick&&aa(e);}return f}function ma(e,t){var n=e.nodeValue!==t;return n}function fa(e,t){Gp(e.nodeValue,t)}function ga(e,t){{if(wp)return;wp=!0,Ra(!1,'Did not expect server HTML to contain a <%s> in <%s>.',t.nodeName.toLowerCase(),e.nodeName.toLowerCase())}}function ha(e,t){{if(wp)return;wp=!0,Ra(!1,'Did not expect server HTML to contain the text node "%s" in <%s>.',t.nodeValue,e.nodeName.toLowerCase())}}function ya(e,t){{if(wp)return;wp=!0,Ra(!1,'Expected server HTML to contain a matching <%s> in <%s>.',t,e.nodeName.toLowerCase())}}function xa(e,t){{if(''===t)return;if(wp)return;wp=!0,Ra(!1,'Expected server HTML to contain a matching text node for "%s" in <%s>.',t,e.nodeName.toLowerCase())}}function va(e){return!!(e&&(e.nodeType===hi||e.nodeType===vi||e.nodeType===bi||e.nodeType===xi&&' react-mount-point-unstable '===e.nodeValue))}function ba(e){return e?e.nodeType===vi?e.documentElement:e.firstChild:null}function _a(e){var t=ba(e);return!!(t&&t.nodeType===hi&&t.hasAttribute(Ga))}function Ea(e,t){return('button'===e||'input'===e||'select'===e||'textarea'===e)&&!!t.autoFocus}function Ta(e,t,n,r,a){va(n)?void 0:wa(!1,'Target container is not a DOM element.');{if(n._reactRootContainer&&n.nodeType!==xi){var o=vc.findHostInstanceWithNoPortals(n._reactRootContainer.current);o&&Ra(o.parentNode===n,'render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.')}var i=!!n._reactRootContainer,s=ba(n),d=!!(s&&M(s));Ra(!d||i,'render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render.'),Ra(n.nodeType!==hi||!n.tagName||'BODY'!==n.tagName.toUpperCase(),'render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.')}var l=n._reactRootContainer;if(!l){var p=r||_a(n);if(!p)for(var c=!1,u;u=n.lastChild;)!c&&u.nodeType===hi&&u.hasAttribute(Ga)&&(c=!0,Ra(!1,'render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.')),n.removeChild(u);!p||r||bc||(bc=!0,_l(!1,'render(): Calling ReactDOM.render() to hydrate server-rendered markup will stop working in React v17. Replace the ReactDOM.render() call with ReactDOM.hydrate() if you want React to attach to the server HTML.'));var m=vc.createContainer(n,p);l=n._reactRootContainer=m,vc.unbatchedUpdates(function(){vc.updateContainer(t,m,e,a)})}else vc.updateContainer(t,l,e,a);return vc.getPublicRootInstance(l)}function Sa(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return va(t)?void 0:wa(!1,'Target container is not a DOM element.'),ir(e,t,null,n)}function Ca(e,t){var n=vc.createContainer(e,t);this._reactRootContainer=n}var Ma=n(4),wa=n(5),Ra=n(6),Pa=n(8),Aa=n(2),La=n(1),Ia=n(9),Na=n(10),Da=n(11),Ua=n(12),ka=n(13),Oa=n(3),Fa=n(7),za=n(23),Ba=n(25);Ma?void 0:wa(!1,'ReactDOM was loaded before React. Make sure you load the React package before loading ReactDOM.');var Ha={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},Va={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var n=Va,r=e.Properties||{},a=e.DOMAttributeNamespaces||{},o=e.DOMAttributeNames||{},i=e.DOMMutationMethods||{};for(var s in r){Wa.hasOwnProperty(s)?wa(!1,'injectDOMPropertyConfig(...): You\'re trying to inject DOM property \'%s\' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.',s):void 0;var d=s.toLowerCase(),l=r[s],p={attributeName:d,attributeNamespace:null,propertyName:s,mutationMethod:null,mustUseProperty:t(l,n.MUST_USE_PROPERTY),hasBooleanValue:t(l,n.HAS_BOOLEAN_VALUE),hasNumericValue:t(l,n.HAS_NUMERIC_VALUE),hasPositiveNumericValue:t(l,n.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:t(l,n.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:t(l,n.HAS_STRING_BOOLEAN_VALUE)};if(1>=p.hasBooleanValue+p.hasNumericValue+p.hasOverloadedBooleanValue?void 0:wa(!1,'DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s',s),o.hasOwnProperty(s)){var c=o[s];p.attributeName=c}a.hasOwnProperty(s)&&(p.attributeNamespace=a[s]),i.hasOwnProperty(s)&&(p.mutationMethod=i[s]),Wa[s]=p}}},Ga='data-reactroot',Wa={},ja=Va,Xa=ja.MUST_USE_PROPERTY,Ya=ja.HAS_BOOLEAN_VALUE,qa=ja.HAS_NUMERIC_VALUE,Ka=ja.HAS_POSITIVE_NUMERIC_VALUE,Za=ja.HAS_OVERLOADED_BOOLEAN_VALUE,Ja=ja.HAS_STRING_BOOLEAN_VALUE,Qa=ja.HAS_STRING_BOOLEAN_VALUE,$a={xlink:'http://www.w3.org/1999/xlink',xml:'http://www.w3.org/XML/1998/namespace'},eo={Properties:{autoReverse:Qa,externalResourcesRequired:Qa,preserveAlpha:Qa},DOMAttributeNames:{autoReverse:'autoReverse',externalResourcesRequired:'externalResourcesRequired',preserveAlpha:'preserveAlpha'},DOMAttributeNamespaces:{xlinkActuate:$a.xlink,xlinkArcrole:$a.xlink,xlinkHref:$a.xlink,xlinkRole:$a.xlink,xlinkShow:$a.xlink,xlinkTitle:$a.xlink,xlinkType:$a.xlink,xmlBase:$a.xml,xmlLang:$a.xml,xmlSpace:$a.xml}},to=/[\-\:]([a-z])/g,no=function(e){return e[1].toUpperCase()};['accent-height','alignment-baseline','arabic-form','baseline-shift','cap-height','clip-path','clip-rule','color-interpolation','color-interpolation-filters','color-profile','color-rendering','dominant-baseline','enable-background','fill-opacity','fill-rule','flood-color','flood-opacity','font-family','font-size','font-size-adjust','font-stretch','font-style','font-variant','font-weight','glyph-name','glyph-orientation-horizontal','glyph-orientation-vertical','horiz-adv-x','horiz-origin-x','image-rendering','letter-spacing','lighting-color','marker-end','marker-mid','marker-start','overline-position','overline-thickness','paint-order','panose-1','pointer-events','rendering-intent','shape-rendering','stop-color','stop-opacity','strikethrough-position','strikethrough-thickness','stroke-dasharray','stroke-dashoffset','stroke-linecap','stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke-width','text-anchor','text-decoration','text-rendering','underline-position','underline-thickness','unicode-bidi','unicode-range','units-per-em','v-alphabetic','v-hanging','v-ideographic','v-mathematical','vector-effect','vert-adv-y','vert-origin-x','vert-origin-y','word-spacing','writing-mode','x-height','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xmlns:xlink','xml:lang','xml:space'].forEach(function(e){var t=e.replace(to,no);eo.Properties[t]=0,eo.DOMAttributeNames[t]=e}),ja.injectDOMPropertyConfig({Properties:{allowFullScreen:Ya,async:Ya,autoFocus:Ya,autoPlay:Ya,capture:Za,checked:Xa|Ya,cols:Ka,contentEditable:Ja,controls:Ya,default:Ya,defer:Ya,disabled:Ya,download:Za,draggable:Ja,formNoValidate:Ya,hidden:Ya,loop:Ya,multiple:Xa|Ya,muted:Xa|Ya,noValidate:Ya,open:Ya,playsInline:Ya,readOnly:Ya,required:Ya,reversed:Ya,rows:Ka,rowSpan:qa,scoped:Ya,seamless:Ya,selected:Xa|Ya,size:Ka,start:qa,span:Ka,spellCheck:Ja,style:0,tabIndex:0,itemScope:Ya,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:Ja},DOMAttributeNames:{acceptCharset:'accept-charset',className:'class',htmlFor:'for',httpEquiv:'http-equiv'},DOMMutationMethods:{value:function(e,t){return null==t?e.removeAttribute('value'):void('number'!==e.type||!1===e.hasAttribute('value')?e.setAttribute('value',''+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute('value',''+t))}}}),ja.injectDOMPropertyConfig(eo);var ro={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){'function'==typeof e.invokeGuardedCallback?void 0:wa(!1,'Injected invokeGuardedCallback() must be a function.'),ao=e.invokeGuardedCallback}},invokeGuardedCallback:function(){ao.apply(ro,arguments)},invokeGuardedCallbackAndCatchFirstError:function(){if(ro.invokeGuardedCallback.apply(this,arguments),ro.hasCaughtError()){var e=ro.clearCaughtError();ro._hasRethrowError||(ro._hasRethrowError=!0,ro._rethrowError=e)}},rethrowCaughtError:function(){return so.apply(ro,arguments)},hasCaughtError:function(){return ro._hasCaughtError},clearCaughtError:function(){if(ro._hasCaughtError){var e=ro._caughtError;return ro._caughtError=null,ro._hasCaughtError=!1,e}wa(!1,'clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.')}},ao=function(e,t,n){ro._hasCaughtError=!1,ro._caughtError=null;var r=Array.prototype.slice.call(arguments,3);try{t.apply(n,r)}catch(e){ro._caughtError=e,ro._hasCaughtError=!0}};if('undefined'!=typeof window&&'function'==typeof window.dispatchEvent&&'undefined'!=typeof document&&'function'==typeof document.createEvent){var oo=document.createElement('react'),io=function(e,t,n){function r(){oo.removeEventListener(l,r,!1),t.apply(n,i),o=!1}function a(e){p=e.error,s=!0,null===p&&0===e.colno&&0===e.lineno&&(d=!0)}var o=!0,i=Array.prototype.slice.call(arguments,3),s=!1,d=!1,l='react-'+(e?e:'invokeguardedcallback'),p;window.addEventListener('error',a),oo.addEventListener(l,r,!1);var c=document.createEvent('Event');c.initEvent(l,!1,!1),oo.dispatchEvent(c),o?(s?d&&(p=new Error('A cross-origin error was thrown. React doesn\'t have access to the actual error object in development. See https://fb.me/react-crossorigin-error for more information.')):p=new Error('An error was thrown inside one of your components, but React doesn\'t know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It\'s possible that these don\'t work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.'),ro._hasCaughtError=!0,ro._caughtError=p):(ro._hasCaughtError=!1,ro._caughtError=null),window.removeEventListener('error',a)};ao=io}var so=function(){if(ro._hasRethrowError){var e=ro._rethrowError;throw ro._rethrowError=null,ro._hasRethrowError=!1,e}},lo=null,po={},co=[],uo={},mo={},fo={},go={},ho=Object.freeze({plugins:co,eventNameDispatchConfigs:uo,registrationNameModules:mo,registrationNameDependencies:fo,possibleRegistrationNames:go,injectEventPluginOrder:u,injectEventPluginsByName:m}),yo=null,xo=null,vo=null,bo;bo=function(e){var t=e._dispatchListeners,n=e._dispatchInstances,r=Array.isArray(t),a=r?t.length:t?1:0,o=Array.isArray(n),i=o?n.length:n?1:0;Ra(o===r&&i===a,'EventPluginUtils: Invalid `event`.')};var _o=null,Eo=function(e,t){e&&(g(e,t),!e.isPersistent()&&e.constructor.release(e))},To=function(t){return Eo(t,!0)},So=function(t){return Eo(t,!1)},Co={injectEventPluginOrder:u,injectEventPluginsByName:m},Mo=Object.freeze({injection:Co,getListener:b,extractEvents:_,enqueueEvents:E,processEventQueue:T}),wo=0,Ro=1,Po=2,Ao=3,Lo=4,Io=5,No=6,Do=7,Uo=8,ko=9,Oo=10,Fo=Math.random().toString(36).slice(2),zo='__reactInternalInstance$'+Fo,Bo='__reactEventHandlers$'+Fo,Ho=Object.freeze({precacheFiberNode:S,getClosestInstanceFromNode:C,getInstanceFromNode:M,getNodeFromInstance:w,getFiberCurrentPropsFromNode:R,updateFiberProps:P}),Vo=Object.freeze({accumulateTwoPhaseDispatches:H,accumulateTwoPhaseDispatchesSkipTarget:function(e){y(e,F)},accumulateEnterLeaveDispatches:V,accumulateDirectDispatches:function(e){y(e,B)}}),Go=null,Wo={_root:null,_startText:null,_fallbackText:null},jo=!1,Xo='function'==typeof Proxy,Yo=10,qo=['dispatchConfig','_targetInst','nativeEvent','isDefaultPrevented','isPropagationStopped','_dispatchListeners','_dispatchInstances'],Ko={type:null,target:null,currentTarget:La.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};Aa(q.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():'unknown'!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=La.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():'unknown'!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=La.thatReturnsTrue)},persist:function(){this.isPersistent=La.thatReturnsTrue},isPersistent:La.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)Object.defineProperty(this,t,K(t,e[t]));for(var n=0;n<qo.length;n++)this[qo[n]]=null;Object.defineProperty(this,'nativeEvent',K('nativeEvent',null)),Object.defineProperty(this,'preventDefault',K('preventDefault',La)),Object.defineProperty(this,'stopPropagation',K('stopPropagation',La))}}),q.Interface=Ko,q.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;Aa(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=Aa({},n.Interface,t),e.augmentClass=n.augmentClass,Q(e)},Xo&&(q=new Proxy(q,{construct:function(e,t){return this.apply(e,Object.create(e.prototype),t)},apply:function(e,t,n){return new Proxy(e.apply(t,n),{set:function(e,t,n){return'isPersistent'===t||e.constructor.Interface.hasOwnProperty(t)||-1!==qo.indexOf(t)||(Ra(jo||e.isPersistent(),'This synthetic event is reused for performance reasons. If you\'re seeing this, you\'re adding a new property in the synthetic event object. The property is never released. See https://fb.me/react-event-pooling for more information.'),jo=!0),e[t]=n,!0}})}})),Q(q);var Zo=q;Zo.augmentClass($,{data:null});Zo.augmentClass(ee,{data:null});var Jo=[9,13,27,32],Qo=229,$o=Pa.canUseDOM&&'CompositionEvent'in window,ei=null;Pa.canUseDOM&&'documentMode'in document&&(ei=document.documentMode);var ti=Pa.canUseDOM&&'TextEvent'in window&&!ei&&!function(){var e=window.opera;return'object'==typeof e&&'function'==typeof e.version&&12>=parseInt(e.version(),10)}(),ni=Pa.canUseDOM&&(!$o||ei&&8<ei&&11>=ei),ri=32,ai=' ',oi={beforeInput:{phasedRegistrationNames:{bubbled:'onBeforeInput',captured:'onBeforeInputCapture'},dependencies:['topCompositionEnd','topKeyPress','topTextInput','topPaste']},compositionEnd:{phasedRegistrationNames:{bubbled:'onCompositionEnd',captured:'onCompositionEndCapture'},dependencies:['topBlur','topCompositionEnd','topKeyDown','topKeyPress','topKeyUp','topMouseDown']},compositionStart:{phasedRegistrationNames:{bubbled:'onCompositionStart',captured:'onCompositionStartCapture'},dependencies:['topBlur','topCompositionStart','topKeyDown','topKeyPress','topKeyUp','topMouseDown']},compositionUpdate:{phasedRegistrationNames:{bubbled:'onCompositionUpdate',captured:'onCompositionUpdateCapture'},dependencies:['topBlur','topCompositionUpdate','topKeyDown','topKeyPress','topKeyUp','topMouseDown']}},ii=!1,si=!1,di=null,li=null,pi=null,ci={injectFiberControlledHostComponent:function(e){di=e}},ui=Object.freeze({injection:ci,enqueueStateRestore:ce,restoreStateIfNeeded:ue}),mi=function(e,t){return e(t)},fi=!1,gi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},hi=1,yi=3,xi=8,vi=9,bi=11,_i;Pa.canUseDOM&&(_i=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature('',''));var Ei={change:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'},dependencies:['topBlur','topChange','topClick','topFocus','topInput','topKeyDown','topKeyUp','topSelectionChange']}},Ti=null,Si=null,Ci=!1;Pa.canUseDOM&&(Ci=he('input')&&(!document.documentMode||9<document.documentMode));var Mi={eventTypes:Ei,_isInputEventSupported:Ci,extractEvents:function(e,t,n,r){var a=t?w(t):window,o,i;if(Ce(a)?o=Pe:fe(a)?Ci?o=Oe:(o=De,i=Ne):Ue(a)&&(o=ke),o){var s=o(e,t);if(s){var d=Se(s,n,r);return d}}i&&i(e,a,t),'topBlur'===e&&Fe(t,a)}};Zo.augmentClass(ze,{view:null,detail:null});var wi={Alt:'altKey',Control:'ctrlKey',Meta:'metaKey',Shift:'shiftKey'};ze.augmentClass(Ve,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:He,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var Ri={mouseEnter:{registrationName:'onMouseEnter',dependencies:['topMouseOut','topMouseOver']},mouseLeave:{registrationName:'onMouseLeave',dependencies:['topMouseOut','topMouseOver']}},Pi=Ma.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ai=Pi.ReactCurrentOwner,Li=Pi.ReactDebugCurrentFrame,Ii=0,Ni=1,Di=2,Ui=4,ki=8,Oi=16,Fi=32,zi=64,Bi=128,Hi=1,Vi=2,Gi=3,Wi=10,ji=[],Xi=!0,Yi=Object.freeze({get _enabled(){return Xi},get _handleTopLevel(){return Ji},setHandleTopLevel:at,setEnabled:ot,isEnabled:it,trapBubbledEvent:st,trapCapturedEvent:dt,dispatchEvent:lt}),qi={animationend:pt('Animation','AnimationEnd'),animationiteration:pt('Animation','AnimationIteration'),animationstart:pt('Animation','AnimationStart'),transitionend:pt('Transition','TransitionEnd')},Ki={},Zi={},Ji;Pa.canUseDOM&&(Zi=document.createElement('div').style,!('AnimationEvent'in window)&&(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),!('TransitionEvent'in window)&&delete qi.transitionend.transition);var Qi={topAbort:'abort',topAnimationEnd:ct('animationend')||'animationend',topAnimationIteration:ct('animationiteration')||'animationiteration',topAnimationStart:ct('animationstart')||'animationstart',topBlur:'blur',topCancel:'cancel',topCanPlay:'canplay',topCanPlayThrough:'canplaythrough',topChange:'change',topClick:'click',topClose:'close',topCompositionEnd:'compositionend',topCompositionStart:'compositionstart',topCompositionUpdate:'compositionupdate',topContextMenu:'contextmenu',topCopy:'copy',topCut:'cut',topDoubleClick:'dblclick',topDrag:'drag',topDragEnd:'dragend',topDragEnter:'dragenter',topDragExit:'dragexit',topDragLeave:'dragleave',topDragOver:'dragover',topDragStart:'dragstart',topDrop:'drop',topDurationChange:'durationchange',topEmptied:'emptied',topEncrypted:'encrypted',topEnded:'ended',topError:'error',topFocus:'focus',topInput:'input',topKeyDown:'keydown',topKeyPress:'keypress',topKeyUp:'keyup',topLoadedData:'loadeddata',topLoad:'load',topLoadedMetadata:'loadedmetadata',topLoadStart:'loadstart',topMouseDown:'mousedown',topMouseMove:'mousemove',topMouseOut:'mouseout',topMouseOver:'mouseover',topMouseUp:'mouseup',topPaste:'paste',topPause:'pause',topPlay:'play',topPlaying:'playing',topProgress:'progress',topRateChange:'ratechange',topScroll:'scroll',topSeeked:'seeked',topSeeking:'seeking',topSelectionChange:'selectionchange',topStalled:'stalled',topSuspend:'suspend',topTextInput:'textInput',topTimeUpdate:'timeupdate',topToggle:'toggle',topTouchCancel:'touchcancel',topTouchEnd:'touchend',topTouchMove:'touchmove',topTouchStart:'touchstart',topTransitionEnd:ct('transitionend')||'transitionend',topVolumeChange:'volumechange',topWaiting:'waiting',topWheel:'wheel'},$i={topLevelTypes:Qi}.topLevelTypes,es={},ts=0,ns='_reactListenersID'+(''+Math.random()).slice(2),rs=Pa.canUseDOM&&'documentMode'in document&&11>=document.documentMode,as={select:{phasedRegistrationNames:{bubbled:'onSelect',captured:'onSelectCapture'},dependencies:['topBlur','topContextMenu','topFocus','topKeyDown','topKeyUp','topMouseDown','topMouseUp','topSelectionChange']}},os=null,is=null,ss=null,ds=!1;Zo.augmentClass(At,{animationName:null,elapsedTime:null,pseudoElement:null});Zo.augmentClass(Lt,{clipboardData:function(e){return'clipboardData'in e?e.clipboardData:window.clipboardData}});ze.augmentClass(It,{relatedTarget:null});var ls={Esc:'Escape',Spacebar:' ',Left:'ArrowLeft',Up:'ArrowUp',Right:'ArrowRight',Down:'ArrowDown',Del:'Delete',Win:'OS',Menu:'ContextMenu',Apps:'ContextMenu',Scroll:'ScrollLock',MozPrintableKey:'Unidentified'},ps={8:'Backspace',9:'Tab',12:'Clear',13:'Enter',16:'Shift',17:'Control',18:'Alt',19:'Pause',20:'CapsLock',27:'Escape',32:' ',33:'PageUp',34:'PageDown',35:'End',36:'Home',37:'ArrowLeft',38:'ArrowUp',39:'ArrowRight',40:'ArrowDown',45:'Insert',46:'Delete',112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7',119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'NumLock',145:'ScrollLock',224:'Meta'};ze.augmentClass(Dt,{key:function(e){if(e.key){var t=ls[e.key]||e.key;if('Unidentified'!==t)return t}if('keypress'===e.type){var n=Nt(e);return 13===n?'Enter':a(n)}return'keydown'===e.type||'keyup'===e.type?ps[e.keyCode]||'Unidentified':''},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:He,charCode:function(e){return'keypress'===e.type?Nt(e):0},keyCode:function(e){return'keydown'===e.type||'keyup'===e.type?e.keyCode:0},which:function(e){return'keypress'===e.type?Nt(e):'keydown'===e.type||'keyup'===e.type?e.keyCode:0}});Ve.augmentClass(Ut,{dataTransfer:null});ze.augmentClass(kt,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:He});Zo.augmentClass(Ot,{propertyName:null,elapsedTime:null,pseudoElement:null});Ve.augmentClass(Ft,{deltaX:function(e){return'deltaX'in e?e.deltaX:'wheelDeltaX'in e?-e.wheelDeltaX:0},deltaY:function(e){return'deltaY'in e?e.deltaY:'wheelDeltaY'in e?-e.wheelDeltaY:'wheelDelta'in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var cs={},us={};['abort','animationEnd','animationIteration','animationStart','blur','cancel','canPlay','canPlayThrough','click','close','contextMenu','copy','cut','doubleClick','drag','dragEnd','dragEnter','dragExit','dragLeave','dragOver','dragStart','drop','durationChange','emptied','encrypted','ended','error','focus','input','invalid','keyDown','keyPress','keyUp','load','loadedData','loadedMetadata','loadStart','mouseDown','mouseMove','mouseOut','mouseOver','mouseUp','paste','pause','play','playing','progress','rateChange','reset','scroll','seeked','seeking','stalled','submit','suspend','timeUpdate','toggle','touchCancel','touchEnd','touchMove','touchStart','transitionEnd','volumeChange','waiting','wheel'].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n='on'+t,r='top'+t,a={phasedRegistrationNames:{bubbled:n,captured:n+'Capture'},dependencies:[r]};cs[e]=a,us[r]=a});var ms=['topAbort','topCancel','topCanPlay','topCanPlayThrough','topClose','topDurationChange','topEmptied','topEncrypted','topEnded','topError','topInput','topInvalid','topLoad','topLoadedData','topLoadedMetadata','topLoadStart','topPause','topPlay','topPlaying','topProgress','topRateChange','topReset','topSeeked','topSeeking','topStalled','topSubmit','topSuspend','topTimeUpdate','topToggle','topVolumeChange','topWaiting'];at(function(e,t,n,r){var a=_(e,t,n,r);ut(a)}),Co.injectEventPluginOrder(['ResponderEventPlugin','SimpleEventPlugin','TapEventPlugin','EnterLeaveEventPlugin','ChangeEventPlugin','SelectEventPlugin','BeforeInputEventPlugin']),{injectComponentTree:function(e){yo=e.getFiberCurrentPropsFromNode,xo=e.getInstanceFromNode,vo=e.getNodeFromInstance,Ra(vo&&xo,'EventPluginUtils.injection.injectComponentTree(...): Injected module is missing getNodeFromInstance or getInstanceFromNode.')}}.injectComponentTree(Ho),Co.injectEventPluginsByName({SimpleEventPlugin:{eventTypes:cs,extractEvents:function(e,t,n,r){var a=us[e];if(!a)return null;var o;switch(e){case'topKeyPress':if(0===Nt(n))return null;case'topKeyDown':case'topKeyUp':o=Dt;break;case'topBlur':case'topFocus':o=It;break;case'topClick':if(2===n.button)return null;case'topDoubleClick':case'topMouseDown':case'topMouseMove':case'topMouseUp':case'topMouseOut':case'topMouseOver':case'topContextMenu':o=Ve;break;case'topDrag':case'topDragEnd':case'topDragEnter':case'topDragExit':case'topDragLeave':case'topDragOver':case'topDragStart':case'topDrop':o=Ut;break;case'topTouchCancel':case'topTouchEnd':case'topTouchMove':case'topTouchStart':o=kt;break;case'topAnimationEnd':case'topAnimationIteration':case'topAnimationStart':o=At;break;case'topTransitionEnd':o=Ot;break;case'topScroll':o=ze;break;case'topWheel':o=Ft;break;case'topCopy':case'topCut':case'topPaste':o=Lt;break;default:-1===ms.indexOf(e)&&Ra(!1,'SimpleEventPlugin: Unhandled event type, `%s`. This warning is likely caused by a bug in React. Please file an issue.',e),o=Zo;}var i=o.getPooled(a,t,n,r);return H(i),i}},EnterLeaveEventPlugin:{eventTypes:Ri,extractEvents:function(e,t,n,r){if('topMouseOver'===e&&(n.relatedTarget||n.fromElement))return null;if('topMouseOut'!==e&&'topMouseOver'!==e)return null;var a;if(r.window===r)a=r;else{var o=r.ownerDocument;a=o?o.defaultView||o.parentWindow:window}var i,s;if('topMouseOut'===e){i=t;var d=n.relatedTarget||n.toElement;s=d?C(d):null}else i=null,s=t;if(i===s)return null;var l=null==i?a:w(i),p=null==s?a:w(s),c=Ve.getPooled(Ri.mouseLeave,i,n,r);c.type='mouseleave',c.target=l,c.relatedTarget=p;var u=Ve.getPooled(Ri.mouseEnter,s,n,r);return u.type='mouseenter',u.target=p,u.relatedTarget=l,V(c,u,i,s),[c,u]}},ChangeEventPlugin:Mi,SelectEventPlugin:{eventTypes:as,extractEvents:function(e,t,n,r){var a=r.window===r?r.document:r.nodeType===vi?r:r.ownerDocument;if(!a||!gt('onSelect',a))return null;var o=t?w(t):window;switch(e){case'topFocus':(fe(o)||'true'===o.contentEditable)&&(os=o,is=t,ss=null);break;case'topBlur':os=null,is=null,ss=null;break;case'topMouseDown':ds=!0;break;case'topContextMenu':case'topMouseUp':return ds=!1,Pt(n,r);case'topSelectionChange':if(rs)break;case'topKeyDown':case'topKeyUp':return Pt(n,r);}return null}},BeforeInputEventPlugin:{eventTypes:oi,extractEvents:function(e,t,n,r){return[ie(e,t,n,r),le(e,t,n,r)]}}});var fs=!1,gs=[];var hs=[],ys=-1,xs=function(e,t,n){return'\n    in '+(e||'Unknown')+(t?' (at '+t.fileName.replace(/^.*[\\\/]/,'')+':'+t.lineNumber+')':n?' (created by '+n+')':'')},vs={current:null,phase:null,resetCurrentFiber:function(){Li.getCurrentStack=null,vs.current=null,vs.phase=null},setCurrentFiber:function(e){Li.getCurrentStack=jt,vs.current=e,vs.phase=null},setCurrentPhase:function(e){vs.phase=e},getCurrentFiberOwnerName:function(){{var e=vs.current;if(null===e)return null;var t=e._debugOwner;if(null!==t&&'undefined'!=typeof t)return Xe(t)}return null},getCurrentFiberStackAddendum:jt},bs='\u269B',_s='undefined'!=typeof performance&&'function'==typeof performance.mark&&'function'==typeof performance.clearMarks&&'function'==typeof performance.measure&&'function'==typeof performance.clearMeasures,Es=null,Ts=null,Ss=null,Cs=!1,Ms=!1,ws=!1,Rs=0,Ps=0,As=!1,Ls=new Set,Is=function(e){return bs+' '+e},Ns=function(e,t){var n=t?'\u26D4'+' ':bs+' ',r=t?' Warning: '+t:'';return''+n+e+r},Ds=function(e){performance.mark(Is(e))},Us=function(e){performance.clearMarks(Is(e))},ks=function(e,t,n){var r=Is(t),a=Ns(e,n);try{performance.measure(a,r)}catch(e){}performance.clearMarks(r),performance.clearMeasures(a)},Os=function(e,t){return e+' (#'+t+')'},Fs=function(e,t,n){return null===n?e+' ['+(t?'update':'mount')+']':e+'.'+n},zs=function(e,t){var n=Xe(e)||'Unknown',r=e._debugID,a=null!==e.alternate,o=Fs(n,a,t);if(Cs&&Ls.has(o))return!1;Ls.add(o);var i=Os(o,r);return Ds(i),!0},Bs=function(e,t){var n=Xe(e)||'Unknown',r=e._debugID,a=null!==e.alternate,o=Fs(n,a,t),i=Os(o,r);Us(i)},Hs=function(e,t,n){var r=Xe(e)||'Unknown',a=e._debugID,o=null!==e.alternate,i=Fs(r,o,t),s=Os(i,a);ks(i,s,n)},Vs=function(e){switch(e.tag){case Ao:case Io:case No:case Lo:case ko:case Oo:return!0;default:return!1;}},Gs=function(){null!=Ts&&null!=Ss&&Bs(Ss,Ts),Ss=null,Ts=null,ws=!1},Ws=function(){for(var e=Es;e;)e._debugIsCurrentlyTiming&&Hs(e,null,null),e=e['return']},js=function(e){null!==e['return']&&js(e['return']),e._debugIsCurrentlyTiming&&zs(e,null)},Xs=function(){null!=Es&&js(Es)};var Ys={},qs=zt(Oa),Ks=zt(!1),Zs=Oa,Js=0,Qs=1,$s=2147483647,ed=10,td=2,nd=0,rd=1;{var ad=!1;try{Object.preventExtensions({})}catch(t){ad=!0}}var od=1,id=function(e,t,n){return new Pn(e,t,n)},sd=null,dd=null,ld=!1;var pd=!1,cd={},ud=Array.isArray;{var md={},fd=function(e,t){Ra(null===e||'function'==typeof e,'%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.',t,e)};Object.defineProperty(cd,'_processChildContext',{enumerable:!1,value:function(){wa(!1,'_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn\'t supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).')}}),Object.freeze(cd)}var gd=function(e,t,n,r){function a(e,t,n,r,a,o){if(null===t||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)return!0;var i=e.stateNode,s=e.type;if('function'==typeof i.shouldComponentUpdate){en(e,'shouldComponentUpdate');var d=i.shouldComponentUpdate(n,a,o);return tn(),fs,Ra(void 0!==d,'%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.',Xe(e)||'Unknown'),d}return s.prototype&&s.prototype.isPureReactComponent?!Da(t,n)||!Da(r,a):!0}function o(e){var t=e.stateNode,n=e.type;{var r=Xe(e),a=t.render;a||(n.prototype&&'function'==typeof n.prototype.render?Ra(!1,'%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?',r):Ra(!1,'%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.',r));var o=!t.getInitialState||t.getInitialState.isReactClassApproved||t.state;Ra(o,'getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?',r);var i=!t.getDefaultProps||t.getDefaultProps.isReactClassApproved;Ra(i,'getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.',r);var s=!t.propTypes;Ra(s,'propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.',r);var d=!t.contextTypes;Ra(d,'contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.',r);var l='function'!=typeof t.componentShouldUpdate;Ra(l,'%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.',r),n.prototype&&n.prototype.isPureReactComponent&&'undefined'!=typeof t.shouldComponentUpdate&&Ra(!1,'%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.',Xe(e)||'A pure component');var p='function'!=typeof t.componentDidUnmount;Ra(p,'%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?',r);var c='function'!=typeof t.componentDidReceiveProps;Ra(c,'%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().',r);var u='function'!=typeof t.componentWillRecieveProps;Ra(u,'%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',r);var m=t.props!==e.pendingProps;Ra(t.props===void 0||!m,'%s(...): When calling super() in `%s`, make sure to pass up the same props that your component\'s constructor was passed.',r,r);var f=!t.defaultProps;Ra(f,'Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.',r,r)}var g=t.state;g&&('object'!=typeof g||ud(g))&&Ra(!1,'%s.state: must be set to an object or null',Xe(e)),'function'==typeof t.getChildContext&&Ra('object'==typeof e.type.childContextTypes,'%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().',Xe(e))}function i(e,t){t.props=e.memoizedProps,t.state=e.memoizedState}function s(e,t){t.updater=p,e.stateNode=t,je(t,e),t._reactInternalInstance=cd}function d(e,t){en(e,'componentWillMount');var n=t.state;t.componentWillMount(),tn(),fs,n!==t.state&&(Ra(!1,'%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component\'s constructor). Use setState instead.',Xe(e)),p.enqueueReplaceState(t,t.state,null))}function l(e,t,n,r){en(e,'componentWillReceiveProps');var a=t.state;if(t.componentWillReceiveProps(n,r),tn(),fs,t.state!==a){{var o=Xe(e)||'Component';md[o]||(Ra(!1,'%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component\'s constructor). Use setState instead.',o),md[o]=!0)}p.enqueueReplaceState(t,t.state,null)}}var p={isMounted:Ke,enqueueSetState:function(n,r,a){var o=Ge(n);a=a===void 0?null:a,fd(a,'setState');var i=t(o),s={expirationTime:i,partialState:r,callback:a,isReplace:!1,isForced:!1,nextCallback:null,next:null};Yn(o,s),e(o,i)},enqueueReplaceState:function(n,r,a){var o=Ge(n);a=a===void 0?null:a,fd(a,'replaceState');var i=t(o),s={expirationTime:i,partialState:r,callback:a,isReplace:!0,isForced:!1,nextCallback:null,next:null};Yn(o,s),e(o,i)},enqueueForceUpdate:function(n,r){var a=Ge(n);r=r===void 0?null:r,fd(r,'forceUpdate');var o=t(a),i={expirationTime:o,partialState:null,callback:r,isReplace:!1,isForced:!0,nextCallback:null,next:null};Yn(a,i),e(a,o)}};return{adoptClassInstance:s,constructClassInstance:function(e,t){var n=e.type,r=cn(e),a=fn(e),o=a?mn(e,r):Oa,i=new n(t,o);return s(e,i),a&&un(e,r,o),i},mountClassInstance:function(e,t){var n=e.alternate;o(e);var r=e.stateNode,a=r.state||null,i=e.pendingProps;i?void 0:wa(!1,'There must be pending props for an initial mount. This error is likely caused by a bug in React. Please file an issue.');var s=cn(e);if(r.props=i,r.state=e.memoizedState=a,r.refs=Oa,r.context=mn(e,s),null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent&&(e.internalContextTag|=rd),'function'==typeof r.componentWillMount){d(e,r);var l=e.updateQueue;null!==l&&(r.state=Zn(n,e,l,r,i,t))}'function'==typeof r.componentDidMount&&(e.effectTag|=Ui)},updateClassInstance:function(e,t,o){var s=t.stateNode;i(t,s);var d=t.memoizedProps,p=t.pendingProps;p||(p=d,null==p?wa(!1,'There should always be pending or memoized props. This error is likely caused by a bug in React. Please file an issue.'):void 0);var c=s.context,u=cn(t),m=mn(t,u);'function'==typeof s.componentWillReceiveProps&&(d!==p||c!==m)&&l(t,s,p,m);var f=t.memoizedState,g;if(g=null===t.updateQueue?f:Zn(e,t,t.updateQueue,s,p,o),d===p&&f===g&&!gn()&&!(null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return'function'==typeof s.componentDidUpdate&&(d!==e.memoizedProps||f!==e.memoizedState)&&(t.effectTag|=Ui),!1;var h=a(t,d,p,f,g,m);return h?('function'==typeof s.componentWillUpdate&&(en(t,'componentWillUpdate'),s.componentWillUpdate(p,g,m),tn(),fs),'function'==typeof s.componentDidUpdate&&(t.effectTag|=Ui)):('function'==typeof s.componentDidUpdate&&(d!==e.memoizedProps||f!==e.memoizedState)&&(t.effectTag|=Ui),n(t,p),r(t,g)),s.props=p,s.state=g,s.context=m,h}}},hd='function'==typeof Symbol&&Symbol['for'],yd=hd?Symbol['for']('react.element'):60103,xd=hd?Symbol['for']('react.call'):60104,vd=hd?Symbol['for']('react.return'):60105,bd=hd?Symbol['for']('react.portal'):60106,_d=hd?Symbol['for']('react.fragment'):60107,Ed='function'==typeof Symbol&&Symbol.iterator,Td='@@iterator',Sd=vs.getCurrentFiberStackAddendum;var Cd=!1,Md={},wd={},Rd=function(e){if(null!==e&&'object'==typeof e&&e._store&&!e._store.validated&&null==e.key){'object'==typeof e._store?void 0:wa(!1,'React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.'),e._store.validated=!0;var t='Each child in an array or iterator should have a unique "key" prop. See https://fb.me/react-warning-keys for more information.'+(Sd()||'');Md[t]||(Md[t]=!0,Ra(!1,'Each child in an array or iterator should have a unique "key" prop. See https://fb.me/react-warning-keys for more information.%s',Sd()))}},Pd=Array.isArray,Ad=nr(!0),Ld=nr(!1);var Id={},Nd=function(e,t,n,r,a){function o(e,t,n){i(e,t,n,t.expirationTime)}function i(e,t,n,r){t.child=null===e?Ld(t,null,n,r):Ad(t,e.child,n,r)}function s(e,t){var n=t.pendingProps;if(gn())null===n&&(n=t.memoizedProps);else if(null===n||t.memoizedProps===n)return v(e,t);return o(e,t,n),_(t,n),t.child}function d(e,t){var n=t.ref;null===n||e&&e.ref===n||(t.effectTag|=Bi)}function l(e,t){var n=t.type,r=t.pendingProps,a=t.memoizedProps;if(gn())null===r&&(r=a);else if(null===r||a===r)return v(e,t);var i=cn(t),s=mn(t,i),d;return Ai.current=t,vs.setCurrentPhase('render'),d=n(r,s),vs.setCurrentPhase(null),t.effectTag|=Ni,o(e,t,d),_(t,r),t.child}function p(e,t,n){var r=_n(t),a;return null===e?t.stateNode?wa(!1,'Resuming work not yet implemented.'):(N(t,t.pendingProps),D(t,n),a=!0):a=U(e,t,n),c(e,t,a,r)}function c(e,t,n,r){if(d(e,t),!n)return r&&En(t,!1),v(e,t);var a=t.stateNode;Ai.current=t;var i;return vs.setCurrentPhase('render'),i=a.render(),fs,vs.setCurrentPhase(null),t.effectTag|=Ni,o(e,t,i),E(t,a.state),_(t,a.props),r&&En(t,!0),t.child}function u(e){var t=e.stateNode;t.pendingContext?vn(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vn(e,t.context,!1),w(e,t.containerInfo)}function m(e,t,n){u(t);var r=t.updateQueue;if(null!==r){var a=t.memoizedState,i=Zn(e,t,r,null,null,n);if(a===i)return P(),v(e,t);var s=i.element,d=t.stateNode;return(null===e||null===e.child)&&d.hydrate&&R(t)?(t.effectTag|=Di,t.child=Ld(t,null,s,n)):(P(),o(e,t,s)),E(t,i),t.child}return P(),v(e,t)}function f(e,t,n){M(t),null===e&&A(t);var r=t.type,a=t.memoizedProps,i=t.pendingProps;null===i&&(i=a,null===i?wa(!1,'We should always have pending or current props. This error is likely caused by a bug in React. Please file an issue.'):void 0);var s=null===e?null:e.memoizedProps;if(gn());else if(null===i||a===i)return v(e,t);var l=i.children,p=T(r,i);return(p?l=null:s&&T(r,s)&&(t.effectTag|=Oi),d(e,t),n!==$s&&!S&&C(r,i))?(t.expirationTime=$s,null):(o(e,t,l),_(t,i),t.child)}function g(e,t){null===e&&A(t);var n=t.pendingProps;return null===n&&(n=t.memoizedProps),_(t,n),null}function h(e,t,n){null===e?void 0:wa(!1,'An indeterminate component should never have mounted. This error is likely caused by a bug in React. Please file an issue.');var r=t.type,a=t.pendingProps,i=cn(t),s=mn(t,i),d;{if(r.prototype&&'function'==typeof r.prototype.render){var l=Xe(t);Ra(!1,'The <%s /> component appears to have a render method, but doesn\'t extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.',l,l)}Ai.current=t,d=r(a,s)}if(t.effectTag|=Ni,'object'==typeof d&&null!==d&&'function'==typeof d.render){t.tag=Po;var p=_n(t);return I(t,d),D(t,n),c(e,t,!0,p)}t.tag=Ro;{var u=t.type;if(u&&Ra(!u.childContextTypes,'%s(...): childContextTypes cannot be defined on a functional component.',u.displayName||u.name||'Component'),null!==t.ref){var m='',f=vs.getCurrentFiberOwnerName();f&&(m+='\n\nCheck the render method of `'+f+'`.');var g=f||t._debugID||'',h=t._debugSource;h&&(g=h.fileName+':'+h.lineNumber),Id[g]||(Id[g]=!0,Ra(!1,'Stateless function components cannot be given refs. Attempts to access this ref will fail.%s%s',m,vs.getCurrentFiberStackAddendum()))}}return o(e,t,d),_(t,a),t.child}function y(e,t,n){var r=t.pendingProps;gn()?null===r&&(r=e&&e.memoizedProps,null===r?wa(!1,'We should always have pending or current props. This error is likely caused by a bug in React. Please file an issue.'):void 0):(null===r||t.memoizedProps===r)&&(r=t.memoizedProps);var a=r.children;return t.stateNode=null===e?Ld(t,t.stateNode,a,n):Ad(t,t.stateNode,a,n),_(t,r),t.stateNode}function x(e,t,n){w(t,t.stateNode.containerInfo);var r=t.pendingProps;if(gn())null===r&&(r=e&&e.memoizedProps,null==r?wa(!1,'We should always have pending or current props. This error is likely caused by a bug in React. Please file an issue.'):void 0);else if(null===r||t.memoizedProps===r)return v(e,t);return null===e?(t.child=Ad(t,null,r,n),_(t,r)):(o(e,t,r),_(t,r)),t.child}function v(e,t){return Jt(t),rr(e,t),t.child}function b(e,t){switch(Jt(t),t.tag){case Ao:u(t);break;case Po:_n(t);break;case Lo:w(t,t.stateNode.containerInfo);}return null}function _(e,t){e.memoizedProps=t}function E(e,t){e.memoizedState=t}var T=e.shouldSetTextContent,S=e.useSyncScheduling,C=e.shouldDeprioritizeSubtree,M=t.pushHostContext,w=t.pushHostContainer,R=n.enterHydrationState,P=n.resetHydrationState,A=n.tryToClaimNextHydratableInstance,L=gd(r,a,_,E),I=L.adoptClassInstance,N=L.constructClassInstance,D=L.mountClassInstance,U=L.updateClassInstance;return{beginWork:function(e,t,n){if(t.expirationTime===Js||t.expirationTime>n)return b(e,t);switch(t.tag){case wo:return h(e,t,n);case Ro:return l(e,t);case Po:return p(e,t,n);case Ao:return m(e,t,n);case Io:return f(e,t,n);case No:return g(e,t);case Uo:t.tag=Do;case Do:return y(e,t,n);case ko:return null;case Lo:return x(e,t,n);case Oo:return s(e,t);default:wa(!1,'Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue.');}},beginFailedWork:function(e,t,n){switch(t.tag){case Po:_n(t);break;case Ao:u(t);break;default:wa(!1,'Invalid type of work. This error is likely caused by a bug in React. Please file an issue.');}if(t.effectTag|=zi,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),t.expirationTime===Js||t.expirationTime>n)return b(e,t);t.firstEffect=null,t.lastEffect=null;if(i(e,t,null,n),t.tag===Po){var r=t.stateNode;t.memoizedProps=r.props,t.memoizedState=r.state}return t.child}}},Dd=function(e,t,n){function r(e){e.effectTag|=Ui}function a(e){e.effectTag|=Bi}function o(e,t){var n=t.stateNode;for(n&&(n['return']=t);null!==n;){if(n.tag===Io||n.tag===No||n.tag===Lo)wa(!1,'A call cannot have host component children.');else if(n.tag===ko)e.push(n.type);else if(null!==n.child){n.child['return']=n,n=n.child;continue}for(;null===n.sibling;){if(null===n['return']||n['return']===t)return;n=n['return']}n.sibling['return']=n['return'],n=n.sibling}}function i(e,t,n){var r=t.memoizedProps;r?void 0:wa(!1,'Should be resolved by now. This error is likely caused by a bug in React. Please file an issue.'),t.tag=Uo;var a=[];o(a,t);var i=r.handler,s=r.props,d=i(s,a),l=null===e?null:e.child;return t.child=Ad(t,l,d,n),t.child}function s(e,t){for(var n=t.child;null!==n;){if(n.tag===Io||n.tag===No)p(e,n.stateNode);else if(n.tag===Lo);else if(null!==n.child){n.child['return']=n,n=n.child;continue}if(n===t)return;for(;null===n.sibling;){if(null===n['return']||n['return']===t)return;n=n['return']}n.sibling['return']=n['return'],n=n.sibling}}var d=e.createInstance,l=e.createTextInstance,p=e.appendInitialChild,c=e.finalizeInitialChildren,u=e.prepareUpdate,m=e.mutation,f=e.persistence,g=t.getRootHostContainer,h=t.popHostContext,y=t.getHostContext,x=t.popHostContainer,v=n.prepareToHydrateHostInstance,b=n.prepareToHydrateHostTextInstance,_=n.popHydrationState,E,T,S;if(m)E=function(){},T=function(e,t,n){t.updateQueue=n,n&&r(t)},S=function(e,t,n,a){n!==a&&r(t)};else if(f){wa(!1,'Persistent reconciler is disabled.')}else wa(!1,'Noop reconciler is disabled.');return{completeWork:function(e,t,n){var o=t.pendingProps;switch(null===o?o=t.memoizedProps:(t.expirationTime!==$s||n===$s)&&(t.pendingProps=null),t.tag){case Ro:return null;case Po:return yn(t),null;case Ao:{x(t),xn(t);var p=t.stateNode;return p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(null===e||null===e.child)&&(_(t),t.effectTag&=~Di),E(t),null}case Io:{h(t);var m=g(),f=t.type;if(null!==e&&null!=t.stateNode){var C=e.memoizedProps,M=t.stateNode,w=y(),R=u(M,f,C,o,m,w);T(e,t,R,f,C,o,m),e.ref!==t.ref&&a(t)}else{if(!o)return null===t.stateNode?wa(!1,'We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.'):void 0,null;var P=y(),A=_(t);if(A)v(t,m,P)&&r(t);else{var L=d(f,o,m,P,t);s(L,t),c(L,f,o,m)&&r(t),t.stateNode=L}null!==t.ref&&a(t)}return null}case No:{var I=o;if(e&&null!=t.stateNode){var N=e.memoizedProps;S(e,t,N,I)}else{if('string'!=typeof I)return null===t.stateNode?wa(!1,'We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.'):void 0,null;var D=g(),U=y(),k=_(t);k?b(t)&&r(t):t.stateNode=l(I,D,U,t)}return null}case Do:return i(e,t,n);case Uo:return t.tag=Do,null;case ko:return null;case Oo:return null;case Lo:return x(t),E(t),null;case wo:wa(!1,'An indeterminate component should have become determinate before completing. This error is likely caused by a bug in React. Please file an issue.');default:wa(!1,'Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue.');}}}},Ud=ro.invokeGuardedCallback,kd=ro.hasCaughtError,Od=ro.clearCaughtError,Fd=function(e,t){function n(e,n){if(Ud(null,f,null,e,n),kd()){var r=Od();t(e,r)}}function r(e){var n=e.ref;if(null!==n&&(Ud(null,n,null,null),kd())){var r=Od();t(e,r)}}function a(e){switch('function'==typeof Wn&&Wn(e),e.tag){case Po:{r(e);var t=e.stateNode;return void('function'==typeof t.componentWillUnmount&&n(e,t))}case Io:return void r(e);case Do:return void o(e.stateNode);case Lo:return void(!!u&&p(e));}}function o(e){for(var t=e;;){if(a(t),null!==t.child&&(!u||t.tag!==Lo)){t.child['return']=t,t=t.child;continue}if(t===e)return;for(;null===t.sibling;){if(null===t['return']||t['return']===e)return;t=t['return']}t.sibling['return']=t['return'],t=t.sibling}}function i(e){e['return']=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate['return']=null)}function s(e){for(var t=e['return'];null!==t;){if(d(t))return t;t=t['return']}wa(!1,'Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.')}function d(e){return e.tag===Io||e.tag===Ao||e.tag===Lo}function l(e){var t=e;siblings:for(;;){for(;null===t.sibling;){if(null===t['return']||d(t['return']))return null;t=t['return']}for(t.sibling['return']=t['return'],t=t.sibling;t.tag!==Io&&t.tag!==No;){if(t.effectTag&Di)continue siblings;if(null===t.child||t.tag===Lo)continue siblings;else t.child['return']=t,t=t.child}if(!(t.effectTag&Di))return t.stateNode}}function p(e){for(var t=e,n=!1,r,i;;){if(!n){var s=t['return'];findParent:for(;;){switch(null===s?wa(!1,'Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.'):void 0,s.tag){case Io:r=s.stateNode,i=!1;break findParent;case Ao:r=s.stateNode.containerInfo,i=!0;break findParent;case Lo:r=s.stateNode.containerInfo,i=!0;break findParent;}s=s['return']}n=!0}if(t.tag===Io||t.tag===No)o(t),i?M(r,t.stateNode):C(r,t.stateNode);else if(t.tag===Lo){if(r=t.stateNode.containerInfo,null!==t.child){t.child['return']=t,t=t.child;continue}}else if(a(t),null!==t.child){t.child['return']=t,t=t.child;continue}if(t===e)return;for(;null===t.sibling;){if(null===t['return']||t['return']===e)return;t=t['return'],t.tag===Lo&&(n=!1)}t.sibling['return']=t['return'],t=t.sibling}}var c=e.getPublicInstance,u=e.mutation,m=e.persistence,f=function(e,t){en(e,'componentWillUnmount'),t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount(),tn()};if(!u){if(m){var g=m.replaceContainerChildren,h=m.createContainerChildSet}else;m?wa(!1,'Persistent reconciler is disabled.'):wa(!1,'Noop reconciler is disabled.')}var y=u.commitMount,x=u.commitUpdate,v=u.resetTextContent,b=u.commitTextUpdate,_=u.appendChild,E=u.appendChildToContainer,T=u.insertBefore,S=u.insertInContainerBefore,C=u.removeChild,M=u.removeChildFromContainer;return{commitResetTextContent:function(e){v(e.stateNode)},commitPlacement:function(e){var t=s(e),n,r;switch(t.tag){case Io:n=t.stateNode,r=!1;break;case Ao:n=t.stateNode.containerInfo,r=!0;break;case Lo:n=t.stateNode.containerInfo,r=!0;break;default:wa(!1,'Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.');}t.effectTag&Oi&&(v(n),t.effectTag&=~Oi);for(var a=l(e),o=e;;){if(o.tag===Io||o.tag===No)a?r?S(n,o.stateNode,a):T(n,o.stateNode,a):r?E(n,o.stateNode):_(n,o.stateNode);else if(o.tag===Lo);else if(null!==o.child){o.child['return']=o,o=o.child;continue}if(o===e)return;for(;null===o.sibling;){if(null===o['return']||o['return']===e)return;o=o['return']}o.sibling['return']=o['return'],o=o.sibling}},commitDeletion:function(e){p(e),i(e)},commitWork:function(e,t){switch(t.tag){case Po:return;case Io:{var n=t.stateNode;if(null!=n){var r=t.memoizedProps,a=null===e?r:e.memoizedProps,o=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&x(n,i,o,a,r,t)}return}case No:{null!==t.stateNode?void 0:wa(!1,'This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.');var s=t.stateNode,d=t.memoizedProps,l=null===e?d:e.memoizedProps;return void b(s,l,d)}case Ao:return;default:wa(!1,'This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.');}},commitLifeCycles:function(e,t){switch(t.tag){case Po:{var n=t.stateNode;if(t.effectTag&Ui)if(null===e)en(t,'componentDidMount'),n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidMount(),tn();else{var r=e.memoizedProps,a=e.memoizedState;en(t,'componentDidUpdate'),n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidUpdate(r,a),tn()}var o=t.updateQueue;return void(null!==o&&Jn(o,n))}case Ao:{var i=t.updateQueue;if(null!==i){var s=null===t.child?null:t.child.stateNode;Jn(i,s)}return}case Io:{var d=t.stateNode;if(null===e&&t.effectTag&Ui){var l=t.type,p=t.memoizedProps;y(d,l,p,t)}return}case No:return;case Lo:return;default:wa(!1,'This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.');}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case Io:t(c(n));break;default:t(n);}}},commitDetachRef:function(e){var t=e.ref;null!==t&&t(null)}}},zd={},Bd=function(e){function t(e){return e===zd?wa(!1,'Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.'):void 0,e}var n=e.getChildHostContext,r=e.getRootHostContext,a=zt(zd),o=zt(zd),i=zt(zd);return{getHostContext:function(){var e=t(a.current);return e},getRootHostContainer:function(){var e=t(i.current);return e},popHostContainer:function(e){Bt(a,e),Bt(o,e),Bt(i,e)},popHostContext:function(e){o.current!==e||(Bt(a,e),Bt(o,e))},pushHostContainer:function(e,t){Ht(i,t,e);var n=r(t);Ht(o,e,e),Ht(a,n,e)},pushHostContext:function(e){var r=t(i.current),s=t(a.current),d=n(s,e.type,r);s===d||(Ht(o,e,e),Ht(a,d,e))},resetHostContainer:function(){a.current=zd,i.current=zd}}},Hd=function(e){function t(e,t){switch(e.tag){case Ao:g(e.stateNode.containerInfo,t);break;case Io:h(e.type,e.memoizedProps,e.stateNode,t);}var n=kn();n.stateNode=t,n['return']=e,n.effectTag=ki,null===e.lastEffect?e.firstEffect=e.lastEffect=n:(e.lastEffect.nextEffect=n,e.lastEffect=n)}function n(e,t){switch(t.effectTag|=Di,e.tag){case Ao:{var n=e.stateNode.containerInfo;switch(t.tag){case Io:var r=t.type,a=t.pendingProps;y(n,r,a);break;case No:var o=t.pendingProps;x(n,o);}break}case Io:{var i=e.type,s=e.memoizedProps,d=e.stateNode;switch(t.tag){case Io:var l=t.type,p=t.pendingProps;v(i,s,d,l,p);break;case No:var c=t.pendingProps;b(i,s,d,c);}break}default:}}function r(e,t){switch(e.tag){case Io:{var n=e.type,r=e.pendingProps,a=s(t,n,r);return null!==a&&(e.stateNode=a,!0)}case No:{var o=e.pendingProps,i=d(t,o);return null!==i&&(e.stateNode=i,!0)}default:return!1;}}function a(e){for(var t=e['return'];null!==t&&t.tag!==Io&&t.tag!==Ao;)t=t['return'];_=t}var o=e.shouldSetTextContent,i=e.hydration;if(!i)return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){wa(!1,'Expected prepareToHydrateHostInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.')},prepareToHydrateHostTextInstance:function(){wa(!1,'Expected prepareToHydrateHostTextInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.')},popHydrationState:function(){return!1}};var s=i.canHydrateInstance,d=i.canHydrateTextInstance,l=i.getNextHydratableSibling,p=i.getFirstHydratableChild,c=i.hydrateInstance,u=i.hydrateTextInstance,m=i.didNotMatchHydratedContainerTextInstance,f=i.didNotMatchHydratedTextInstance,g=i.didNotHydrateContainerInstance,h=i.didNotHydrateInstance,y=i.didNotFindHydratableContainerInstance,x=i.didNotFindHydratableContainerTextInstance,v=i.didNotFindHydratableInstance,b=i.didNotFindHydratableTextInstance,_=null,E=null,T=!1;return{enterHydrationState:function(e){var t=e.stateNode.containerInfo;return E=p(t),_=e,T=!0,!0},resetHydrationState:function(){_=null,E=null,T=!1},tryToClaimNextHydratableInstance:function(e){if(T){var a=E;if(!a)return n(_,e),T=!1,void(_=e);if(!r(e,a)){if(a=l(a),!a||!r(e,a))return n(_,e),T=!1,void(_=e);t(_,E)}_=e,E=p(a)}},prepareToHydrateHostInstance:function(e,t,n){var r=e.stateNode,a=c(r,e.type,e.memoizedProps,t,n,e);return e.updateQueue=a,null!==a},prepareToHydrateHostTextInstance:function(e){var t=e.stateNode,n=e.memoizedProps,r=u(t,n,e);if(r){var a=_;if(null!==a)switch(a.tag){case Ao:{var o=a.stateNode.containerInfo;m(o,t,n);break}case Io:{var i=a.type,s=a.memoizedProps,d=a.stateNode;f(i,s,d,t,n);break}}}return r},popHydrationState:function(e){if(e!==_)return!1;if(!T)return a(e),T=!0,!1;var n=e.type;if(e.tag!==Io||'head'!==n&&'body'!==n&&!o(n,e.memoizedProps))for(var r=E;r;)t(e,r),r=l(r);return a(e),E=_?l(e.stateNode):null,!0}}},Vd={debugTool:null},Gd=function(){return!0},Wd=ro.invokeGuardedCallback,jd=ro.hasCaughtError,Xd=ro.clearCaughtError;var Yd=!1,qd=!1,Kd={},Zd=function(e){var t=Xe(e)||'ReactClass';Kd[t]||(Ra(!1,'Can only update a mounted or mounting component. This usually means you called setState, replaceState, or forceUpdate on an unmounted component. This is a no-op.\n\nPlease check the code for the %s component.',t),Kd[t]=!0)},Jd=function(){switch(vs.phase){case'getChildContext':if(qd)return;Ra(!1,'setState(...): Cannot call setState() inside getChildContext()'),qd=!0;break;case'render':if(Yd)return;Ra(!1,'Cannot update during an existing state transition (such as within `render` or another component\'s constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to `componentWillMount`.'),Yd=!0;}},Qd=function(e){function t(){Vt(),Tn(),F()}function n(){for(;null!=ce;){vs.setCurrentFiber(ce),Xt();var e=ce.effectTag;if(e&Oi&&j(ce),e&Bi){var t=ce.alternate;null!==t&&J(t)}switch(e&~(Fi|zi|Oi|Bi|Ni)){case Di:{X(ce),ce.effectTag&=~Di;break}case 6:{X(ce),ce.effectTag&=~Di;var n=ce.alternate;q(n,ce);break}case Ui:{var r=ce.alternate;q(r,ce);break}case ki:{xe=!0,Y(ce),xe=!1;break}}ce=ce.nextEffect}vs.resetCurrentFiber()}function r(){for(;null!==ce;){var e=ce.effectTag;if(e&(Ui|Fi)){Xt();var t=ce.alternate;K(t,ce)}e&Bi&&(Xt(),Z(ce)),e&zi&&(Xt(),h(ce));var n=ce.nextEffect;ce.nextEffect=null,ce=n}}function a(e){se=!0,ye=!0,an();var t=e.stateNode;t.current===e?wa(!1,'Cannot commit the same tree as before. This is probably a bug related to the return field. This error is likely caused by a bug in React. Please file an issue.'):void 0,t.isReadyForCommit=!1,Ai.current=null;var a;for(e.effectTag>Ni?null===e.lastEffect?a=e:(e.lastEffect.nextEffect=e,a=e.firstEffect):a=e.firstEffect,ne(),ce=a,sn();null!==ce;){var o=!1,i=void 0;Wd(null,n,null),jd()&&(o=!0,i=Xd()),o&&(null===ce?wa(!1,'Should have next effect. This error is likely caused by a bug in React. Please file an issue.'):void 0,m(ce,i),null!==ce&&(ce=ce.nextEffect))}for(dn(),re(),t.current=e,ce=a,ln();null!==ce;){var s=!1,d=void 0;Wd(null,r,null),jd()&&(s=!0,d=Xd()),s&&(null===ce?wa(!1,'Should have next effect. This error is likely caused by a bug in React. Please file an issue.'):void 0,m(ce,d),null!==ce&&(ce=ce.nextEffect))}if(ye=!1,se=!1,pn(),on(),'function'==typeof Gn&&Gn(e.stateNode),Vd.debugTool&&Vd.debugTool.onCommitWork(e),fe&&(fe.forEach(T),fe=null),null!=ge){var l=ge;ge=null,N(l)}var p=t.current.expirationTime;return p===Js&&(ue=null,me=null),p}function o(e,t){if(t===$s||e.expirationTime!==$s){for(var n=qn(e),r=e.child;null!==r;)r.expirationTime!==Js&&(n===Js||n>r.expirationTime)&&(n=r.expirationTime),r=r.sibling;e.expirationTime=n}}function i(e){for(;;){var t=e.alternate;vs.setCurrentFiber(e);var n=G(t,e,pe);vs.resetCurrentFiber();var r=e['return'],a=e.sibling;if(o(e,pe),null!==n)return Qt(e),Vd.debugTool&&Vd.debugTool.onCompleteWork(e),n;if(null!==r){null===r.firstEffect&&(r.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect);var i=e.effectTag;i>Ni&&(null===r.lastEffect?r.firstEffect=e:r.lastEffect.nextEffect=e,r.lastEffect=e)}if(Qt(e),Vd.debugTool&&Vd.debugTool.onCompleteWork(e),null!==a)return a;if(null!==r){e=r;continue}else{var s=e.stateNode;return s.isReadyForCommit=!0,null}}return null}function s(e){var t=e.alternate;Zt(e),vs.setCurrentFiber(e);var n=B(t,e,pe);return vs.resetCurrentFiber(),Vd.debugTool&&Vd.debugTool.onBeginWork(e),null===n&&(n=i(e)),Ai.current=null,n}function d(e){var t=e.alternate;Zt(e),vs.setCurrentFiber(e);var n=H(t,e,pe);return vs.resetCurrentFiber(),Vd.debugTool&&Vd.debugTool.onBeginWork(e),null===n&&(n=i(e)),Ai.current=null,n}function l(e){if(null!=ue)return void p(e);if(!(pe==Js||pe>e))if(pe<=oe)for(;null!=de;)de=s(de);else for(;null!=de&&!I();)de=s(de)}function p(e){if(!(pe==Js||pe>e))if(pe<=oe)for(;null!==de;)de=f(de)?d(de):s(de);else for(;null!==de&&!I();)de=f(de)?d(de):s(de)}function c(e,t,n,r){y(t,n),de=d(n),l(r)}function u(e,n){se?wa(!1,'renderRoot was called recursively. This error is likely caused by a bug in React. Please file an issue.'):void 0,se=!0,e.isReadyForCommit=!1,(e!==le||n!==pe||null===de)&&(t(),le=e,pe=n,de=Ln(le.current,null,n)),nn(de);var r=!1,a=null;for(Wd(null,l,null,n),jd()&&(r=!0,a=Xd());r;){if(he){ge=a;break}var o=de;if(null===o){he=!0;continue}var i=m(o,a);if(null===i?wa(!1,'Should have found an error boundary. This error is likely caused by a bug in React. Please file an issue.'):void 0,!he){if(r=!1,a=null,(Wd(null,c,null,e,o,i,n),jd())){r=!0,a=Xd();continue}break}}var s=ge;return rn(ve),ve=null,se=!1,he=!1,ge=null,null!==s&&N(s),e.isReadyForCommit?e.current.alternate:null}function m(e,t){Ai.current=null,vs.resetCurrentFiber();var n=null,r=!1,a=!1,o=null;if(e.tag===Ao)n=e,g(e)&&(he=!0);else for(var i=e['return'];null!==i&&null==n;){if(i.tag===Po){var s=i.stateNode;'function'==typeof s.componentDidCatch&&(r=!0,o=Xe(i),n=i,a=!0)}else i.tag===Ao&&(n=i);if(g(i)){if(xe)return null;if(null!=fe&&(fe.has(i)||null!==i.alternate&&fe.has(i.alternate)))return null;n=null,a=!1}i=i['return']}if(null!==n){null==me&&(me=new Set),me.add(n);var d=Wt(e),l=Xe(e);null==ue&&(ue=new Map);var p={componentName:l,componentStack:d,error:t,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:o,willRetry:a};ue.set(n,p);try{ar(p)}catch(t){var c=t&&t.suppressReactErrorLogging;c||console.error(t)}return ye?(null==fe&&(fe=new Set),fe.add(n)):T(n),n}return null===ge&&(ge=t),null}function f(e){return null!==ue&&(ue.has(e)||null!==e.alternate&&ue.has(e.alternate))}function g(e){return null!==me&&(me.has(e)||null!==e.alternate&&me.has(e.alternate))}function h(e){var t;switch(null!==ue&&(t=ue.get(e),ue['delete'](e),null==t&&null!==e.alternate&&(e=e.alternate,t=ue.get(e),ue['delete'](e))),null==t?wa(!1,'No error for given unit of work. This error is likely caused by a bug in React. Please file an issue.'):void 0,e.tag){case Po:var n=e.stateNode,r={componentStack:t.componentStack};return void n.componentDidCatch(t.error,r);case Ao:return void(null===ge&&(ge=t.error));default:wa(!1,'Invalid type of work. This error is likely caused by a bug in React. Please file an issue.');}}function y(e,t){for(var n=e;null!==n;){switch(n.tag){case Po:yn(n);break;case Io:O(n);break;case Ao:k(n);break;case Lo:k(n);}if(n===t||n.alternate===t){$t(n);break}else Qt(n);n=n['return']}}function x(){var e=S();return Rn(e,1e3,200)}function v(e){var t;return t=ie==Js?se?ye?Qs:pe:te&&!(e.internalContextTag&rd)?Qs:x():ie,t}function b(e,t){return E(e,t,!1)}function _(e,t,n){!se&&e===le&&n<pe&&(null!==de&&(ve=t),le=null,de=null,pe=Js)}function E(e,t,n){if(Yt(),!n&&e.tag===Po){var r=e.stateNode;Jd(r)}for(var a=e;null!==a;){if((a.expirationTime===Js||a.expirationTime>t)&&(a.expirationTime=t),null!==a.alternate&&(a.alternate.expirationTime===Js||a.alternate.expirationTime>t)&&(a.alternate.expirationTime=t),null===a['return'])if(a.tag===Ao){var o=a.stateNode;_(o,e,t),w(o,t),_(o,e,t)}else return void(n||e.tag!==Po||Zd(e));a=a['return']}}function T(e){E(e,Qs,!0)}function S(){var e=Q()-ae;return oe=Cn(e),oe}function C(e){var t=ie;ie=Qs;try{return e()}finally{ie=t}}function M(e){if(Ee!=Js){if(e>Ee)return;ee(Te)}else qt();var t=Q()-ae,n=Mn(e);Ee=e,Te=$(P,{timeout:n-t})}function w(e,t){if(De>Ne&&wa(!1,'Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.'),null===e.nextScheduledRoot)e.remainingExpirationTime=t,null==_e?(be=_e=e,e.nextScheduledRoot=e):(_e.nextScheduledRoot=e,_e=e,_e.nextScheduledRoot=be);else{var n=e.remainingExpirationTime;(n===Js||t<n)&&(e.remainingExpirationTime=t)}return Se?void 0:Le?void(Ie&&(Ce=e,Me=Qs,L(Ce,Me))):void(t===Qs?A(Qs,null):M(t))}function R(){var e=Js,t=null;if(null!==_e)for(var n=_e,r=be,a;null!==r;)if(a=r.remainingExpirationTime,a===Js){if(null!==n&&null!==_e?void 0:wa(!1,'Should have a previous and last root. This error is likely caused by a bug in React. Please file an issue.'),r===r.nextScheduledRoot){r.nextScheduledRoot=null,be=_e=null;break}else if(r===be){var o=r.nextScheduledRoot;be=o,_e.nextScheduledRoot=o,r.nextScheduledRoot=null}else if(r===_e){_e=n,_e.nextScheduledRoot=be,r.nextScheduledRoot=null;break}else n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null;r=n.nextScheduledRoot}else{if((e==Js||a<e)&&(e=a,t=r),r===_e)break;n=r,r=r.nextScheduledRoot}var i=Ce;null!==i&&i===t?De++:De=0,Ce=t,Me=e}function P(e){A(Js,e)}function A(e,t){if(Ae=t,R(),null!==Ae){var n=Me<S();Kt(n)}for(;null!==Ce&&Me!==Js&&(e===Js||Me<=e)&&!we;)L(Ce,Me),R();if(null!==Ae&&(Ee=Js,Te=-1),Me!==Js&&M(Me),Ae=null,we=!1,De=0,Re){var r=Pe;throw Pe=null,Re=!1,r}}function L(e,t){if(Se?wa(!1,'performWorkOnRoot was called recursively. This error is likely caused by a bug in React. Please file an issue.'):void 0,Se=!0,t<=S()){var n=e.finishedWork;null===n?(e.finishedWork=null,n=u(e,t),null!==n&&(e.remainingExpirationTime=a(n))):(e.finishedWork=null,e.remainingExpirationTime=a(n))}else{var r=e.finishedWork;null===r?(e.finishedWork=null,r=u(e,t),null!==r&&(I()?e.finishedWork=r:e.remainingExpirationTime=a(r))):(e.finishedWork=null,e.remainingExpirationTime=a(r))}Se=!1}function I(){return null!==Ae&&!(Ae.timeRemaining()>Ue)&&(we=!0,!0)}function N(e){null!==Ce?void 0:wa(!1,'Should be working on a root. This error is likely caused by a bug in React. Please file an issue.'),Ce.remainingExpirationTime=Js,Re||(Re=!0,Pe=e)}var D=Bd(e),U=Hd(e),k=D.popHostContainer,O=D.popHostContext,F=D.resetHostContainer,z=Nd(e,D,U,b,v),B=z.beginWork,H=z.beginFailedWork,V=Dd(e,D,U),G=V.completeWork,W=Fd(e,m),j=W.commitResetTextContent,X=W.commitPlacement,Y=W.commitDeletion,q=W.commitWork,K=W.commitLifeCycles,Z=W.commitAttachRef,J=W.commitDetachRef,Q=e.now,$=e.scheduleDeferredCallback,ee=e.cancelDeferredCallback,te=e.useSyncScheduling,ne=e.prepareForCommit,re=e.resetAfterCommit,ae=Q(),oe=Cn(0),ie=Js,se=!1,de=null,le=null,pe=Js,ce=null,ue=null,me=null,fe=null,ge=null,he=!1,ye=!1,xe=!1,ve=null,be=null,_e=null,Ee=Js,Te=-1,Se=!1,Ce=null,Me=Js,we=!1,Re=!1,Pe=null,Ae=null,Le=!1,Ie=!1,Ne=1e3,De=0,Ue=1;return{computeAsyncExpiration:x,computeExpirationForFiber:v,scheduleWork:b,batchedUpdates:function(e,t){var n=Le;Le=!0;try{return e(t)}finally{Le=n,Le||Se||A(Qs,null)}},unbatchedUpdates:function(e){if(Le&&!Ie){Ie=!0;try{return e()}finally{Ie=!1}}return e()},flushSync:function(e){var t=Le;Le=!0;try{return C(e)}finally{Le=t,!Se?void 0:wa(!1,'flushSync was called from inside a lifecycle method. It cannot be called when React is already rendering.'),A(Qs,null)}},deferredUpdates:function(e){var t=ie;ie=x();try{return e()}finally{ie=t}}}};var $d=!1,el=function(e){function t(e,t,n){'render'!==vs.phase||null===vs.current||$d||($d=!0,Ra(!1,'Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.',Xe(vs.current)||'Unknown')),n=n===void 0?null:n,Ra(null===n||'function'==typeof n,'render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.',n);var r=null!=t&&null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent?o():i(e);var a={expirationTime:r,partialState:{element:t},callback:n,isReplace:!1,isForced:!1,nextCallback:null,next:null};Yn(e,a),s(e,r)}function n(e){var t=Qe(e);return null===t?null:t.stateNode}var r=e.getPublicInstance,a=Qd(e),o=a.computeAsyncExpiration,i=a.computeExpirationForFiber,s=a.scheduleWork,d=a.batchedUpdates,l=a.unbatchedUpdates,p=a.flushSync,c=a.deferredUpdates;return{createContainer:function(e,t){return Bn(e,t)},updateContainer:function(e,n,r,a){var o=n.current;Vd.debugTool&&(null===o.alternate?Vd.debugTool.onMountContainer(n):null===e?Vd.debugTool.onUnmountContainer(n):Vd.debugTool.onUpdateContainer(n));var i=or(r);null===n.context?n.context=i:n.pendingContext=i,t(o,e,a)},batchedUpdates:d,unbatchedUpdates:l,deferredUpdates:c,flushSync:p,getPublicRootInstance:function(e){var t=e.current;if(!t.child)return null;switch(t.child.tag){case Io:return r(t.child.stateNode);default:return t.child.stateNode;}},findHostInstance:n,findHostInstanceWithNoPortals:function(e){var t=$e(e);return null===t?null:t.stateNode},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return Vn(Aa({},e,{findHostInstanceByFiber:function(e){return n(e)},findFiberByHostInstance:function(e){return t?t(e):null}}))}}},tl=Object.freeze({default:el}),nl=tl&&el||tl,rl=nl['default']?nl['default']:nl;Pa.canUseDOM&&'function'!=typeof requestAnimationFrame&&Ra(!1,'React depends on requestAnimationFrame. Make sure that you load a polyfill in older browsers. http://fb.me/react-polyfills');var al='object'==typeof performance&&'function'==typeof performance.now,ol;ol=al?function(){return performance.now()}:function(){return Date.now()};var il,sl;if(!Pa.canUseDOM)il=function(e){return setTimeout(function(){e({timeRemaining:function(){return Infinity}})})},sl=function(e){clearTimeout(e)};else if('function'!=typeof requestIdleCallback||'function'!=typeof cancelIdleCallback){var dl=null,ll=!1,pl=-1,cl=!1,ul=0,ml=33,fl=33,gl;gl=al?{didTimeout:!1,timeRemaining:function(){var e=ul-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=ul-Date.now();return 0<e?e:0}};var hl='__reactIdleCallback$'+Math.random().toString(36).slice(2),yl=function(e){if(e.source===window&&e.data===hl){ll=!1;var t=ol();if(!(0>=ul-t))gl.didTimeout=!1;else if(-1!=pl&&pl<=t)gl.didTimeout=!0;else return void(cl||(cl=!0,requestAnimationFrame(xl)));pl=-1;var n=dl;dl=null,null!=n&&n(gl)}};window.addEventListener('message',yl,!1);var xl=function(e){cl=!1;var t=e-ul+fl;t<fl&&ml<fl?(8>t&&(t=8),fl=t<ml?ml:t):ml=t,ul=e+fl,ll||(ll=!0,window.postMessage(hl,'*'))};il=function(e,t){return dl=e,null!=t&&'number'==typeof t.timeout&&(pl=ol()+t.timeout),cl||(cl=!0,requestAnimationFrame(xl)),0},sl=function(){dl=null,ll=!1,pl=-1}}else il=window.requestIdleCallback,sl=window.cancelIdleCallback;var vl=function(){};{var bl=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o='Warning: '+e.replace(/%s/g,function(){return n[a++]});'undefined'!=typeof console&&console.warn(o);try{throw new Error(o)}catch(e){}};vl=function(e,t){if(t===void 0)throw new Error('`warning(condition, format, ...args)` requires a warning message argument');if(!e){for(var n=arguments.length,r=Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];bl.apply(void 0,[t].concat(r))}}}var _l=vl,El=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tl={},Sl={},Cl={checkPropTypes:null};{var Ml={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},wl={value:function(e,t){return!e[t]||Ml[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error('You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.')},checked:function(e,t){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error('You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.')}};Cl.checkPropTypes=function(e,t,n){Fa(wl,t,'prop',e,n)}}var Rl=vs.getCurrentFiberOwnerName,Pl=vs.getCurrentFiberStackAddendum,Al=!1,Ll=!1,Il=!1,Nl=!1,Dl=vs.getCurrentFiberOwnerName,Ul=vs.getCurrentFiberStackAddendum;var kl=!1,Ol=['value','defaultValue'],Fl=vs.getCurrentFiberStackAddendum,zl=!1,Bl='http://www.w3.org/1999/xhtml',Hl='http://www.w3.org/1998/Math/MathML',Vl='http://www.w3.org/2000/svg',Gl={html:Bl,mathml:Hl,svg:Vl},Wl=function(e){return'undefined'!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI===Gl.svg&&!('innerHTML'in e)){ql=ql||document.createElement('div'),ql.innerHTML='<svg>'+t+'</svg>';for(var n=ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}else e.innerHTML=t}),jl=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===yi)return void(n.nodeValue=t)}e.textContent=t},Xl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yl=['Webkit','ms','Moz','O'],ql;Object.keys(Xl).forEach(function(e){Yl.forEach(function(t){Xl[Vr(t,e)]=Xl[e]})});var Kl=La;{var Zl=/^(?:webkit|moz|o)[A-Z]/,Jl=/;\s*$/,Ql={},$l={},ep=!1,tp=!1,np=function(e,t){Ql.hasOwnProperty(e)&&Ql[e]||(Ql[e]=!0,Ra(!1,'Unsupported style property %s. Did you mean %s?%s',e,Ba(e),t()))},rp=function(e,t){Ql.hasOwnProperty(e)&&Ql[e]||(Ql[e]=!0,Ra(!1,'Unsupported vendor-prefixed style property %s. Did you mean %s?%s',e,e.charAt(0).toUpperCase()+e.slice(1),t()))},ap=function(e,t,n){$l.hasOwnProperty(t)&&$l[t]||($l[t]=!0,Ra(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.%s',e,t.replace(Jl,''),n()))},op=function(e,t,n){ep||(ep=!0,Ra(!1,'`NaN` is an invalid value for the `%s` css style property.%s',e,n()))},ip=function(e,t,n){tp||(tp=!0,Ra(!1,'`Infinity` is an invalid value for the `%s` css style property.%s',e,n()))};Kl=function(e,t,n){-1<e.indexOf('-')?np(e,n):Zl.test(e)?rp(e,n):Jl.test(t)&&ap(e,t,n),'number'==typeof t&&(isNaN(t)?op(e,t,n):!isFinite(t)&&ip(e,t,n))}}var sp=Kl,dp=Aa({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),lp='__html',pp={"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},cp={},up=/^(aria)-[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mp=/^(aria)[A-Z][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fp=Object.prototype.hasOwnProperty,gp=!1,hp={accept:'accept',acceptcharset:'acceptCharset',"accept-charset":'acceptCharset',accesskey:'accessKey',action:'action',allowfullscreen:'allowFullScreen',alt:'alt',as:'as',async:'async',autocapitalize:'autoCapitalize',autocomplete:'autoComplete',autocorrect:'autoCorrect',autofocus:'autoFocus',autoplay:'autoPlay',autosave:'autoSave',capture:'capture',cellpadding:'cellPadding',cellspacing:'cellSpacing',challenge:'challenge',charset:'charSet',checked:'checked',children:'children',cite:'cite',class:'className',classid:'classID',classname:'className',cols:'cols',colspan:'colSpan',content:'content',contenteditable:'contentEditable',contextmenu:'contextMenu',controls:'controls',controlslist:'controlsList',coords:'coords',crossorigin:'crossOrigin',dangerouslysetinnerhtml:'dangerouslySetInnerHTML',data:'data',datetime:'dateTime',default:'default',defaultchecked:'defaultChecked',defaultvalue:'defaultValue',defer:'defer',dir:'dir',disabled:'disabled',download:'download',draggable:'draggable',enctype:'encType',for:'htmlFor',form:'form',formmethod:'formMethod',formaction:'formAction',formenctype:'formEncType',formnovalidate:'formNoValidate',formtarget:'formTarget',frameborder:'frameBorder',headers:'headers',height:'height',hidden:'hidden',high:'high',href:'href',hreflang:'hrefLang',htmlfor:'htmlFor',httpequiv:'httpEquiv',"http-equiv":'httpEquiv',icon:'icon',id:'id',innerhtml:'innerHTML',inputmode:'inputMode',integrity:'integrity',is:'is',itemid:'itemID',itemprop:'itemProp',itemref:'itemRef',itemscope:'itemScope',itemtype:'itemType',keyparams:'keyParams',keytype:'keyType',kind:'kind',label:'label',lang:'lang',list:'list',loop:'loop',low:'low',manifest:'manifest',marginwidth:'marginWidth',marginheight:'marginHeight',max:'max',maxlength:'maxLength',media:'media',mediagroup:'mediaGroup',method:'method',min:'min',minlength:'minLength',multiple:'multiple',muted:'muted',name:'name',nonce:'nonce',novalidate:'noValidate',open:'open',optimum:'optimum',pattern:'pattern',placeholder:'placeholder',playsinline:'playsInline',poster:'poster',preload:'preload',profile:'profile',radiogroup:'radioGroup',readonly:'readOnly',referrerpolicy:'referrerPolicy',rel:'rel',required:'required',reversed:'reversed',role:'role',rows:'rows',rowspan:'rowSpan',sandbox:'sandbox',scope:'scope',scoped:'scoped',scrolling:'scrolling',seamless:'seamless',selected:'selected',shape:'shape',size:'size',sizes:'sizes',span:'span',spellcheck:'spellCheck',src:'src',srcdoc:'srcDoc',srclang:'srcLang',srcset:'srcSet',start:'start',step:'step',style:'style',summary:'summary',tabindex:'tabIndex',target:'target',title:'title',type:'type',usemap:'useMap',value:'value',width:'width',wmode:'wmode',wrap:'wrap',about:'about',accentheight:'accentHeight',"accent-height":'accentHeight',accumulate:'accumulate',additive:'additive',alignmentbaseline:'alignmentBaseline',"alignment-baseline":'alignmentBaseline',allowreorder:'allowReorder',alphabetic:'alphabetic',amplitude:'amplitude',arabicform:'arabicForm',"arabic-form":'arabicForm',ascent:'ascent',attributename:'attributeName',attributetype:'attributeType',autoreverse:'autoReverse',azimuth:'azimuth',basefrequency:'baseFrequency',baselineshift:'baselineShift',"baseline-shift":'baselineShift',baseprofile:'baseProfile',bbox:'bbox',begin:'begin',bias:'bias',by:'by',calcmode:'calcMode',capheight:'capHeight',"cap-height":'capHeight',clip:'clip',clippath:'clipPath',"clip-path":'clipPath',clippathunits:'clipPathUnits',cliprule:'clipRule',"clip-rule":'clipRule',color:'color',colorinterpolation:'colorInterpolation',"color-interpolation":'colorInterpolation',colorinterpolationfilters:'colorInterpolationFilters',"color-interpolation-filters":'colorInterpolationFilters',colorprofile:'colorProfile',"color-profile":'colorProfile',colorrendering:'colorRendering',"color-rendering":'colorRendering',contentscripttype:'contentScriptType',contentstyletype:'contentStyleType',cursor:'cursor',cx:'cx',cy:'cy',d:'d',datatype:'datatype',decelerate:'decelerate',descent:'descent',diffuseconstant:'diffuseConstant',direction:'direction',display:'display',divisor:'divisor',dominantbaseline:'dominantBaseline',"dominant-baseline":'dominantBaseline',dur:'dur',dx:'dx',dy:'dy',edgemode:'edgeMode',elevation:'elevation',enablebackground:'enableBackground',"enable-background":'enableBackground',end:'end',exponent:'exponent',externalresourcesrequired:'externalResourcesRequired',fill:'fill',fillopacity:'fillOpacity',"fill-opacity":'fillOpacity',fillrule:'fillRule',"fill-rule":'fillRule',filter:'filter',filterres:'filterRes',filterunits:'filterUnits',floodopacity:'floodOpacity',"flood-opacity":'floodOpacity',floodcolor:'floodColor',"flood-color":'floodColor',focusable:'focusable',fontfamily:'fontFamily',"font-family":'fontFamily',fontsize:'fontSize',"font-size":'fontSize',fontsizeadjust:'fontSizeAdjust',"font-size-adjust":'fontSizeAdjust',fontstretch:'fontStretch',"font-stretch":'fontStretch',fontstyle:'fontStyle',"font-style":'fontStyle',fontvariant:'fontVariant',"font-variant":'fontVariant',fontweight:'fontWeight',"font-weight":'fontWeight',format:'format',from:'from',fx:'fx',fy:'fy',g1:'g1',g2:'g2',glyphname:'glyphName',"glyph-name":'glyphName',glyphorientationhorizontal:'glyphOrientationHorizontal',"glyph-orientation-horizontal":'glyphOrientationHorizontal',glyphorientationvertical:'glyphOrientationVertical',"glyph-orientation-vertical":'glyphOrientationVertical',glyphref:'glyphRef',gradienttransform:'gradientTransform',gradientunits:'gradientUnits',hanging:'hanging',horizadvx:'horizAdvX',"horiz-adv-x":'horizAdvX',horizoriginx:'horizOriginX',"horiz-origin-x":'horizOriginX',ideographic:'ideographic',imagerendering:'imageRendering',"image-rendering":'imageRendering',in2:'in2',in:'in',inlist:'inlist',intercept:'intercept',k1:'k1',k2:'k2',k3:'k3',k4:'k4',k:'k',kernelmatrix:'kernelMatrix',kernelunitlength:'kernelUnitLength',kerning:'kerning',keypoints:'keyPoints',keysplines:'keySplines',keytimes:'keyTimes',lengthadjust:'lengthAdjust',letterspacing:'letterSpacing',"letter-spacing":'letterSpacing',lightingcolor:'lightingColor',"lighting-color":'lightingColor',limitingconeangle:'limitingConeAngle',local:'local',markerend:'markerEnd',"marker-end":'markerEnd',markerheight:'markerHeight',markermid:'markerMid',"marker-mid":'markerMid',markerstart:'markerStart',"marker-start":'markerStart',markerunits:'markerUnits',markerwidth:'markerWidth',mask:'mask',maskcontentunits:'maskContentUnits',maskunits:'maskUnits',mathematical:'mathematical',mode:'mode',numoctaves:'numOctaves',offset:'offset',opacity:'opacity',operator:'operator',order:'order',orient:'orient',orientation:'orientation',origin:'origin',overflow:'overflow',overlineposition:'overlinePosition',"overline-position":'overlinePosition',overlinethickness:'overlineThickness',"overline-thickness":'overlineThickness',paintorder:'paintOrder',"paint-order":'paintOrder',panose1:'panose1',"panose-1":'panose1',pathlength:'pathLength',patterncontentunits:'patternContentUnits',patterntransform:'patternTransform',patternunits:'patternUnits',pointerevents:'pointerEvents',"pointer-events":'pointerEvents',points:'points',pointsatx:'pointsAtX',pointsaty:'pointsAtY',pointsatz:'pointsAtZ',prefix:'prefix',preservealpha:'preserveAlpha',preserveaspectratio:'preserveAspectRatio',primitiveunits:'primitiveUnits',property:'property',r:'r',radius:'radius',refx:'refX',refy:'refY',renderingintent:'renderingIntent',"rendering-intent":'renderingIntent',repeatcount:'repeatCount',repeatdur:'repeatDur',requiredextensions:'requiredExtensions',requiredfeatures:'requiredFeatures',resource:'resource',restart:'restart',result:'result',results:'results',rotate:'rotate',rx:'rx',ry:'ry',scale:'scale',security:'security',seed:'seed',shaperendering:'shapeRendering',"shape-rendering":'shapeRendering',slope:'slope',spacing:'spacing',specularconstant:'specularConstant',specularexponent:'specularExponent',speed:'speed',spreadmethod:'spreadMethod',startoffset:'startOffset',stddeviation:'stdDeviation',stemh:'stemh',stemv:'stemv',stitchtiles:'stitchTiles',stopcolor:'stopColor',"stop-color":'stopColor',stopopacity:'stopOpacity',"stop-opacity":'stopOpacity',strikethroughposition:'strikethroughPosition',"strikethrough-position":'strikethroughPosition',strikethroughthickness:'strikethroughThickness',"strikethrough-thickness":'strikethroughThickness',string:'string',stroke:'stroke',strokedasharray:'strokeDasharray',"stroke-dasharray":'strokeDasharray',strokedashoffset:'strokeDashoffset',"stroke-dashoffset":'strokeDashoffset',strokelinecap:'strokeLinecap',"stroke-linecap":'strokeLinecap',strokelinejoin:'strokeLinejoin',"stroke-linejoin":'strokeLinejoin',strokemiterlimit:'strokeMiterlimit',"stroke-miterlimit":'strokeMiterlimit',strokewidth:'strokeWidth',"stroke-width":'strokeWidth',strokeopacity:'strokeOpacity',"stroke-opacity":'strokeOpacity',suppresscontenteditablewarning:'suppressContentEditableWarning',suppresshydrationwarning:'suppressHydrationWarning',surfacescale:'surfaceScale',systemlanguage:'systemLanguage',tablevalues:'tableValues',targetx:'targetX',targety:'targetY',textanchor:'textAnchor',"text-anchor":'textAnchor',textdecoration:'textDecoration',"text-decoration":'textDecoration',textlength:'textLength',textrendering:'textRendering',"text-rendering":'textRendering',to:'to',transform:'transform',typeof:'typeof',u1:'u1',u2:'u2',underlineposition:'underlinePosition',"underline-position":'underlinePosition',underlinethickness:'underlineThickness',"underline-thickness":'underlineThickness',unicode:'unicode',unicodebidi:'unicodeBidi',"unicode-bidi":'unicodeBidi',unicoderange:'unicodeRange',"unicode-range":'unicodeRange',unitsperem:'unitsPerEm',"units-per-em":'unitsPerEm',unselectable:'unselectable',valphabetic:'vAlphabetic',"v-alphabetic":'vAlphabetic',values:'values',vectoreffect:'vectorEffect',"vector-effect":'vectorEffect',version:'version',vertadvy:'vertAdvY',"vert-adv-y":'vertAdvY',vertoriginx:'vertOriginX',"vert-origin-x":'vertOriginX',vertoriginy:'vertOriginY',"vert-origin-y":'vertOriginY',vhanging:'vHanging',"v-hanging":'vHanging',videographic:'vIdeographic',"v-ideographic":'vIdeographic',viewbox:'viewBox',viewtarget:'viewTarget',visibility:'visibility',vmathematical:'vMathematical',"v-mathematical":'vMathematical',vocab:'vocab',widths:'widths',wordspacing:'wordSpacing',"word-spacing":'wordSpacing',writingmode:'writingMode',"writing-mode":'writingMode',x1:'x1',x2:'x2',x:'x',xchannelselector:'xChannelSelector',xheight:'xHeight',"x-height":'xHeight',xlinkactuate:'xlinkActuate',"xlink:actuate":'xlinkActuate',xlinkarcrole:'xlinkArcrole',"xlink:arcrole":'xlinkArcrole',xlinkhref:'xlinkHref',"xlink:href":'xlinkHref',xlinkrole:'xlinkRole',"xlink:role":'xlinkRole',xlinkshow:'xlinkShow',"xlink:show":'xlinkShow',xlinktitle:'xlinkTitle',"xlink:title":'xlinkTitle',xlinktype:'xlinkType',"xlink:type":'xlinkType',xmlbase:'xmlBase',"xml:base":'xmlBase',xmllang:'xmlLang',"xml:lang":'xmlLang',xmlns:'xmlns',"xml:space":'xmlSpace',xmlnsxlink:'xmlnsXlink',"xmlns:xlink":'xmlnsXlink',xmlspace:'xmlSpace',y1:'y1',y2:'y2',y:'y',ychannelselector:'yChannelSelector',z:'z',zoomandpan:'zoomAndPan'};var yp={},xp=Object.prototype.hasOwnProperty,vp=/^on./,bp=/^on[^A-Z]/,_p=/^(aria)-[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ep=/^(aria)[A-Z][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tp=function(e,t,n,r){if(xp.call(yp,t)&&yp[t])return!0;var a=t.toLowerCase();if('onfocusin'===a||'onfocusout'===a)return Ra(!1,'React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React.'),yp[t]=!0,!0;if(r){if(mo.hasOwnProperty(t))return!0;var i=go.hasOwnProperty(a)?go[a]:null;if(null!=i)return Ra(!1,'Invalid event handler property `%s`. Did you mean `%s`?%s',t,i,ea()),yp[t]=!0,!0;if(vp.test(t))return Ra(!1,'Unknown event handler property `%s`. It will be ignored.%s',t,ea()),yp[t]=!0,!0}else if(vp.test(t))return bp.test(t)&&Ra(!1,'Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.%s',t,ea()),yp[t]=!0,!0;if(_p.test(t)||Ep.test(t))return!0;if('innerhtml'===a)return Ra(!1,'Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`.'),yp[t]=!0,!0;if('aria'===a)return Ra(!1,'The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead.'),yp[t]=!0,!0;if('is'===a&&null!==n&&void 0!==n&&'string'!=typeof n)return Ra(!1,'Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.%s',typeof n,ea()),yp[t]=!0,!0;if('number'==typeof n&&isNaN(n))return Ra(!1,'Received NaN for the `%s` attribute. If this is expected, cast the value to a string.%s',t,ea()),yp[t]=!0,!0;var l=d(t);if(hp.hasOwnProperty(a)){var p=hp[a];if(p!==t)return Ra(!1,'Invalid DOM property `%s`. Did you mean `%s`?%s',t,p,ea()),yp[t]=!0,!0}else if(!l&&t!==a)return Ra(!1,'React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.%s',t,a,ea()),yp[t]=!0,!0;return'boolean'!=typeof n||s(t)?!!l||!!o(t,n)||(yp[t]=!0,!1):(n?Ra(!1,'Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.%s',n,t,t,n,t,ea()):Ra(!1,'Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.%s',n,t,t,n,t,t,t,ea()),yp[t]=!0,!0)},Sp=function(e,t,n){var r=[];for(var a in t){var o=Tp(e,a,t[a],n);o||r.push(a)}var i=r.map(function(e){return'`'+e+'`'}).join(', ');1===r.length?Ra(!1,'Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://fb.me/react-attribute-behavior%s',i,e,ea()):1<r.length&&Ra(!1,'Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://fb.me/react-attribute-behavior%s',i,e,ea())},Cp=vs.getCurrentFiberOwnerName,Mp=vs.getCurrentFiberStackAddendum,wp=!1,Rp=!1,Pp='dangerouslySetInnerHTML',Ap='suppressContentEditableWarning',Lp='suppressHydrationWarning',Ip='autoFocus',Np='children',Dp='style',Up='__html',kp=Gl.html,Op=La.thatReturns('');{Op=Mp;var Fp={time:!0,dialog:!0},zp=function(e,t){Jr(e,t),$r(e,t),ta(e,t,!0)},Bp=/\r\n?/g,Hp=/\u0000|\uFFFD/g,Vp=function(e){var t='string'==typeof e?e:''+e;return t.replace(Bp,'\n').replace(Hp,'')},Gp=function(e,t){if(!wp){var n=Vp(t),r=Vp(e);r===n||(wp=!0,Ra(!1,'Text content did not match. Server: "%s" Client: "%s"',r,n))}},Wp=function(e,t,n){if(!wp){var r=Vp(n),a=Vp(t);a===r||(wp=!0,Ra(!1,'Prop `%s` did not match. Server: %s Client: %s',e,JSON.stringify(a),JSON.stringify(r)))}},jp=function(e){if(!wp){wp=!0;var t=[];e.forEach(function(e){t.push(e)}),Ra(!1,'Extra attributes from the server: %s',t)}},Xp=function(e,t){!1===t?Ra(!1,'Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.%s',e,e,e,Mp()):Ra(!1,'Expected `%s` listener to be a function, instead got a value of `%s` type.%s',e,typeof t,Mp())},Yp=function(e,t){var n=e.namespaceURI===kp?e.ownerDocument.createElement(e.tagName):e.ownerDocument.createElementNS(e.namespaceURI,e.tagName);return n.innerHTML=t,n.innerHTML}}var qp={topAbort:'abort',topCanPlay:'canplay',topCanPlayThrough:'canplaythrough',topDurationChange:'durationchange',topEmptied:'emptied',topEncrypted:'encrypted',topEnded:'ended',topError:'error',topLoadedData:'loadeddata',topLoadedMetadata:'loadedmetadata',topLoadStart:'loadstart',topPause:'pause',topPlay:'play',topPlaying:'playing',topProgress:'progress',topRateChange:'ratechange',topSeeked:'seeked',topSeeking:'seeking',topStalled:'stalled',topSuspend:'suspend',topTimeUpdate:'timeupdate',topVolumeChange:'volumechange',topWaiting:'waiting'},Kp=Object.freeze({createElement:sa,createTextNode:da,setInitialProperties:la,diffProperties:pa,updateProperties:ca,diffHydratedProperties:ua,diffHydratedText:ma,warnForUnmatchedText:fa,warnForDeletedHydratableElement:ga,warnForDeletedHydratableText:ha,warnForInsertedHydratedElement:ya,warnForInsertedHydratedText:xa,restoreControlledState:function(e,t,n){return'input'===t?void _r(e,n):'textarea'===t?void zr(e,n):'select'===t?void Dr(e,n):void 0}}),Zp=vs.getCurrentFiberStackAddendum,Jp=La;{var Qp=['address','applet','area','article','aside','base','basefont','bgsound','blockquote','body','br','button','caption','center','col','colgroup','dd','details','dir','div','dl','dt','embed','fieldset','figcaption','figure','footer','form','frame','frameset','h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','iframe','img','input','isindex','li','link','listing','main','marquee','menu','menuitem','meta','nav','noembed','noframes','noscript','object','ol','p','param','plaintext','pre','script','section','select','source','style','summary','table','tbody','td','template','textarea','tfoot','th','thead','title','tr','track','ul','wbr','xmp'],$p=['applet','caption','html','table','td','th','marquee','object','template','foreignObject','desc','title'],ec=$p.concat(['button']),tc=['dd','dt','li','option','optgroup','p','rp','rt'],nc={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},rc=function(e,t,n){var r=Aa({},e||nc),a={tag:t,instance:n};return-1!==$p.indexOf(t)&&(r.aTagInScope=null,r.buttonTagInScope=null,r.nobrTagInScope=null),-1!==ec.indexOf(t)&&(r.pTagInButtonScope=null),-1!==Qp.indexOf(t)&&'address'!==t&&'div'!==t&&'p'!==t&&(r.listItemTagAutoclosing=null,r.dlItemTagAutoclosing=null),r.current=a,'form'===t&&(r.formTag=a),'a'===t&&(r.aTagInScope=a),'button'===t&&(r.buttonTagInScope=a),'nobr'===t&&(r.nobrTagInScope=a),'p'===t&&(r.pTagInButtonScope=a),'li'===t&&(r.listItemTagAutoclosing=a),('dd'===t||'dt'===t)&&(r.dlItemTagAutoclosing=a),r},ac=function(e,t){return'select'===t?'option'===e||'optgroup'===e||'#text'===e:'optgroup'===t?'option'===e||'#text'===e:'option'===t?'#text'===e:'tr'===t?'th'===e||'td'===e||'style'===e||'script'===e||'template'===e:'tbody'===t||'thead'===t||'tfoot'===t?'tr'===e||'style'===e||'script'===e||'template'===e:'colgroup'===t?'col'===e||'template'===e:'table'===t?'caption'===e||'colgroup'===e||'tbody'===e||'tfoot'===e||'thead'===e||'style'===e||'script'===e||'template'===e:'head'===t?'base'===e||'basefont'===e||'bgsound'===e||'link'===e||'meta'===e||'title'===e||'noscript'===e||'noframes'===e||'style'===e||'script'===e||'template'===e:'html'===t?'head'===e||'body'===e:'#document'===t?'html'===e:'h1'===e||'h2'===e||'h3'===e||'h4'===e||'h5'===e||'h6'===e?'h1'!==t&&'h2'!==t&&'h3'!==t&&'h4'!==t&&'h5'!==t&&'h6'!==t:'rp'===e||'rt'===e?-1===tc.indexOf(t):'body'===e||'caption'===e||'col'===e||'colgroup'===e||'frame'===e||'head'===e||'html'===e||'tbody'===e||'td'===e||'tfoot'===e||'th'===e||'thead'===e||'tr'===e?null==t:!0},oc=function(e,t){return'address'===e||'article'===e||'aside'===e||'blockquote'===e||'center'===e||'details'===e||'dialog'===e||'dir'===e||'div'===e||'dl'===e||'fieldset'===e||'figcaption'===e||'figure'===e||'footer'===e||'header'===e||'hgroup'===e||'main'===e||'menu'===e||'nav'===e||'ol'===e||'p'===e||'section'===e||'summary'===e||'ul'===e||'pre'===e||'listing'===e||'table'===e||'hr'===e||'xmp'===e||'h1'===e||'h2'===e||'h3'===e||'h4'===e||'h5'===e||'h6'===e?t.pTagInButtonScope:'form'===e?t.formTag||t.pTagInButtonScope:'li'===e?t.listItemTagAutoclosing:'dd'===e||'dt'===e?t.dlItemTagAutoclosing:'button'===e?t.buttonTagInScope:'a'===e?t.aTagInScope:'nobr'===e?t.nobrTagInScope:null},ic={};Jp=function(e,t,n){n=n||nc;var r=n.current,a=r&&r.tag;null!=t&&(Ra(null==e,'validateDOMNesting: when childText is passed, childTag should be null'),e='#text');var o=ac(e,a)?null:r,i=o?null:oc(e,n),s=o||i;if(s){var d=s.tag,l=Zp(),p=!!o+'|'+e+'|'+d+'|'+l;if(!ic[p]){ic[p]=!0;var c=e,u='';if('#text'===e?/\S/.test(t)?c='Text nodes':(c='Whitespace text nodes',u=' Make sure you don\'t have any extra whitespace between tags on each line of your source code.'):c='<'+e+'>',o){var m='';'table'===d&&'tr'===e&&(m+=' Add a <tbody> to your code to match the DOM tree generated by the browser.'),Ra(!1,'validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s%s',c,d,u,m,l)}else Ra(!1,'validateDOMNesting(...): %s cannot appear as a descendant of <%s>.%s',c,d,l)}}},Jp.updatedAncestorInfo=rc,Jp.isTagValidInContext=function(e,t){t=t||nc;var n=t.current,r=n&&n.tag;return ac(e,r)&&!oc(e,t)}}var sc=Jp,dc=fa,lc=ga,pc=ha,cc=ya,uc=xa,mc=sc.updatedAncestorInfo,fc=S,gc=P;{var hc='suppressHydrationWarning';('function'!=typeof Map||null==Map.prototype||'function'!=typeof Map.prototype.forEach||'function'!=typeof Set||null==Set.prototype||'function'!=typeof Set.prototype.clear||'function'!=typeof Set.prototype.forEach)&&Ra(!1,'React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. http://fb.me/react-polyfills')}ci.injectFiberControlledHostComponent(Kp);var yc=null,xc=null,vc=rl({getRootHostContext:function(e){var t=e.nodeType,n,r;switch(t){case vi:case bi:{n=t===vi?'#document':'#fragment';var a=e.documentElement;r=a?a.namespaceURI:Hr(null,'');break}default:{var o=t===xi?e.parentNode:e,i=o.namespaceURI||null;n=o.tagName,r=Hr(i,n);break}}{var s=n.toLowerCase(),d=mc(null,s,null);return{namespace:r,ancestorInfo:d}}return r},getChildHostContext:function(e,t){{var n=e,r=Hr(n.namespace,t),a=mc(n.ancestorInfo,t,null);return{namespace:r,ancestorInfo:a}}return Hr(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){yc=it(),xc=St(),ot(!1)},resetAfterCommit:function(){Ct(xc),xc=null,ot(yc),yc=null},createInstance:function(e,t,n,r,a){var o;{var i=r;if(sc(e,null,i.ancestorInfo),'string'==typeof t.children||'number'==typeof t.children){var s=''+t.children,d=mc(i.ancestorInfo,e,null);sc(null,s,d)}o=i.namespace}var l=sa(e,t,n,o);return fc(a,l),gc(l,t),l},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){return la(e,t,n,r),Ea(t,n)},prepareUpdate:function(e,t,n,r,a,o){{if(typeof r.children!=typeof n.children&&('string'==typeof r.children||'number'==typeof r.children)){var i=''+r.children,s=mc(o.ancestorInfo,t,null);sc(null,i,s)}}return pa(e,t,n,r,a)},shouldSetTextContent:function(e,t){return'textarea'===e||'string'==typeof t.children||'number'==typeof t.children||'object'==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&'string'==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){{sc(null,e,n.ancestorInfo)}var a=da(e,t);return fc(r,a),a},now:ol,mutation:{commitMount:function(e){e.focus()},commitUpdate:function(e,t,n,r,a){gc(e,a),ca(e,t,n,r,a)},resetTextContent:function(e){e.textContent=''},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){e.nodeType===xi?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){e.nodeType===xi?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){e.nodeType===xi?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return e.nodeType!==hi||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return''===t||e.nodeType!==yi?null:e},getNextHydratableSibling:function(e){for(var t=e.nextSibling;t&&t.nodeType!==hi&&t.nodeType!==yi;)t=t.nextSibling;return t},getFirstHydratableChild:function(e){for(var t=e.firstChild;t&&t.nodeType!==hi&&t.nodeType!==yi;)t=t.nextSibling;return t},hydrateInstance:function(e,t,n,r,a,o){fc(o,e),gc(e,n);var i;{i=a.namespace}return ua(e,t,n,i,r)},hydrateTextInstance:function(e,t,n){return fc(n,e),ma(e,t)},didNotMatchHydratedContainerTextInstance:function(e,t,n){dc(t,n)},didNotMatchHydratedTextInstance:function(e,t,n,r,a){!0!==t[hc]&&dc(r,a)},didNotHydrateContainerInstance:function(e,t){1===t.nodeType?lc(e,t):pc(e,t)},didNotHydrateInstance:function(e,t,n,r){!0!==t[hc]&&(1===r.nodeType?lc(n,r):pc(n,r))},didNotFindHydratableContainerInstance:function(e,t,n){cc(e,t,n)},didNotFindHydratableContainerTextInstance:function(e,t){uc(e,t)},didNotFindHydratableInstance:function(e,t,n,r,a){!0!==t[hc]&&cc(n,r,a)},didNotFindHydratableTextInstance:function(e,t,n,r){!0!==t[hc]&&uc(n,r)}},scheduleDeferredCallback:il,cancelDeferredCallback:sl,useSyncScheduling:!!1});({injectFiberBatchedUpdates:function(e){mi=e}}).injectFiberBatchedUpdates(vc.batchedUpdates);var bc=!1;Ca.prototype.render=function(e,t){var n=this._reactRootContainer;vc.updateContainer(e,n,null,t)},Ca.prototype.unmount=function(e){var t=this._reactRootContainer;vc.updateContainer(null,t,null,e)};var _c={createPortal:Sa,findDOMNode:function(e){{var t=Ai.current;if(null!==t){var n=t.stateNode._warnedAboutRefsInRender;Ra(n,'%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.',Xe(t)||'A component'),t.stateNode._warnedAboutRefsInRender=!0}}if(null==e)return null;if(e.nodeType===hi)return e;var r=Ge(e);return r?vc.findHostInstance(r):void('function'==typeof e.render?wa(!1,'Unable to find node on an unmounted component.'):wa(!1,'Element appears to be neither ReactComponent nor DOMNode. Keys: %s',Object.keys(e)))},hydrate:function(e,t,n){return Ta(null,e,t,!0,n)},render:function(e,t,n){return Ta(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&We(e)?void 0:wa(!1,'parentComponent must be a valid React Component'),Ta(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(va(e)?void 0:wa(!1,'unmountComponentAtNode(...): Target container is not a DOM element.'),e._reactRootContainer){{var t=ba(e),n=t&&!M(t);Ra(!n,'unmountComponentAtNode(): The node you\'re attempting to unmount was rendered by another copy of React.')}return vc.unbatchedUpdates(function(){Ta(null,null,e,!1,function(){e._reactRootContainer=null})}),!0}{var r=ba(e),a=!!(r&&M(r)),o=1===e.nodeType&&va(e.parentNode)&&!!e.parentNode._reactRootContainer;Ra(!a,'unmountComponentAtNode(): The node you\'re attempting to unmount was rendered by React and is not a top-level container. %s',o?'You may have accidentally passed in a React root node instead of its container.':'Instead, have the parent component update its state and rerender in order to remove this component.')}return!1},unstable_createPortal:Sa,unstable_batchedUpdates:me,unstable_deferredUpdates:vc.deferredUpdates,flushSync:vc.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:Mo,EventPluginRegistry:ho,EventPropagators:Vo,ReactControlledComponent:ui,ReactDOMComponentTree:Ho,ReactDOMEventListener:Yi}};var Ec=vc.injectIntoDevTools({findFiberByHostInstance:C,bundleType:1,version:'16.2.0',rendererPackageName:'react-dom'});if(!Ec&&Pa.canUseDOM&&window.top===window.self&&(-1<navigator.userAgent.indexOf('Chrome')&&-1===navigator.userAgent.indexOf('Edge')||-1<navigator.userAgent.indexOf('Firefox'))){var Tc=window.location.protocol;/^(https?|file):$/.test(Tc)&&console.info('%cDownload the React DevTools for a better development experience: https://fb.me/react-devtools'+('file:'===Tc?'\nYou might need to use a local HTTP server (instead of file://): https://fb.me/react-devtools-faq':''),'font-weight:bold')}var Sc=Object.freeze({default:_c}),Cc=Sc&&_c||Sc,Mc=Cc['default']?Cc['default']:Cc;e.exports=Mc}()}).call(t,n(0))},function(e,t,n){'use strict';var r=n(24),a=/^ms-/;e.exports=function(e){return r(e).replace(a,'-ms-')}},function(e){'use strict';var t=/([A-Z])/g;e.exports=function(e){return e.replace(t,'-$1').toLowerCase()}},function(e,t,n){'use strict';var r=n(26),a=/^-ms-/;e.exports=function(e){return r(e.replace(a,'ms-'))}},function(e){'use strict';var t=/-(.)/g;e.exports=function(e){return e.replace(t,function(e,t){return t.toUpperCase()})}},function(e,t,n){'use strict';function r(){}function o(e,t){this.x=e||0,this.y=t||0}function a(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.')}function i(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=r===void 0?1:r}function m(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function s(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.')}function d(e,t,n,r,a,i,l,p,c,u){Object.defineProperty(this,'id',{value:Rd++}),this.uuid=wd.generateUUID(),this.name='',this.image=e===void 0?d.DEFAULT_IMAGE:e,this.mipmaps=[],this.mapping=t===void 0?d.DEFAULT_MAPPING:t,this.wrapS=n===void 0?Es:n,this.wrapT=r===void 0?Es:r,this.magFilter=a===void 0?ws:a,this.minFilter=i===void 0?Ps:i,this.anisotropy=c===void 0?1:c,this.format=l===void 0?Ws:l,this.type=p===void 0?As:p,this.offset=new o(0,0),this.repeat=new o(1,1),this.center=new o(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new s,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u===void 0?yd:u,this.version=0,this.onUpdate=null}function p(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=r===void 0?1:r}function l(e,t,n){this.uuid=wd.generateUUID(),this.width=e,this.height=t,this.scissor=new p(0,0,e,t),this.scissorTest=!1,this.viewport=new p(0,0,e,t),n=n||{},n.minFilter===void 0&&(n.minFilter=ws),this.texture=new d(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=!(n.depthBuffer!==void 0)||n.depthBuffer,this.stencilBuffer=!(n.stencilBuffer!==void 0)||n.stencilBuffer,this.depthTexture=n.depthTexture===void 0?null:n.depthTexture}function c(e,t,n){l.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function u(e,t,n,r,a,o,i,s,l,p,c,u){d.call(this,null,o,i,s,l,p,r,a,c,u),this.image={data:e,width:t,height:n},this.magFilter=l===void 0?Ss:l,this.minFilter=p===void 0?Ss:p,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function f(e,t,n,r,a,o,i,s,l,p){e=e===void 0?[]:e,t=t===void 0?fs:t,d.call(this,e,t,n,r,a,o,i,s,l,p),this.flipY=!1}function g(){this.seq=[],this.map={}}function h(e,t,a){var o=e[0];if(0>=o||0<o)return e;var s=t*a,n=Ld[s];if(void 0===n&&(n=new Float32Array(s),Ld[s]=n),0!==t){o.toArray(n,0);for(var r=1,i=0;r!==t;++r)i+=a,e[r].toArray(n,i)}return n}function y(e,t){var n=Id[t];n===void 0&&(n=new Int32Array(t),Id[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function x(e,t){e.uniform1f(this.addr,t)}function v(e,t){e.uniform1i(this.addr,t)}function b(e,t){t.x===void 0?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function _(e,t){t.x===void 0?t.r===void 0?e.uniform3fv(this.addr,t):e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3f(this.addr,t.x,t.y,t.z)}function E(e,t){t.x===void 0?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function T(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function S(e,t){t.elements===void 0?e.uniformMatrix3fv(this.addr,!1,t):(Dd.set(t.elements),e.uniformMatrix3fv(this.addr,!1,Dd))}function C(e,t){t.elements===void 0?e.uniformMatrix4fv(this.addr,!1,t):(Nd.set(t.elements),e.uniformMatrix4fv(this.addr,!1,Nd))}function M(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTexture2D(t||Pd,r)}function w(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTextureCube(t||Ad,r)}function R(e,t){e.uniform2iv(this.addr,t)}function P(e,t){e.uniform3iv(this.addr,t)}function A(e,t){e.uniform4iv(this.addr,t)}function L(e){return 5126===e?x:35664===e?b:35665===e?_:35666===e?E:35674===e?T:35675===e?S:35676===e?C:35678===e||36198===e?M:35680===e?w:5124===e||35670===e?v:35667===e||35671===e?R:35668===e||35672===e?P:35669===e||35673===e?A:void 0}function I(e,t){e.uniform1fv(this.addr,t)}function N(e,t){e.uniform1iv(this.addr,t)}function D(e,t){e.uniform2fv(this.addr,h(t,this.size,2))}function U(e,t){e.uniform3fv(this.addr,h(t,this.size,3))}function k(e,t){e.uniform4fv(this.addr,h(t,this.size,4))}function O(e,t){e.uniformMatrix2fv(this.addr,!1,h(t,this.size,4))}function F(e,t){e.uniformMatrix3fv(this.addr,!1,h(t,this.size,9))}function z(e,t){e.uniformMatrix4fv(this.addr,!1,h(t,this.size,16))}function B(e,t,r){var a=t.length,n=y(r,a);e.uniform1iv(this.addr,n);for(var o=0;o!==a;++o)r.setTexture2D(t[o]||Pd,n[o])}function H(e,t,r){var a=t.length,n=y(r,a);e.uniform1iv(this.addr,n);for(var o=0;o!==a;++o)r.setTextureCube(t[o]||Ad,n[o])}function V(e){return 5126===e?I:35664===e?D:35665===e?U:35666===e?k:35674===e?O:35675===e?F:35676===e?z:35678===e?B:35680===e?H:5124===e||35670===e?N:35667===e||35671===e?R:35668===e||35672===e?P:35669===e||35673===e?A:void 0}function G(e,t,n){this.id=e,this.addr=n,this.setValue=L(t.type)}function W(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=V(t.type)}function j(e){this.id=e,g.call(this)}function X(e,t){e.seq.push(t),e.map[t.id]=t}function Y(e,t,n){var r=e.name,a=r.length;for(Ud.lastIndex=0;;){var o=Ud.exec(r),i=Ud.lastIndex,s=o[1],d=']'===o[2],l=o[3];if(d&&(s|=0),void 0===l||'['===l&&i+2===a){X(n,void 0===l?new G(s,e,t):new W(s,e,t));break}else{var p=n.map,c=p[s];void 0===c&&(c=new j(s),X(n,c)),n=c}}}function q(e,t,r){g.call(this),this.renderer=r;for(var a=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<a;++n){var o=e.getActiveUniform(t,n),i=o.name,s=e.getUniformLocation(t,i);Y(o,s,this)}}function K(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function Z(e,t){this.min=e===void 0?new o(+Infinity,+Infinity):e,this.max=t===void 0?new o(-Infinity,-Infinity):t}function J(e,t,n,r,a){function s(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),r=new Uint16Array([0,1,2,0,2,3]);d=t.createBuffer(),p=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,p),t.bufferData(t.ELEMENT_ARRAY_BUFFER,r,t.STATIC_DRAW),g=t.createTexture(),h=t.createTexture(),n.bindTexture(t.TEXTURE_2D,g),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),n.bindTexture(t.TEXTURE_2D,h),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),l={vertexShader:'uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\n\tvUV = uv;\n\tvec2 pos = position;\n\tif ( renderType == 2 ) {\n\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\n\t\tvVisibility =        visibility.r / 9.0;\n\t\tvVisibility *= 1.0 - visibility.g / 9.0;\n\t\tvVisibility *=       visibility.b / 9.0;\n\t\tvVisibility *= 1.0 - visibility.a / 9.0;\n\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\n\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n\t}\n\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}',fragmentShader:'uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\n\tif ( renderType == 0 ) {\n\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n\t} else if ( renderType == 1 ) {\n\t\tgl_FragColor = texture2D( map, vUV );\n\t} else {\n\t\tvec4 texture = texture2D( map, vUV );\n\t\ttexture.a *= opacity * vVisibility;\n\t\tgl_FragColor = texture;\n\t\tgl_FragColor.rgb *= color;\n\t}\n}'},c=i(l),u={vertex:t.getAttribLocation(c,'position'),uv:t.getAttribLocation(c,'uv')},f={renderType:t.getUniformLocation(c,'renderType'),map:t.getUniformLocation(c,'map'),occlusionMap:t.getUniformLocation(c,'occlusionMap'),opacity:t.getUniformLocation(c,'opacity'),color:t.getUniformLocation(c,'color'),scale:t.getUniformLocation(c,'scale'),rotation:t.getUniformLocation(c,'rotation'),screenPosition:t.getUniformLocation(c,'screenPosition')}}function i(e){var n=t.createProgram(),r=t.createShader(t.FRAGMENT_SHADER),o=t.createShader(t.VERTEX_SHADER),i='precision '+a.precision+' float;\n';return t.shaderSource(r,i+e.fragmentShader),t.shaderSource(o,i+e.vertexShader),t.compileShader(r),t.compileShader(o),t.attachShader(n,r),t.attachShader(n,o),t.linkProgram(n),n}var d,p,l,c,u,f,g,h;this.render=function(e,a,y,x){if(0!==e.length){var v=new m,b=x.w/x.z,_=0.5*x.z,E=0.5*x.w,T=16/x.w,S=new o(T*b,T),C=new m(1,1,0),M=new o(1,1),w=new Z;w.min.set(x.x,x.y),w.max.set(x.x+(x.z-16),x.y+(x.w-16)),void 0===c&&s(),n.useProgram(c),n.initAttributes(),n.enableAttribute(u.vertex),n.enableAttribute(u.uv),n.disableUnusedAttributes(),t.uniform1i(f.occlusionMap,0),t.uniform1i(f.map,1),t.bindBuffer(t.ARRAY_BUFFER,d),t.vertexAttribPointer(u.vertex,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(u.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,p),n.disable(t.CULL_FACE),n.buffers.depth.setMask(!1);for(var R=0,i=e.length;R<i;R++){T=16/x.w,S.set(T*b,T);var l=e[R];if(v.set(l.matrixWorld.elements[12],l.matrixWorld.elements[13],l.matrixWorld.elements[14]),v.applyMatrix4(y.matrixWorldInverse),v.applyMatrix4(y.projectionMatrix),C.copy(v),M.x=x.x+C.x*_+_-8,M.y=x.y+C.y*E+E-8,!0===w.containsPoint(M)){n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,null),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,g),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,M.x,M.y,16,16,0),t.uniform1i(f.renderType,0),t.uniform2f(f.scale,S.x,S.y),t.uniform3f(f.screenPosition,C.x,C.y,C.z),n.disable(t.BLEND),n.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,h),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,M.x,M.y,16,16,0),t.uniform1i(f.renderType,1),n.disable(t.DEPTH_TEST),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,g),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),l.positionScreen.copy(C),l.customUpdateCallback?l.customUpdateCallback(l):l.updateLensFlares(),t.uniform1i(f.renderType,2),n.enable(t.BLEND);for(var P=0,A=l.lensFlares.length,L;P<A;P++)L=l.lensFlares[P],1e-3<L.opacity&&1e-3<L.scale&&(C.x=L.x,C.y=L.y,C.z=L.z,T=L.size*L.scale/x.w,S.x=T*b,S.y=T,t.uniform3f(f.screenPosition,C.x,C.y,C.z),t.uniform2f(f.scale,S.x,S.y),t.uniform1f(f.rotation,L.rotation),t.uniform1f(f.opacity,L.opacity),t.uniform3f(f.color,L.color.r,L.color.g,L.color.b),n.setBlending(L.blending,L.blendEquation,L.blendSrc,L.blendDst),r.setTexture2D(L.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}}n.enable(t.CULL_FACE),n.enable(t.DEPTH_TEST),n.buffers.depth.setMask(!0),n.reset()}}}function Q(e,t,n,r,a,o,i,s,l){d.call(this,e,t,n,r,a,o,i,s,l),this.needsUpdate=!0}function $(e,t,n,r,a){function o(){var e=new Float32Array([-0.5,-0.5,0,0,0.5,-0.5,1,0,0.5,0.5,1,1,-0.5,0.5,0,1]),n=new Uint16Array([0,1,2,0,2,3]);u=t.createBuffer(),f=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,f),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),g=s(),h={position:t.getAttribLocation(g,'position'),uv:t.getAttribLocation(g,'uv')},y={uvOffset:t.getUniformLocation(g,'uvOffset'),uvScale:t.getUniformLocation(g,'uvScale'),rotation:t.getUniformLocation(g,'rotation'),scale:t.getUniformLocation(g,'scale'),color:t.getUniformLocation(g,'color'),map:t.getUniformLocation(g,'map'),opacity:t.getUniformLocation(g,'opacity'),modelViewMatrix:t.getUniformLocation(g,'modelViewMatrix'),projectionMatrix:t.getUniformLocation(g,'projectionMatrix'),fogType:t.getUniformLocation(g,'fogType'),fogDensity:t.getUniformLocation(g,'fogDensity'),fogNear:t.getUniformLocation(g,'fogNear'),fogFar:t.getUniformLocation(g,'fogFar'),fogColor:t.getUniformLocation(g,'fogColor'),fogDepth:t.getUniformLocation(g,'fogDepth'),alphaTest:t.getUniformLocation(g,'alphaTest')};var r=document.createElementNS('http://www.w3.org/1999/xhtml','canvas');r.width=8,r.height=8;var a=r.getContext('2d');a.fillStyle='white',a.fillRect(0,0,8,8),x=new Q(r)}function s(){var e=t.createProgram(),n=t.createShader(t.VERTEX_SHADER),r=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(n,['precision '+a.precision+' float;','#define SHADER_NAME SpriteMaterial','uniform mat4 modelViewMatrix;','uniform mat4 projectionMatrix;','uniform float rotation;','uniform vec2 scale;','uniform vec2 uvOffset;','uniform vec2 uvScale;','attribute vec2 position;','attribute vec2 uv;','varying vec2 vUV;','varying float fogDepth;','void main() {','\tvUV = uvOffset + uv * uvScale;','\tvec2 alignedPosition = position * scale;','\tvec2 rotatedPosition;','\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;','\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;','\tvec4 mvPosition;','\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );','\tmvPosition.xy += rotatedPosition;','\tgl_Position = projectionMatrix * mvPosition;','\tfogDepth = - mvPosition.z;','}'].join('\n')),t.shaderSource(r,['precision '+a.precision+' float;','#define SHADER_NAME SpriteMaterial','uniform vec3 color;','uniform sampler2D map;','uniform float opacity;','uniform int fogType;','uniform vec3 fogColor;','uniform float fogDensity;','uniform float fogNear;','uniform float fogFar;','uniform float alphaTest;','varying vec2 vUV;','varying float fogDepth;','void main() {','\tvec4 texture = texture2D( map, vUV );','\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );','\tif ( gl_FragColor.a < alphaTest ) discard;','\tif ( fogType > 0 ) {','\t\tfloat fogFactor = 0.0;','\t\tif ( fogType == 1 ) {','\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );','\t\t} else {','\t\t\tconst float LOG2 = 1.442695;','\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );','\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );','\t\t}','\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );','\t}','}'].join('\n')),t.compileShader(n),t.compileShader(r),t.attachShader(e,n),t.attachShader(e,r),t.linkProgram(e),e}function d(e,t){return e.renderOrder===t.renderOrder?e.z===t.z?t.id-e.id:t.z-e.z:e.renderOrder-t.renderOrder}var l=new m,p=new i,c=new m,u,f,g,h,y,x;this.render=function(a,s,m){if(0!==a.length){void 0===g&&o(),n.useProgram(g),n.initAttributes(),n.enableAttribute(h.position),n.enableAttribute(h.uv),n.disableUnusedAttributes(),n.disable(t.CULL_FACE),n.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,u),t.vertexAttribPointer(h.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(h.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,f),t.uniformMatrix4fv(y.projectionMatrix,!1,m.projectionMatrix.elements),n.activeTexture(t.TEXTURE0),t.uniform1i(y.map,0);var v=0,b=0,_=s.fog;_?(t.uniform3f(y.fogColor,_.color.r,_.color.g,_.color.b),_.isFog?(t.uniform1f(y.fogNear,_.near),t.uniform1f(y.fogFar,_.far),t.uniform1i(y.fogType,1),v=1,b=1):_.isFogExp2&&(t.uniform1f(y.fogDensity,_.density),t.uniform1i(y.fogType,2),v=2,b=2)):(t.uniform1i(y.fogType,0),v=0,b=0);for(var E=0,i=a.length,T;E<i;E++)T=a[E],T.modelViewMatrix.multiplyMatrices(m.matrixWorldInverse,T.matrixWorld),T.z=-T.modelViewMatrix.elements[14];a.sort(d);for(var S=[],E=0,i=a.length;E<i;E++){var T=a[E],C=T.material;if(!1!==C.visible){T.onBeforeRender(e,s,m,void 0,C,void 0),t.uniform1f(y.alphaTest,C.alphaTest),t.uniformMatrix4fv(y.modelViewMatrix,!1,T.modelViewMatrix.elements),T.matrixWorld.decompose(l,p,c),S[0]=c.x,S[1]=c.y;var M=0;s.fog&&C.fog&&(M=b),v!=M&&(t.uniform1i(y.fogType,M),v=M),null===C.map?(t.uniform2f(y.uvOffset,0,0),t.uniform2f(y.uvScale,1,1)):(t.uniform2f(y.uvOffset,C.map.offset.x,C.map.offset.y),t.uniform2f(y.uvScale,C.map.repeat.x,C.map.repeat.y)),t.uniform1f(y.opacity,C.opacity),t.uniform3f(y.color,C.color.r,C.color.g,C.color.b),t.uniform1f(y.rotation,C.rotation),t.uniform2fv(y.scale,S),n.setBlending(C.blending,C.blendEquation,C.blendSrc,C.blendDst,C.blendEquationAlpha,C.blendSrcAlpha,C.blendDstAlpha,C.premultipliedAlpha),n.buffers.depth.setTest(C.depthTest),n.buffers.depth.setMask(C.depthWrite),n.buffers.color.setMask(C.colorWrite),r.setTexture2D(C.map||x,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),T.onAfterRender(e,s,m,void 0,C,void 0)}}n.enable(t.CULL_FACE),n.reset()}}}function ee(){Object.defineProperty(this,'id',{value:Hd++}),this.uuid=wd.generateUUID(),this.name='',this.type='Material',this.fog=!0,this.lights=!0,this.blending=Ai,this.side=_i,this.flatShading=!1,this.vertexColors=Mi,this.opacity=1,this.transparent=!1,this.blendSrc=Wi,this.blendDst=ji,this.blendEquation=Ui,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=es,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function te(e){ee.call(this),this.type='MeshDepthMaterial',this.depthPacking=Cd,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function ne(e){ee.call(this),this.type='MeshDistanceMaterial',this.referencePosition=new m,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function re(e,t){this.min=e===void 0?new m(+Infinity,+Infinity,+Infinity):e,this.max=t===void 0?new m(-Infinity,-Infinity,-Infinity):t}function ae(e,t){this.center=e===void 0?new m:e,this.radius=t===void 0?0:t}function oe(e,t){this.normal=e===void 0?new m(1,0,0):e,this.constant=t===void 0?0:t}function ie(e,t,n,r,a,o){this.planes=[e===void 0?new oe:e,t===void 0?new oe:t,n===void 0?new oe:n,r===void 0?new oe:r,a===void 0?new oe:a,o===void 0?new oe:o]}function se(e,t,n){function r(t,n,r,a,o,i){var s=t.geometry,d=null,l=v,p=t.customDepthMaterial;if(r&&(l=b,p=t.customDistanceMaterial),!p){var c=!1;n.morphTargets&&(s&&s.isBufferGeometry?c=s.morphAttributes&&s.morphAttributes.position&&0<s.morphAttributes.position.length:s&&s.isGeometry&&(c=s.morphTargets&&0<s.morphTargets.length)),t.isSkinnedMesh&&!1===n.skinning&&console.warn('THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:',t);var u=t.isSkinnedMesh&&n.skinning,m=0;c&&(m|=y),u&&(m|=x),d=l[m]}else d=p;if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var f=d.uuid,g=n.uuid,h=_[f];void 0===h&&(h={},_[f]=h);var E=h[g];void 0===E&&(E=d.clone(),h[g]=E),d=E}d.visible=n.visible,d.wireframe=n.wireframe;var T=n.side;return P.renderSingleSided&&T==Ti&&(T=_i),P.renderReverseSided&&(T===_i?T=Ei:T===Ei&&(T=_i)),d.side=T,d.clipShadows=n.clipShadows,d.clippingPlanes=n.clippingPlanes,d.clipIntersection=n.clipIntersection,d.wireframeLinewidth=n.wireframeLinewidth,d.linewidth=n.linewidth,r&&d.isMeshDistanceMaterial&&(d.referencePosition.copy(a),d.nearDistance=o,d.farDistance=i),d}function s(n,a,o,p){if(!1!==n.visible){var c=n.layers.test(a.layers);if(c&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||d.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var u=t.update(n),m=n.material;if(Array.isArray(m))for(var f=u.groups,g=0,y=f.length;g<y;g++){var x=f[g],v=m[x.materialIndex];if(v&&v.visible){var b=r(n,v,p,h,o.near,o.far);e.renderBufferDirect(o,null,u,b,n,x)}}else if(m.visible){var b=r(n,m,p,h,o.near,o.far);e.renderBufferDirect(o,null,u,b,n,null)}}for(var _=n.children,E=0,i=_.length;E<i;E++)s(_[E],a,o,p)}}for(var d=new ie,c=new a,u=new o,f=new o(n,n),g=new m,h=new m,y=1,x=2,v=[,,,,],b=[,,,,],_={},E=[new m(1,0,0),new m(-1,0,0),new m(0,0,1),new m(0,0,-1),new m(0,1,0),new m(0,-1,0)],T=[new m(0,1,0),new m(0,1,0),new m(0,1,0),new m(0,1,0),new m(0,0,1),new m(0,0,-1)],S=[new p,new p,new p,new p,new p,new p],C=0;C!==(y|x)+1;++C){var i=0!=(C&y),M=0!=(C&x),w=new te({depthPacking:Md,morphTargets:i,skinning:M});v[C]=w;var R=new ne({morphTargets:i,skinning:M});b[C]=R}var P=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vi,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,n,r){if(!1!==P.enabled&&(!1!==P.autoUpdate||!1!==P.needsUpdate)&&0!==t.length){var a=e.context,o=e.state;o.disable(a.BLEND),o.buffers.color.setClear(1,1,1,1),o.buffers.depth.setTest(!0),o.setScissorTest(!1);for(var p=0,i=t.length,m;p<i;p++){var y=t[p],x=y.shadow,v=y&&y.isPointLight;if(void 0===x){console.warn('THREE.WebGLShadowMap:',y,'has no shadow.');continue}var b=x.camera;if(u.copy(x.mapSize),u.min(f),v){var _=u.x,C=u.y;S[0].set(2*_,C,_,C),S[1].set(0,C,_,C),S[2].set(3*_,C,_,C),S[3].set(_,C,_,C),S[4].set(3*_,0,_,C),S[5].set(_,0,_,C),u.x*=4,u.y*=2}if(null===x.map){x.map=new l(u.x,u.y,{minFilter:Ss,magFilter:Ss,format:Ws}),x.map.texture.name=y.name+'.shadowMap',b.updateProjectionMatrix()}x.isSpotLightShadow&&x.update(y);var M=x.map,w=x.matrix;h.setFromMatrixPosition(y.matrixWorld),b.position.copy(h),v?(m=6,w.makeTranslation(-h.x,-h.y,-h.z)):(m=1,g.setFromMatrixPosition(y.target.matrixWorld),b.lookAt(g),b.updateMatrixWorld(),w.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1),w.multiply(b.projectionMatrix),w.multiply(b.matrixWorldInverse)),e.setRenderTarget(M),e.clear();for(var R=0;R<m;R++){if(v){g.copy(b.position),g.add(E[R]),b.up.copy(T[R]),b.lookAt(g),b.updateMatrixWorld();var A=S[R];o.viewport(A)}c.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),d.setFromMatrix(c),s(n,r,b,v)}}P.needsUpdate=!1}}}function de(e){function t(t,n){var r=t.array,a=t.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,a),t.onUploadCallback();var i=e.FLOAT;return r instanceof Float32Array?i=e.FLOAT:r instanceof Float64Array?console.warn('THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.'):r instanceof Uint16Array?i=e.UNSIGNED_SHORT:r instanceof Int16Array?i=e.SHORT:r instanceof Uint32Array?i=e.UNSIGNED_INT:r instanceof Int32Array?i=e.INT:r instanceof Int8Array?i=e.BYTE:r instanceof Uint8Array&&(i=e.UNSIGNED_BYTE),{buffer:o,type:i,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}function n(t,n,r){var a=n.array,o=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,a,e.STATIC_DRAW):-1===o.count?e.bufferSubData(r,0,a):0===o.count?console.error('THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.'):(e.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}var r={};return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r[e.uuid]},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r[t.uuid];n&&(e.deleteBuffer(n.buffer),delete r[t.uuid])},update:function(e,a){e.isInterleavedBufferAttribute&&(e=e.data);var o=r[e.uuid];o===void 0?r[e.uuid]=t(e,a):o.version<e.version&&(n(o.buffer,e,a),o.version=e.version)}}}function le(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||le.DefaultOrder}function pe(){this.mask=1}function ce(){Object.defineProperty(this,'id',{value:Vd++}),this.uuid=wd.generateUUID(),this.name='',this.type='Object3D',this.parent=null,this.children=[],this.up=ce.DefaultUp.clone();var e=new m,t=new le,n=new i,r=new m(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new a},normalMatrix:{value:new s}}),this.matrix=new a,this.matrixWorld=new a,this.matrixAutoUpdate=ce.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new pe,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function ue(){ce.call(this),this.type='Camera',this.matrixWorldInverse=new a,this.projectionMatrix=new a}function me(e,t,n,r,a,o){ue.call(this),this.type='OrthographicCamera',this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=a===void 0?0.1:a,this.far=o===void 0?2e3:o,this.updateProjectionMatrix()}function fe(e,t,n,r,a,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new m,this.vertexNormals=Array.isArray(r)?r:[],this.color=a&&a.isColor?a:new K,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=o===void 0?0:o}function ge(){Object.defineProperty(this,'id',{value:Gd+=2}),this.uuid=wd.generateUUID(),this.name='',this.type='Geometry',this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function he(e,t,n){if(Array.isArray(e))throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');this.uuid=wd.generateUUID(),this.name='',this.array=e,this.itemSize=t,this.count=e===void 0?0:e.length/t,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function ye(e,t,n){he.call(this,new Int8Array(e),t,n)}function xe(e,t,n){he.call(this,new Uint8Array(e),t,n)}function ve(e,t,n){he.call(this,new Uint8ClampedArray(e),t,n)}function be(e,t,n){he.call(this,new Int16Array(e),t,n)}function _e(e,t,n){he.call(this,new Uint16Array(e),t,n)}function Ee(e,t,n){he.call(this,new Int32Array(e),t,n)}function Te(e,t,n){he.call(this,new Uint32Array(e),t,n)}function Se(e,t,n){he.call(this,new Float32Array(e),t,n)}function Ce(e,t,n){he.call(this,new Float64Array(e),t,n)}function Me(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function we(e){if(0===e.length)return-Infinity;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}function Re(){Object.defineProperty(this,'id',{value:Wd+=2}),this.uuid=wd.generateUUID(),this.name='',this.type='BufferGeometry',this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:Infinity}}function Pe(e,t,n,r,a,o){ge.call(this),this.type='BoxGeometry',this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:a,depthSegments:o},this.fromBufferGeometry(new Ae(e,t,n,r,a,o)),this.mergeVertices()}function Ae(e,t,n,r,a,o){function i(e,t,n,r,o,i,u,h,v,_,E){var T=v+1,S=0,C=0,M=new m,w,R;for(R=0;R<_+1;R++){var P=R*(u/_)-u/2;for(w=0;w<T;w++){var y=w*(i/v)-i/2;M[e]=y*r,M[t]=P*o,M[n]=h/2,d.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=0<h?1:-1,p.push(M.x,M.y,M.z),c.push(w/v),c.push(1-R/_),S+=1}}for(R=0;R<_;R++)for(w=0;w<v;w++){var x=f+w+T*R,a=f+w+T*(R+1),b=f+(w+1)+T*(R+1),A=f+(w+1)+T*R;l.push(x,a,A),l.push(a,b,A),C+=6}s.addGroup(g,C,E),g+=C,f+=S}Re.call(this),this.type='BoxBufferGeometry',this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:a,depthSegments:o};var s=this;e=e||1,t=t||1,n=n||1,r=ai(r)||1,a=ai(a)||1,o=ai(o)||1;var l=[],d=[],p=[],c=[],f=0,g=0;i('z','y','x',-1,-1,n,t,e,o,a,0),i('z','y','x',1,-1,n,t,-e,o,a,1),i('x','z','y',1,1,e,n,t,r,o,2),i('x','z','y',1,-1,e,n,-t,r,o,3),i('x','y','z',1,-1,e,t,n,r,a,4),i('x','y','z',-1,-1,e,t,-n,r,a,5),this.setIndex(l),this.addAttribute('position',new Se(d,3)),this.addAttribute('normal',new Se(p,3)),this.addAttribute('uv',new Se(c,2))}function Le(e,t,n,r){ge.call(this),this.type='PlaneGeometry',this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Ie(e,t,n,r)),this.mergeVertices()}function Ie(e,t,n,r){Re.call(this),this.type='PlaneBufferGeometry',this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},e=e||1,t=t||1;var o=e/2,i=t/2,s=ai(n)||1,l=ai(r)||1,p=s+1,u=e/s,m=t/l,f=[],g=[],h=[],v=[],_,E;for(E=0;E<l+1;E++){var T=E*m-i;for(_=0;_<p;_++){var S=_*u-o;g.push(S,-T,0),h.push(0,0,1),v.push(_/s),v.push(1-E/l)}}for(E=0;E<l;E++)for(_=0;_<s;_++){var x=_+p*E,a=_+p*(E+1),b=_+1+p*(E+1),c=_+1+p*E;f.push(x,a,c),f.push(a,b,c)}this.setIndex(f),this.addAttribute('position',new Se(g,3)),this.addAttribute('normal',new Se(h,3)),this.addAttribute('uv',new Se(v,2))}function Ne(e){ee.call(this),this.type='MeshBasicMaterial',this.color=new K(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=os,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function De(e){ee.call(this),this.type='ShaderMaterial',this.defines={},this.uniforms={},this.vertexShader='void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}',this.fragmentShader='void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}',this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,e!==void 0&&(e.attributes!==void 0&&console.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.'),this.setValues(e))}function Ue(e,t){this.origin=e===void 0?new m:e,this.direction=t===void 0?new m:t}function ke(e,t){this.start=e===void 0?new m:e,this.end=t===void 0?new m:t}function Oe(e,t,n){this.a=e===void 0?new m:e,this.b=t===void 0?new m:t,this.c=n===void 0?new m:n}function Fe(e,t){ce.call(this),this.type='Mesh',this.geometry=e===void 0?new Re:e,this.material=t===void 0?new Ne({color:16777215*Math.random()}):t,this.drawMode=fd,this.updateMorphTargets()}function ze(e,t,n,r){function a(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}var o=new K(0),i=0,s,d,l;return{getClearColor:function(){return o},setClearColor:function(e,t){o.set(e),i=t===void 0?1:t,a(o,i)},getClearAlpha:function(){return i},setClearAlpha:function(e){i=e,a(o,i)},render:function(t,r,p,c){var u=r.background;null===u?a(o,i):u&&u.isColor&&(a(u,1),c=!0),(e.autoClear||c)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),u&&u.isCubeTexture?(l==void 0&&(l=new Fe(new Ae(1,1,1),new De({uniforms:Bd.cube.uniforms,vertexShader:Bd.cube.vertexShader,fragmentShader:Bd.cube.fragmentShader,side:Ei,depthTest:!0,depthWrite:!1,fog:!1})),l.geometry.removeAttribute('normal'),l.geometry.removeAttribute('uv'),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},n.update(l.geometry)),l.material.uniforms.tCube.value=u,t.push(l,l.geometry,l.material,0,null)):u&&u.isTexture&&(s==void 0&&(s=new me(-1,1,1,-1,0,1),d=new Fe(new Ie(2,2),new Ne({depthTest:!1,depthWrite:!1,fog:!1})),n.update(d.geometry)),d.material.map=u,e.renderBufferDirect(s,null,d.geometry,d.material,d,null))}}}function Be(e,t){return e.renderOrder===t.renderOrder?e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id===t.material.id?e.z===t.z?e.id-t.id:e.z-t.z:e.material.id-t.material.id:e.renderOrder-t.renderOrder}function He(e,t){return e.renderOrder===t.renderOrder?e.z===t.z?e.id-t.id:t.z-e.z:e.renderOrder-t.renderOrder}function Ve(){var e=[],t=0,n=[],r=[];return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(a,o,i,s,d){var l=e[t];l===void 0?(l={id:a.id,object:a,geometry:o,material:i,program:i.program,renderOrder:a.renderOrder,z:s,group:d},e[t]=l):(l.id=a.id,l.object=a,l.geometry=o,l.material=i,l.program=i.program,l.renderOrder=a.renderOrder,l.z=s,l.group=d),(!0===i.transparent?r:n).push(l),t++},sort:function(){1<n.length&&n.sort(Be),1<r.length&&r.sort(He)}}}function Ge(){var e={};return{get:function(t,n){var r=t.id+','+n.id,a=e[r];return void 0===a&&(a=new Ve,e[r]=a),a},dispose:function(){e={}}}}function We(e,t){return Ko(t[1])-Ko(e[1])}function je(e){var t={},n=new Float32Array(8);return{update:function(r,a,o,s){var d=r.morphTargetInfluences,l=d.length,p=t[a.id];if(p===void 0){p=[];for(var c=0;c<l;c++)p[c]=[c,0];t[a.id]=p}for(var i=o.morphTargets&&a.morphAttributes.position,u=o.morphNormals&&a.morphAttributes.normal,c=0,m;c<l;c++)m=p[c],0!==m[1]&&(i&&a.removeAttribute('morphTarget'+c),u&&a.removeAttribute('morphNormal'+c));for(var c=0,m;c<l;c++)m=p[c],m[0]=c,m[1]=d[c];p.sort(We);for(var c=0,m;8>c;c++){if(m=p[c],m){var f=m[0],g=m[1];if(g){i&&a.addAttribute('morphTarget'+c,i[f]),u&&a.addAttribute('morphNormal'+c,u[f]),n[c]=g;continue}}n[c]=0}s.getUniforms().setValue(e,'morphTargetInfluences',n)}}}function Xe(e,t,n){var r,a,o;this.setMode=function(e){r=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,i){e.drawElements(r,i,a,t*o),n.calls++,n.vertices+=i,r===e.TRIANGLES?n.faces+=i/3:r===e.POINTS&&(n.points+=i)},this.renderInstances=function(i,s,d){var l=t.get('ANGLE_instanced_arrays');return null===l?void console.error('THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.'):void(l.drawElementsInstancedANGLE(r,d,a,s*o,i.maxInstancedCount),n.calls++,n.vertices+=d*i.maxInstancedCount,r===e.TRIANGLES?n.faces+=i.maxInstancedCount*d/3:r===e.POINTS&&(n.points+=i.maxInstancedCount*d))}}function Ye(e,t,n){var r;this.setMode=function(e){r=e},this.render=function(t,a){e.drawArrays(r,t,a),n.calls++,n.vertices+=a,r===e.TRIANGLES?n.faces+=a/3:r===e.POINTS&&(n.points+=a)},this.renderInstances=function(a,o,i){var s=t.get('ANGLE_instanced_arrays');if(null===s)return void console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');var d=a.attributes.position;d.isInterleavedBufferAttribute?(i=d.data.count,s.drawArraysInstancedANGLE(r,0,i,a.maxInstancedCount)):s.drawArraysInstancedANGLE(r,o,i,a.maxInstancedCount),n.calls++,n.vertices+=i*a.maxInstancedCount,r===e.TRIANGLES?n.faces+=a.maxInstancedCount*i/3:r===e.POINTS&&(n.points+=a.maxInstancedCount*i)}}function qe(e,t,n){function r(e){var i=e.target,s=a[i.id];for(var d in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[d]);i.removeEventListener('dispose',r),delete a[i.id];var l=o[i.id];l&&(t.remove(l),delete o[i.id]),l=o[s.id],l&&(t.remove(l),delete o[s.id]),n.geometries--}var a={},o={};return{get:function(e,t){var o=a[t.id];return o?o:(t.addEventListener('dispose',r),t.isBufferGeometry?o=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=new Re().setFromObject(e)),o=t._bufferGeometry),a[t.id]=o,n.geometries++,o)},update:function(n){var r=n.index,a=n.attributes;for(var o in null!==r&&t.update(r,e.ELEMENT_ARRAY_BUFFER),a)t.update(a[o],e.ARRAY_BUFFER);var s=n.morphAttributes;for(var o in s)for(var d=s[o],p=0,i=d.length;p<i;p++)t.update(d[p],e.ARRAY_BUFFER)},getWireframeAttribute:function(n){var r=o[n.id];if(r)return r;var s=[],d=n.index,p=n.attributes;if(null!==d)for(var u=d.array,m=0,i=u.length;m<i;m+=3){var l=u[m+0],a=u[m+1],f=u[m+2];s.push(l,a,a,f,f,l)}else for(var u=p.position.array,m=0,i=u.length/3-1;m<i;m+=3){var l=m+0,a=m+1,f=m+2;s.push(l,a,a,f,f,l)}return r=new(65535<we(s)?Te:_e)(s,1),t.update(r,e.ELEMENT_ARRAY_BUFFER),o[n.id]=r,r}}}function Ke(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case'DirectionalLight':n={direction:new m,color:new K,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new o};break;case'SpotLight':n={position:new m,direction:new m,color:new K,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new o};break;case'PointLight':n={position:new m,color:new K,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new o,shadowCameraNear:1,shadowCameraFar:1e3};break;case'HemisphereLight':n={direction:new m,skyColor:new K,groundColor:new K};break;case'RectAreaLight':n={color:new K,position:new m,halfWidth:new m,halfHeight:new m};}return e[t.id]=n,n}}}function Ze(){var e=new Ke,t={hash:'',ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new m,r=new a,o=new a;return{setup:function(a,s,d){for(var p=0,c=0,u=0,m=0,f=0,g=0,h=0,y=0,x=d.matrixWorldInverse,v=0,i=a.length;v<i;v++){var l=a[v],b=l.color,_=l.intensity,E=l.distance,T=l.shadow&&l.shadow.map?l.shadow.map.texture:null;if(l.isAmbientLight)p+=b.r*_,c+=b.g*_,u+=b.b*_;else if(l.isDirectionalLight){var S=e.get(l);if(S.color.copy(l.color).multiplyScalar(l.intensity),S.direction.setFromMatrixPosition(l.matrixWorld),n.setFromMatrixPosition(l.target.matrixWorld),S.direction.sub(n),S.direction.transformDirection(x),S.shadow=l.castShadow,l.castShadow){var C=l.shadow;S.shadowBias=C.bias,S.shadowRadius=C.radius,S.shadowMapSize=C.mapSize}t.directionalShadowMap[m]=T,t.directionalShadowMatrix[m]=l.shadow.matrix,t.directional[m]=S,m++}else if(l.isSpotLight){var S=e.get(l);if(S.position.setFromMatrixPosition(l.matrixWorld),S.position.applyMatrix4(x),S.color.copy(b).multiplyScalar(_),S.distance=E,S.direction.setFromMatrixPosition(l.matrixWorld),n.setFromMatrixPosition(l.target.matrixWorld),S.direction.sub(n),S.direction.transformDirection(x),S.coneCos=Yo(l.angle),S.penumbraCos=Yo(l.angle*(1-l.penumbra)),S.decay=0===l.distance?0:l.decay,S.shadow=l.castShadow,l.castShadow){var C=l.shadow;S.shadowBias=C.bias,S.shadowRadius=C.radius,S.shadowMapSize=C.mapSize}t.spotShadowMap[g]=T,t.spotShadowMatrix[g]=l.shadow.matrix,t.spot[g]=S,g++}else if(l.isRectAreaLight){var S=e.get(l);S.color.copy(b).multiplyScalar(_/(l.width*l.height)),S.position.setFromMatrixPosition(l.matrixWorld),S.position.applyMatrix4(x),o.identity(),r.copy(l.matrixWorld),r.premultiply(x),o.extractRotation(r),S.halfWidth.set(0.5*l.width,0,0),S.halfHeight.set(0,0.5*l.height,0),S.halfWidth.applyMatrix4(o),S.halfHeight.applyMatrix4(o),t.rectArea[h]=S,h++}else if(l.isPointLight){var S=e.get(l);if(S.position.setFromMatrixPosition(l.matrixWorld),S.position.applyMatrix4(x),S.color.copy(l.color).multiplyScalar(l.intensity),S.distance=l.distance,S.decay=0===l.distance?0:l.decay,S.shadow=l.castShadow,l.castShadow){var C=l.shadow;S.shadowBias=C.bias,S.shadowRadius=C.radius,S.shadowMapSize=C.mapSize,S.shadowCameraNear=C.camera.near,S.shadowCameraFar=C.camera.far}t.pointShadowMap[f]=T,t.pointShadowMatrix[f]=l.shadow.matrix,t.point[f]=S,f++}else if(l.isHemisphereLight){var S=e.get(l);S.direction.setFromMatrixPosition(l.matrixWorld),S.direction.transformDirection(x),S.direction.normalize(),S.skyColor.copy(l.color).multiplyScalar(_),S.groundColor.copy(l.groundColor).multiplyScalar(_),t.hemi[y]=S,y++}}t.ambient[0]=p,t.ambient[1]=c,t.ambient[2]=u,t.directional.length=m,t.spot.length=g,t.rectArea.length=h,t.point.length=f,t.hemi.length=y,t.hash=m+','+f+','+g+','+h+','+y+','+s.length},state:t}}function Je(e,t){var n={};return{update:function(r){var a=t.frame,o=r.geometry,i=e.get(r,o);return n[i.id]!==a&&(o.isGeometry&&i.updateFromObject(r),e.update(i),n[i.id]=a),i},clear:function(){n={}}}}function Qe(e){for(var t=e.split('\n'),n=0;n<t.length;n++)t[n]=n+1+': '+t[n];return t.join('\n')}function $e(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,e.COMPILE_STATUS)&&console.error('THREE.WebGLShader: Shader couldn\'t compile.'),''!==e.getShaderInfoLog(r)&&console.warn('THREE.WebGLShader: gl.getShaderInfoLog()',t===e.VERTEX_SHADER?'vertex':'fragment',e.getShaderInfoLog(r),Qe(n)),r}function et(e){switch(e){case yd:return['Linear','( value )'];case xd:return['sRGB','( value )'];case bd:return['RGBE','( value )'];case Ed:return['RGBM','( value, 7.0 )'];case Td:return['RGBM','( value, 16.0 )'];case Sd:return['RGBD','( value, 256.0 )'];case vd:return['Gamma','( value, float( GAMMA_FACTOR ) )'];default:throw new Error('unsupported encoding: '+e);}}function tt(e,t){var n=et(t);return'vec4 '+e+'( vec4 value ) { return '+n[0]+'ToLinear'+n[1]+'; }'}function nt(e,t){var n=et(t);return'vec4 '+e+'( vec4 value ) { return LinearTo'+n[0]+n[1]+'; }'}function rt(e,t){var n;switch(t){case ls:n='Linear';break;case ps:n='Reinhard';break;case cs:n='Uncharted2';break;case us:n='OptimizedCineon';break;default:throw new Error('unsupported toneMapping: '+t);}return'vec3 '+e+'( vec3 color ) { return '+n+'ToneMapping( color ); }'}function at(e,t,n){e=e||{};var r=[e.derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?'#extension GL_OES_standard_derivatives : enable':'',(e.fragDepth||t.logarithmicDepthBuffer)&&n.get('EXT_frag_depth')?'#extension GL_EXT_frag_depth : enable':'',e.drawBuffers&&n.get('WEBGL_draw_buffers')?'#extension GL_EXT_draw_buffers : require':'',(e.shaderTextureLOD||t.envMap)&&n.get('EXT_shader_texture_lod')?'#extension GL_EXT_shader_texture_lod : enable':''];return r.filter(st).join('\n')}function ot(e){var t=[];for(var n in e){var r=e[n];!1===r||t.push('#define '+n+' '+r)}return t.join('\n')}function it(e,t){for(var r={},a=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=0;n<a;n++){var o=e.getActiveAttrib(t,n),i=o.name;r[i]=e.getAttribLocation(t,i)}return r}function st(e){return''!==e}function dt(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function lt(e){function t(e,t){var n=zd[t];if(n===void 0)throw new Error('Can not resolve #include <'+t+'>');return lt(n)}var n=/^[ \t]*#include +<([\w\d.]+)>/gm;return e.replace(n,t)}function pt(e){var t=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return e.replace(t,function(e,t,n,r){for(var a='',o=parseInt(t);o<parseInt(n);o++)a+=r.replace(/\[ i \]/g,'[ '+o+' ]');return a})}function ct(e,t,n,r,a,o){var i=e.context,s=r.defines,d=a.vertexShader,l=a.fragmentShader,p='SHADOWMAP_TYPE_BASIC';o.shadowMapType===vi?p='SHADOWMAP_TYPE_PCF':o.shadowMapType===bi&&(p='SHADOWMAP_TYPE_PCF_SOFT');var c='ENVMAP_TYPE_CUBE',u='ENVMAP_MODE_REFLECTION',m='ENVMAP_BLENDING_MULTIPLY';if(o.envMap){switch(r.envMap.mapping){case fs:case gs:c='ENVMAP_TYPE_CUBE';break;case vs:case bs:c='ENVMAP_TYPE_CUBE_UV';break;case hs:case ys:c='ENVMAP_TYPE_EQUIREC';break;case xs:c='ENVMAP_TYPE_SPHERE';}switch(r.envMap.mapping){case gs:case ys:u='ENVMAP_MODE_REFRACTION';}switch(r.combine){case os:m='ENVMAP_BLENDING_MULTIPLY';break;case is:m='ENVMAP_BLENDING_MIX';break;case ss:m='ENVMAP_BLENDING_ADD';}}var f=0<e.gammaFactor?e.gammaFactor:1,g=at(r.extensions,o,t),h=ot(s),y=i.createProgram(),x,v;r.isRawShaderMaterial?(x=[h].filter(st).join('\n'),0<x.length&&(x+='\n'),v=[g,h].filter(st).join('\n'),0<v.length&&(v+='\n')):(x=['precision '+o.precision+' float;','precision '+o.precision+' int;','#define SHADER_NAME '+a.name,h,o.supportsVertexTextures?'#define VERTEX_TEXTURES':'','#define GAMMA_FACTOR '+f,'#define MAX_BONES '+o.maxBones,o.useFog&&o.fog?'#define USE_FOG':'',o.useFog&&o.fogExp?'#define FOG_EXP2':'',o.map?'#define USE_MAP':'',o.envMap?'#define USE_ENVMAP':'',o.envMap?'#define '+u:'',o.lightMap?'#define USE_LIGHTMAP':'',o.aoMap?'#define USE_AOMAP':'',o.emissiveMap?'#define USE_EMISSIVEMAP':'',o.bumpMap?'#define USE_BUMPMAP':'',o.normalMap?'#define USE_NORMALMAP':'',o.displacementMap&&o.supportsVertexTextures?'#define USE_DISPLACEMENTMAP':'',o.specularMap?'#define USE_SPECULARMAP':'',o.roughnessMap?'#define USE_ROUGHNESSMAP':'',o.metalnessMap?'#define USE_METALNESSMAP':'',o.alphaMap?'#define USE_ALPHAMAP':'',o.vertexColors?'#define USE_COLOR':'',o.flatShading?'#define FLAT_SHADED':'',o.skinning?'#define USE_SKINNING':'',o.useVertexTexture?'#define BONE_TEXTURE':'',o.morphTargets?'#define USE_MORPHTARGETS':'',o.morphNormals&&!1===o.flatShading?'#define USE_MORPHNORMALS':'',o.doubleSided?'#define DOUBLE_SIDED':'',o.flipSided?'#define FLIP_SIDED':'','#define NUM_CLIPPING_PLANES '+o.numClippingPlanes,o.shadowMapEnabled?'#define USE_SHADOWMAP':'',o.shadowMapEnabled?'#define '+p:'',o.sizeAttenuation?'#define USE_SIZEATTENUATION':'',o.logarithmicDepthBuffer?'#define USE_LOGDEPTHBUF':'',o.logarithmicDepthBuffer&&t.get('EXT_frag_depth')?'#define USE_LOGDEPTHBUF_EXT':'','uniform mat4 modelMatrix;','uniform mat4 modelViewMatrix;','uniform mat4 projectionMatrix;','uniform mat4 viewMatrix;','uniform mat3 normalMatrix;','uniform vec3 cameraPosition;','attribute vec3 position;','attribute vec3 normal;','attribute vec2 uv;','#ifdef USE_COLOR','\tattribute vec3 color;','#endif','#ifdef USE_MORPHTARGETS','\tattribute vec3 morphTarget0;','\tattribute vec3 morphTarget1;','\tattribute vec3 morphTarget2;','\tattribute vec3 morphTarget3;','\t#ifdef USE_MORPHNORMALS','\t\tattribute vec3 morphNormal0;','\t\tattribute vec3 morphNormal1;','\t\tattribute vec3 morphNormal2;','\t\tattribute vec3 morphNormal3;','\t#else','\t\tattribute vec3 morphTarget4;','\t\tattribute vec3 morphTarget5;','\t\tattribute vec3 morphTarget6;','\t\tattribute vec3 morphTarget7;','\t#endif','#endif','#ifdef USE_SKINNING','\tattribute vec4 skinIndex;','\tattribute vec4 skinWeight;','#endif','\n'].filter(st).join('\n'),v=[g,'precision '+o.precision+' float;','precision '+o.precision+' int;','#define SHADER_NAME '+a.name,h,o.alphaTest?'#define ALPHATEST '+o.alphaTest:'','#define GAMMA_FACTOR '+f,o.useFog&&o.fog?'#define USE_FOG':'',o.useFog&&o.fogExp?'#define FOG_EXP2':'',o.map?'#define USE_MAP':'',o.envMap?'#define USE_ENVMAP':'',o.envMap?'#define '+c:'',o.envMap?'#define '+u:'',o.envMap?'#define '+m:'',o.lightMap?'#define USE_LIGHTMAP':'',o.aoMap?'#define USE_AOMAP':'',o.emissiveMap?'#define USE_EMISSIVEMAP':'',o.bumpMap?'#define USE_BUMPMAP':'',o.normalMap?'#define USE_NORMALMAP':'',o.specularMap?'#define USE_SPECULARMAP':'',o.roughnessMap?'#define USE_ROUGHNESSMAP':'',o.metalnessMap?'#define USE_METALNESSMAP':'',o.alphaMap?'#define USE_ALPHAMAP':'',o.vertexColors?'#define USE_COLOR':'',o.gradientMap?'#define USE_GRADIENTMAP':'',o.flatShading?'#define FLAT_SHADED':'',o.doubleSided?'#define DOUBLE_SIDED':'',o.flipSided?'#define FLIP_SIDED':'','#define NUM_CLIPPING_PLANES '+o.numClippingPlanes,'#define UNION_CLIPPING_PLANES '+(o.numClippingPlanes-o.numClipIntersection),o.shadowMapEnabled?'#define USE_SHADOWMAP':'',o.shadowMapEnabled?'#define '+p:'',o.premultipliedAlpha?'#define PREMULTIPLIED_ALPHA':'',o.physicallyCorrectLights?'#define PHYSICALLY_CORRECT_LIGHTS':'',o.logarithmicDepthBuffer?'#define USE_LOGDEPTHBUF':'',o.logarithmicDepthBuffer&&t.get('EXT_frag_depth')?'#define USE_LOGDEPTHBUF_EXT':'',o.envMap&&t.get('EXT_shader_texture_lod')?'#define TEXTURE_LOD_EXT':'','uniform mat4 viewMatrix;','uniform vec3 cameraPosition;',o.toneMapping===ds?'':'#define TONE_MAPPING',o.toneMapping===ds?'':zd.tonemapping_pars_fragment,o.toneMapping===ds?'':rt('toneMapping',o.toneMapping),o.dithering?'#define DITHERING':'',o.outputEncoding||o.mapEncoding||o.envMapEncoding||o.emissiveMapEncoding?zd.encodings_pars_fragment:'',o.mapEncoding?tt('mapTexelToLinear',o.mapEncoding):'',o.envMapEncoding?tt('envMapTexelToLinear',o.envMapEncoding):'',o.emissiveMapEncoding?tt('emissiveMapTexelToLinear',o.emissiveMapEncoding):'',o.outputEncoding?nt('linearToOutputTexel',o.outputEncoding):'',o.depthPacking?'#define DEPTH_PACKING '+r.depthPacking:'','\n'].filter(st).join('\n')),d=lt(d),d=dt(d,o),l=lt(l),l=dt(l,o),r.isShaderMaterial||(d=pt(d),l=pt(l));var b=x+d,_=v+l,E=$e(i,i.VERTEX_SHADER,b),T=$e(i,i.FRAGMENT_SHADER,_);i.attachShader(y,E),i.attachShader(y,T),void 0===r.index0AttributeName?!0===o.morphTargets&&i.bindAttribLocation(y,0,'position'):i.bindAttribLocation(y,0,r.index0AttributeName),i.linkProgram(y);var S=i.getProgramInfoLog(y),C=i.getShaderInfoLog(E),M=i.getShaderInfoLog(T),w=!0,R=!0;!1===i.getProgramParameter(y,i.LINK_STATUS)?(w=!1,console.error('THREE.WebGLProgram: shader error: ',i.getError(),'gl.VALIDATE_STATUS',i.getProgramParameter(y,i.VALIDATE_STATUS),'gl.getProgramInfoLog',S,C,M)):''===S?(''===C||''===M)&&(R=!1):console.warn('THREE.WebGLProgram: gl.getProgramInfoLog()',S),R&&(this.diagnostics={runnable:w,material:r,programLog:S,vertexShader:{log:C,prefix:x},fragmentShader:{log:M,prefix:v}}),i.deleteShader(E),i.deleteShader(T);var P;this.getUniforms=function(){return void 0==P&&(P=new q(i,y,e)),P};var A;return this.getAttributes=function(){return void 0==A&&(A=it(i,y)),A},this.destroy=function(){i.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn('THREE.WebGLProgram: .uniforms is now .getUniforms().'),this.getUniforms()}},attributes:{get:function(){return console.warn('THREE.WebGLProgram: .attributes is now .getAttributes().'),this.getAttributes()}}}),this.id=jd++,this.code=n,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=T,this}function ut(e,t,n){function r(e){var t=e.skeleton,r=t.bones;if(n.floatVertexTextures)return 1024;var a=n.maxVertexUniforms,o=ai((a-20)/4),i=si(o,r.length);return i<r.length?(console.warn('THREE.WebGLRenderer: Skeleton has '+r.length+' bones. This GPU supports '+i+'.'),0):i}function a(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn('THREE.WebGLPrograms.getTextureEncodingFromMap: don\'t use render targets as textures. Use their .texture property instead.'),n=e.texture.encoding):n=yd,n===yd&&t&&(n=vd),n}var o=[],i={MeshDepthMaterial:'depth',MeshDistanceMaterial:'distanceRGBA',MeshNormalMaterial:'normal',MeshBasicMaterial:'basic',MeshLambertMaterial:'lambert',MeshPhongMaterial:'phong',MeshToonMaterial:'phong',MeshStandardMaterial:'physical',MeshPhysicalMaterial:'physical',LineBasicMaterial:'basic',LineDashedMaterial:'dashed',PointsMaterial:'points',ShadowMaterial:'shadow'},s=['precision','supportsVertexTextures','map','mapEncoding','envMap','envMapMode','envMapEncoding','lightMap','aoMap','emissiveMap','emissiveMapEncoding','bumpMap','normalMap','displacementMap','specularMap','roughnessMap','metalnessMap','gradientMap','alphaMap','combine','vertexColors','fog','useFog','fogExp','flatShading','sizeAttenuation','logarithmicDepthBuffer','skinning','maxBones','useVertexTexture','morphTargets','morphNormals','maxMorphTargets','maxMorphNormals','premultipliedAlpha','numDirLights','numPointLights','numSpotLights','numHemiLights','numRectAreaLights','shadowMapEnabled','shadowMapType','toneMapping','physicallyCorrectLights','alphaTest','doubleSided','flipSided','numClippingPlanes','numClipIntersection','depthPacking','dithering'];this.getParameters=function(t,o,s,d,l,p,c){var u=i[t.type],m=c.isSkinnedMesh?r(c):0,f=n.precision;null!==t.precision&&(f=n.getMaxPrecision(t.precision),f!==t.precision&&console.warn('THREE.WebGLProgram.getParameters:',t.precision,'not supported, using',f,'instead.'));var g=e.getRenderTarget(),h={shaderID:u,precision:f,supportsVertexTextures:n.vertexTextures,outputEncoding:a(g?g.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:a(t.map,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:a(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===vs||t.envMap.mapping===bs),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:a(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!d,useFog:t.fog,fogExp:d&&d.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&0<m,maxBones:m,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numClippingPlanes:l,numClipIntersection:p,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.receiveShadow&&0<s.length,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===Ti,flipSided:t.side===Ei,depthPacking:t.depthPacking!==void 0&&t.depthPacking};return h},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var a in t.defines)r.push(a),r.push(t.defines[a]);for(var o=0;o<s.length;o++)r.push(n[s[o]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.join()},this.acquireProgram=function(n,r,a,i){for(var s=0,d=o.length,l,p;s<d;s++)if(p=o[s],p.code===i){l=p,++l.usedTimes;break}return void 0===l&&(l=new ct(e,t,i,n,r,a),o.push(l)),l},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},this.programs=o}function mt(e,t,n,r,a,o,s){function d(e,t){if(e.width>t||e.height>t){var n=t/ni(e.width,e.height),r=document.createElementNS('http://www.w3.org/1999/xhtml','canvas');r.width=ai(e.width*n),r.height=ai(e.height*n);var a=r.getContext('2d');return a.drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn('THREE.WebGLRenderer: image is too big ('+e.width+'x'+e.height+'). Resized to '+r.width+'x'+r.height,e),r}return e}function l(e){return wd.isPowerOfTwo(e.width)&&wd.isPowerOfTwo(e.height)}function p(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){var t=document.createElementNS('http://www.w3.org/1999/xhtml','canvas');t.width=wd.floorPowerOfTwo(e.width),t.height=wd.floorPowerOfTwo(e.height);var n=t.getContext('2d');return n.drawImage(e,0,0,t.width,t.height),console.warn('THREE.WebGLRenderer: image is not power of two ('+e.width+'x'+e.height+'). Resized to '+t.width+'x'+t.height,e),t}return e}function c(e){return e.wrapS!==Es||e.wrapT!==Es||e.minFilter!==Ss&&e.minFilter!==ws}function u(e,t){return e.generateMipmaps&&t&&e.minFilter!==Ss&&e.minFilter!==ws}function i(t){return t===Ss||t===Cs||t===Ms?e.NEAREST:e.LINEAR}function m(e){var t=e.target;t.removeEventListener('dispose',m),g(t),t.isVideoTexture&&delete C[t.id],s.textures--}function f(e){var t=e.target;t.removeEventListener('dispose',f),h(t),s.textures--}function g(t){var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(n.__webglInit===void 0)return;e.deleteTexture(n.__webglTexture)}r.remove(t)}function h(t){var n=r.get(t),a=r.get(t.texture);if(t){if(void 0!==a.__webglTexture&&e.deleteTexture(a.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var o=0;6>o;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}}function y(t,a){var o=r.get(t);if(0<t.version&&o.__version!==t.version){var i=t.image;if(i===void 0)console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined',t);else if(!1===i.complete)console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete',t);else return void v(o,t,a)}n.activeTexture(e.TEXTURE0+a),n.bindTexture(e.TEXTURE_2D,o.__webglTexture)}function x(n,s,d){var l;if(d?(e.texParameteri(n,e.TEXTURE_WRAP_S,o.convert(s.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,o.convert(s.wrapT)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,o.convert(s.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,o.convert(s.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),(s.wrapS!==Es||s.wrapT!==Es)&&console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.',s),e.texParameteri(n,e.TEXTURE_MAG_FILTER,i(s.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,i(s.minFilter)),s.minFilter!==Ss&&s.minFilter!==ws&&console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.',s)),l=t.get('EXT_texture_filter_anisotropic'),l){if(s.type===ks&&null===t.get('OES_texture_float_linear'))return;if(s.type===Os&&null===t.get('OES_texture_half_float_linear'))return;(1<s.anisotropy||r.get(s).__currentAnisotropy)&&(e.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,si(s.anisotropy,a.getMaxAnisotropy())),r.get(s).__currentAnisotropy=s.anisotropy)}}function v(t,r,f){t.__webglInit===void 0&&(t.__webglInit=!0,r.addEventListener('dispose',m),t.__webglTexture=e.createTexture(),r.isVideoTexture&&(C[r.id]=r),s.textures++),n.activeTexture(e.TEXTURE0+f),n.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment);var g=d(r.image,a.maxTextureSize);c(r)&&!1===l(g)&&(g=p(g));var h=l(g),y=o.convert(r.format),v=o.convert(r.type);x(e.TEXTURE_2D,r,h);var b=r.mipmaps,_;if(r.isDepthTexture){var E=e.DEPTH_COMPONENT;if(r.type===ks){if(!S)throw new Error('Float Depth Texture only supported in WebGL2.0');E=e.DEPTH_COMPONENT32F}else S&&(E=e.DEPTH_COMPONENT16);r.format===qs&&E===e.DEPTH_COMPONENT&&r.type!==Ns&&r.type!==Us&&(console.warn('THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.'),r.type=Ns,v=o.convert(r.type)),r.format===Ks&&(E=e.DEPTH_STENCIL,r.type!==Hs&&(console.warn('THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.'),r.type=Hs,v=o.convert(r.type))),n.texImage2D(e.TEXTURE_2D,0,E,g.width,g.height,0,y,v,null)}else if(r.isDataTexture){if(0<b.length&&h){for(var T=0,i=b.length;T<i;T++)_=b[T],n.texImage2D(e.TEXTURE_2D,T,y,_.width,_.height,0,y,v,_.data);r.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,y,g.width,g.height,0,y,v,g.data);}else if(r.isCompressedTexture)for(var T=0,i=b.length;T<i;T++)_=b[T],r.format!==Ws&&r.format!==Gs?-1<n.getCompressedTextureFormats().indexOf(y)?n.compressedTexImage2D(e.TEXTURE_2D,T,y,_.width,_.height,0,_.data):console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()'):n.texImage2D(e.TEXTURE_2D,T,y,_.width,_.height,0,y,v,_.data);else if(0<b.length&&h){for(var T=0,i=b.length;T<i;T++)_=b[T],n.texImage2D(e.TEXTURE_2D,T,y,y,v,_);r.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,y,y,v,g);u(r,h)&&e.generateMipmap(e.TEXTURE_2D),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function b(t,a,i,s){var d=o.convert(a.texture.format),l=o.convert(a.texture.type);n.texImage2D(s,0,d,a.width,a.height,0,d,l,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,i,s,r.get(a.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function _(t,n){e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n.width,n.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function E(t,n){var a=n&&n.isWebGLRenderTargetCube;if(a)throw new Error('Depth Texture with cube render targets is not supported');if(e.bindFramebuffer(e.FRAMEBUFFER,t),!(n.depthTexture&&n.depthTexture.isDepthTexture))throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),y(n.depthTexture,0);var o=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===qs)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else if(n.depthTexture.format===Ks)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0);else throw new Error('Unknown depthTexture format')}function T(t){var n=r.get(t),a=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(a)throw new Error('target.depthTexture not supported in Cube render targets');E(n.__webglFramebuffer,t)}else if(a){n.__webglDepthbuffer=[];for(var o=0;6>o;o++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),_(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),_(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}var S='undefined'!=typeof WebGL2RenderingContext&&e instanceof window.WebGL2RenderingContext,C={};this.setTexture2D=y,this.setTextureCube=function(t,p){var c=r.get(t);if(6===t.image.length)if(0<t.version&&c.__version!==t.version){c.__image__webglTextureCube||(t.addEventListener('dispose',m),c.__image__webglTextureCube=e.createTexture(),s.textures++),n.activeTexture(e.TEXTURE0+p),n.bindTexture(e.TEXTURE_CUBE_MAP,c.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var f=t&&t.isCompressedTexture,g=t.image[0]&&t.image[0].isDataTexture,h=[],y=0;6>y;y++)h[y]=f||g?g?t.image[y].image:t.image[y]:d(t.image[y],a.maxCubemapSize);var i=h[0],v=l(i),b=o.convert(t.format),_=o.convert(t.type);x(e.TEXTURE_CUBE_MAP,t,v);for(var y=0;6>y;y++)if(!f)g?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+y,0,b,h[y].width,h[y].height,0,b,_,h[y].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+y,0,b,b,_,h[y]);else for(var E=h[y].mipmaps,T=0,S=E.length,C;T<S;T++)C=E[T],t.format!==Ws&&t.format!==Gs?-1<n.getCompressedTextureFormats().indexOf(b)?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+y,T,b,C.width,C.height,0,C.data):console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()'):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+y,T,b,C.width,C.height,0,b,_,C.data);u(t,v)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),c.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+p),n.bindTexture(e.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,a){n.activeTexture(e.TEXTURE0+a),n.bindTexture(e.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)},this.setupRenderTarget=function(t){var a=r.get(t),o=r.get(t.texture);t.addEventListener('dispose',f),o.__webglTexture=e.createTexture(),s.textures++;var d=!0===t.isWebGLRenderTargetCube,p=l(t);if(d){a.__webglFramebuffer=[];for(var c=0;6>c;c++)a.__webglFramebuffer[c]=e.createFramebuffer()}else a.__webglFramebuffer=e.createFramebuffer();if(d){n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture),x(e.TEXTURE_CUBE_MAP,t.texture,p);for(var c=0;6>c;c++)b(a.__webglFramebuffer[c],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+c);u(t.texture,p)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,o.__webglTexture),x(e.TEXTURE_2D,t.texture,p),b(a.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),u(t.texture,p)&&e.generateMipmap(e.TEXTURE_2D),n.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&T(t)},this.updateRenderTargetMipmap=function(t){var a=t.texture,o=l(t);if(u(a,o)){var i=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,s=r.get(a).__webglTexture;n.bindTexture(i,s),e.generateMipmap(i),n.bindTexture(i,null)}},this.updateVideoTextures=function(){for(var e in C)C[e].update()}}function ft(){var e={};return{get:function(t){var n=t.uuid,r=e[n];return void 0===r&&(r={},e[n]=r),r},remove:function(t){delete e[t.uuid]},clear:function(){e={}}}}function gt(e,t,n){function r(t,n,r){var a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var s=0;s<r;s++)e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}function a(t){!0!==_[t]&&(e.enable(t),_[t]=!0)}function o(t){!1!==_[t]&&(e.disable(t),_[t]=!1)}function i(t,r,i,s,d,l,p,c){t===Pi?o(e.BLEND):a(e.BLEND),t===Di?(d=d||r,l=l||i,p=p||s,(r!==C||d!==R)&&(e.blendEquationSeparate(n.convert(r),n.convert(d)),C=r,R=d),(i!==M||s!==w||l!==P||p!==A)&&(e.blendFuncSeparate(n.convert(i),n.convert(s),n.convert(l),n.convert(p)),M=i,w=s,P=l,A=p)):((t!==S||c!==L)&&(t===Li?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)):t===Ii?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)):t===Ni?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR)):c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA))),C=null,M=null,w=null,R=null,P=null,A=null),S=t,L=c}function s(t){I!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),I=t)}function d(t){t===ui?o(e.CULL_FACE):(a(e.CULL_FACE),t!==N&&(t===mi?e.cullFace(e.BACK):t===fi?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))),N=t}function l(t,n,r){t?(a(e.POLYGON_OFFSET_FILL),(U!==n||k!==r)&&(e.polygonOffset(n,r),U=n,k=r)):o(e.POLYGON_OFFSET_FILL)}function c(t){void 0===t&&(t=e.TEXTURE0+O-1),B!==t&&(e.activeTexture(t),B=t)}function u(t){!1===V.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),V.copy(t))}function m(t){!1===G.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),G.copy(t))}var f=new function(){var t=!1,n=new p,r=null,o=new p(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,i,s,a){!0===a&&(t*=s,r*=s,i*=s),n.set(t,r,i,s),!1===o.equals(n)&&(e.clearColor(t,r,i,s),o.copy(n))},reset:function(){t=!1,r=null,o.set(-1,0,0,0)}}},g=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?a(e.DEPTH_TEST):o(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){r!==t&&(t?t===Ji?e.depthFunc(e.NEVER):t===Qi?e.depthFunc(e.ALWAYS):t===$i?e.depthFunc(e.LESS):t===es?e.depthFunc(e.LEQUAL):t===ts?e.depthFunc(e.EQUAL):t===ns?e.depthFunc(e.GEQUAL):t===rs?e.depthFunc(e.GREATER):t===as?e.depthFunc(e.NOTEQUAL):e.depthFunc(e.LEQUAL):e.depthFunc(e.LEQUAL),r=t)},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},h=new function(){var t=!1,n=null,r=null,i=null,s=null,d=null,l=null,p=null,c=null;return{setTest:function(t){t?a(e.STENCIL_TEST):o(e.STENCIL_TEST)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){(r!==t||i!==n||s!==a)&&(e.stencilFunc(t,n,a),r=t,i=n,s=a)},setOp:function(t,n,r){(d!==t||l!==n||p!==r)&&(e.stencilOp(t,n,r),d=t,l=n,p=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,s=null,d=null,l=null,p=null,c=null}}},y=e.getParameter(e.MAX_VERTEX_ATTRIBS),x=new Uint8Array(y),v=new Uint8Array(y),b=new Uint8Array(y),_={},E=null,T=null,S=null,C=null,M=null,w=null,R=null,P=null,A=null,L=!1,I=null,N=null,D=null,U=null,k=null,O=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),F=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),z=1<=parseFloat(F),B=null,H={},V=new p,G=new p,W={};return W[e.TEXTURE_2D]=r(e.TEXTURE_2D,e.TEXTURE_2D,1),W[e.TEXTURE_CUBE_MAP]=r(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),f.setClear(0,0,0,1),g.setClear(1),h.setClear(0),a(e.DEPTH_TEST),g.setFunc(es),s(!1),d(mi),a(e.CULL_FACE),a(e.BLEND),i(Ai),{buffers:{color:f,depth:g,stencil:h},initAttributes:function(){for(var e=0,t=x.length;e<t;e++)x[e]=0},enableAttribute:function(n){if(x[n]=1,0===v[n]&&(e.enableVertexAttribArray(n),v[n]=1),0!==b[n]){var r=t.get('ANGLE_instanced_arrays');r.vertexAttribDivisorANGLE(n,0),b[n]=0}},enableAttributeAndDivisor:function(n,r){if(x[n]=1,0===v[n]&&(e.enableVertexAttribArray(n),v[n]=1),b[n]!==r){var a=t.get('ANGLE_instanced_arrays');a.vertexAttribDivisorANGLE(n,r),b[n]=r}},disableUnusedAttributes:function(){for(var t=0,n=v.length;t!==n;++t)v[t]!==x[t]&&(e.disableVertexAttribArray(t),v[t]=0)},enable:a,disable:o,getCompressedTextureFormats:function(){if(null==E&&(E=[],t.get('WEBGL_compressed_texture_pvrtc')||t.get('WEBGL_compressed_texture_s3tc')||t.get('WEBGL_compressed_texture_etc1')))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)E.push(n[r]);return E},useProgram:function(t){return T!==t&&(e.useProgram(t),T=t,!0)},setBlending:i,setMaterial:function(t,n){t.side===Ti?o(e.CULL_FACE):a(e.CULL_FACE);var r=t.side===Ei;n&&(r=!r),s(r),!0===t.transparent?i(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):i(Pi),g.setFunc(t.depthFunc),g.setTest(t.depthTest),g.setMask(t.depthWrite),f.setMask(t.colorWrite),l(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:s,setCullFace:d,setLineWidth:function(t){t!==D&&(z&&e.lineWidth(t),D=t)},setPolygonOffset:l,setScissorTest:function(t){t?a(e.SCISSOR_TEST):o(e.SCISSOR_TEST)},activeTexture:c,bindTexture:function(t,n){null===B&&c();var r=H[B];void 0===r&&(r={type:void 0,texture:void 0},H[B]=r),(r.type!==t||r.texture!==n)&&(e.bindTexture(t,n||W[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error('THREE.WebGLState:',e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error('THREE.WebGLState:',e)}},scissor:u,viewport:m,reset:function(){for(var t=0;t<v.length;t++)1===v[t]&&(e.disableVertexAttribArray(t),v[t]=0);_={},E=null,B=null,H={},T=null,S=null,I=null,N=null,f.reset(),g.reset(),h.reset()}}}function ht(e,t,n){function r(t){if('highp'===t){if(0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision)return'highp';t='mediump'}return'mediump'===t&&0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision?'mediump':'lowp'}var a=n.precision===void 0?'highp':n.precision,o=r(a),i;o!==a&&(console.warn('THREE.WebGLRenderer:',a,'not supported, using',o,'instead.'),a=o);var s=!0===n.logarithmicDepthBuffer,d=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),l=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=e.getParameter(e.MAX_TEXTURE_SIZE),c=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),u=e.getParameter(e.MAX_VERTEX_ATTRIBS),m=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),f=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),h=0<l,y=!!t.get('OES_texture_float');return{getMaxAnisotropy:function(){if(void 0!=i)return i;var n=t.get('EXT_texture_filter_anisotropic');return i=null===n?0:e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT),i},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:s,maxTextures:d,maxVertexTextures:l,maxTextureSize:p,maxCubemapSize:c,maxAttributes:u,maxVertexUniforms:m,maxVaryings:f,maxFragmentUniforms:g,vertexTextures:h,floatFragmentTextures:y,floatVertexTextures:h&&y}}function yt(e,t,n,r){ue.call(this),this.type='PerspectiveCamera',this.fov=e===void 0?50:e,this.zoom=1,this.near=n===void 0?0.1:n,this.far=r===void 0?2e3:r,this.focus=10,this.aspect=t===void 0?1:t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function xt(e){yt.call(this),this.cameras=e||[]}function vt(e){function t(){if(null!=r&&r.isPresenting){var t=r.getEyeParameters('left'),a=t.renderWidth,o=t.renderHeight;m=e.getPixelRatio(),u=e.getSize(),e.setDrawingBufferSize(2*a,o,1)}else n.enabled&&e.setDrawingBufferSize(u.width,u.height,m)}var n=this,r=null,o=null,i=null;'undefined'!=typeof window&&'VRFrameData'in window&&(o=new window.VRFrameData);var s=new a,d=new yt;d.bounds=new p(0,0,0.5,1),d.layers.enable(1);var l=new yt;l.bounds=new p(0.5,0,0.5,1),l.layers.enable(2);var c=new xt([d,l]);c.layers.enable(1),c.layers.enable(2);var u,m;'undefined'!=typeof window&&window.addEventListener('vrdisplaypresentchange',t,!1),this.enabled=!1,this.getDevice=function(){return r},this.setDevice=function(e){e!==void 0&&(r=e)},this.setPoseTarget=function(e){e!==void 0&&(i=e)},this.getCamera=function(e){if(null===r)return e;r.depthNear=e.near,r.depthFar=e.far,r.getFrameData(o);var t=o.pose,n=null===i?e:i;if(null===t.position?n.position.set(0,0,0):n.position.fromArray(t.position),null!==t.orientation&&n.quaternion.fromArray(t.orientation),n.updateMatrixWorld(),!1===r.isPresenting)return e;d.near=e.near,l.near=e.near,d.far=e.far,l.far=e.far,c.matrixWorld.copy(e.matrixWorld),c.matrixWorldInverse.copy(e.matrixWorldInverse),d.matrixWorldInverse.fromArray(o.leftViewMatrix),l.matrixWorldInverse.fromArray(o.rightViewMatrix);var a=n.parent;null!==a&&(s.getInverse(a.matrixWorld),d.matrixWorldInverse.multiply(s),l.matrixWorldInverse.multiply(s)),d.matrixWorld.getInverse(d.matrixWorldInverse),l.matrixWorld.getInverse(l.matrixWorldInverse),d.projectionMatrix.fromArray(o.leftProjectionMatrix),l.projectionMatrix.fromArray(o.rightProjectionMatrix),c.projectionMatrix.copy(d.projectionMatrix);var p=r.getLayers();if(p.length){var u=p[0];null!==u.leftBounds&&4===u.leftBounds.length&&d.bounds.fromArray(u.leftBounds),null!==u.rightBounds&&4===u.rightBounds.length&&l.bounds.fromArray(u.rightBounds)}return c},this.submitFrame=function(){r&&r.isPresenting&&r.submitFrame()},this.dispose=function(){'undefined'!=typeof window&&window.removeEventListener('vrdisplaypresentchange',t)}}function bt(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;return r='WEBGL_depth_texture'===n?e.getExtension('WEBGL_depth_texture')||e.getExtension('MOZ_WEBGL_depth_texture')||e.getExtension('WEBKIT_WEBGL_depth_texture'):'EXT_texture_filter_anisotropic'===n?e.getExtension('EXT_texture_filter_anisotropic')||e.getExtension('MOZ_EXT_texture_filter_anisotropic')||e.getExtension('WEBKIT_EXT_texture_filter_anisotropic'):'WEBGL_compressed_texture_s3tc'===n?e.getExtension('WEBGL_compressed_texture_s3tc')||e.getExtension('MOZ_WEBGL_compressed_texture_s3tc')||e.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc'):'WEBGL_compressed_texture_pvrtc'===n?e.getExtension('WEBGL_compressed_texture_pvrtc')||e.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc'):'WEBGL_compressed_texture_etc1'===n?e.getExtension('WEBGL_compressed_texture_etc1'):e.getExtension(n),null===r&&console.warn('THREE.WebGLRenderer: '+n+' extension not supported.'),t[n]=r,r}}}function _t(){function e(){c.value!==r&&(c.value=r,c.needsUpdate=0<a),n.numPlanes=a,n.numIntersection=0}function t(e,t,r,a){var o=null===e?0:e.length,s=null;if(0!==o){if(s=c.value,!0!==a||null===s){var d=r+4*o,u=t.matrixWorldInverse;p.getNormalMatrix(u),(null===s||s.length<d)&&(s=new Float32Array(d));for(var m=0,i=r;m!==o;++m,i+=4)l.copy(e[m]).applyMatrix4(u,p),l.normal.toArray(s,i),s[i+3]=l.constant}c.value=s,c.needsUpdate=!0}return n.numPlanes=o,s}var n=this,r=null,a=0,o=!1,d=!1,l=new oe,p=new s,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,i){var s=0!==e.length||n||0!=a||o;return o=n,r=t(e,i,0),a=e.length,s},this.beginShadows=function(){d=!0,t(null)},this.endShadows=function(){d=!1,e()},this.setState=function(n,s,l,p,u,m){if(!o||null===n||0===n.length||d&&!l)d?t(null):e();else{var f=d?0:a,g=4*f,h=u.clippingState||null;c.value=h,h=t(n,p,g,m);for(var y=0;y!==g;++y)h[y]=r[y];u.clippingState=h,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=f}}}function Et(e,t){return{convert:function(n){var r;if(n===_s)return e.REPEAT;if(n===Es)return e.CLAMP_TO_EDGE;if(n===Ts)return e.MIRRORED_REPEAT;if(n===Ss)return e.NEAREST;if(n===Cs)return e.NEAREST_MIPMAP_NEAREST;if(n===Ms)return e.NEAREST_MIPMAP_LINEAR;if(n===ws)return e.LINEAR;if(n===Rs)return e.LINEAR_MIPMAP_NEAREST;if(n===Ps)return e.LINEAR_MIPMAP_LINEAR;if(n===As)return e.UNSIGNED_BYTE;if(n===Fs)return e.UNSIGNED_SHORT_4_4_4_4;if(n===zs)return e.UNSIGNED_SHORT_5_5_5_1;if(n===Bs)return e.UNSIGNED_SHORT_5_6_5;if(n===Ls)return e.BYTE;if(n===Is)return e.SHORT;if(n===Ns)return e.UNSIGNED_SHORT;if(n===Ds)return e.INT;if(n===Us)return e.UNSIGNED_INT;if(n===ks)return e.FLOAT;if(n===Os&&(r=t.get('OES_texture_half_float'),null!==r))return r.HALF_FLOAT_OES;if(n===Vs)return e.ALPHA;if(n===Gs)return e.RGB;if(n===Ws)return e.RGBA;if(n===js)return e.LUMINANCE;if(n===Xs)return e.LUMINANCE_ALPHA;if(n===qs)return e.DEPTH_COMPONENT;if(n===Ks)return e.DEPTH_STENCIL;if(n===Ui)return e.FUNC_ADD;if(n===ki)return e.FUNC_SUBTRACT;if(n===Oi)return e.FUNC_REVERSE_SUBTRACT;if(n===Bi)return e.ZERO;if(n===Hi)return e.ONE;if(n===Vi)return e.SRC_COLOR;if(n===Gi)return e.ONE_MINUS_SRC_COLOR;if(n===Wi)return e.SRC_ALPHA;if(n===ji)return e.ONE_MINUS_SRC_ALPHA;if(n===Xi)return e.DST_ALPHA;if(n===Yi)return e.ONE_MINUS_DST_ALPHA;if(n===qi)return e.DST_COLOR;if(n===Ki)return e.ONE_MINUS_DST_COLOR;if(n===Zi)return e.SRC_ALPHA_SATURATE;if((n===Zs||n===Js||n===Qs||n===$s)&&(r=t.get('WEBGL_compressed_texture_s3tc'),null!==r)){if(n===Zs)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Js)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Qs)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===$s)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((n===ed||n===td||n===nd||n===rd)&&(r=t.get('WEBGL_compressed_texture_pvrtc'),null!==r)){if(n===ed)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===td)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===nd)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===rd)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===ad&&(r=t.get('WEBGL_compressed_texture_etc1'),null!==r))return r.COMPRESSED_RGB_ETC1_WEBGL;if((n===Fi||n===zi)&&(r=t.get('EXT_blend_minmax'),null!==r)){if(n===Fi)return r.MIN_EXT;if(n===zi)return r.MAX_EXT}return n===Hs&&(r=t.get('WEBGL_depth_texture'),null!==r)?r.UNSIGNED_INT_24_8_WEBGL:0}}}function Tt(e){function t(){return null==ee?ge:1}function n(){Pe=new bt(we),Pe.get('WEBGL_depth_texture'),Pe.get('OES_texture_float'),Pe.get('OES_texture_float_linear'),Pe.get('OES_texture_half_float'),Pe.get('OES_texture_half_float_linear'),Pe.get('OES_standard_derivatives'),Pe.get('OES_element_index_uint'),Pe.get('ANGLE_instanced_arrays'),et=new Et(we,Pe),Ae=new ht(we,Pe,e),Le=new gt(we,Pe,et),Le.scissor(pe.copy(ye).multiplyScalar(ge)),Le.viewport(le.copy(he).multiplyScalar(ge)),Ie=new ft,Ne=new mt(we,Pe,Le,Ie,Ae,et,Ce),De=new de(we),Ue=new qe(we,De,Ce),ke=new Je(Ue,Me),Ve=new je(we),Fe=new ut(Z,Pe,Ae),Oe=new Ze,Be=new Ge,He=new ze(Z,Le,Ue,H),We=new Ye(we,Pe,Me),Ke=new Xe(we,Pe,Me),Qe=new J(Z,we,Le,Ne,Ae),$e=new $(Z,we,Le,Ne,Ae),Z.info.programs=Fe.programs,Z.context=we,Z.capabilities=Ae,Z.extensions=Pe,Z.properties=Ie,Z.renderLists=Be,Z.state=Le}function r(e){e.preventDefault(),console.log('THREE.WebGLRenderer: Context Lost.'),Q=!0}function o(){console.log('THREE.WebGLRenderer: Context Restored.'),Q=!1,n()}function s(e){var t=e.target;t.removeEventListener('dispose',s),i(t)}function i(e){d(e),Ie.remove(e)}function d(e){var t=Ie.get(e).program;e.program=void 0,t!==void 0&&Fe.releaseProgram(t)}function l(e,t,n){e.render(function(e){Z.renderBufferImmediate(e,t,n)})}function c(e,t,n,r){if(n&&n.isInstancedBufferGeometry&&null===Pe.get('ANGLE_instanced_arrays'))return void console.error('THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');r===void 0&&(r=0),Le.initAttributes();var a=n.attributes,o=t.getAttributes(),i=e.defaultAttributeValues;for(var s in o){var d=o[s];if(0<=d){var l=a[s];if(l!==void 0){var p=l.normalized,c=l.itemSize,u=De.get(l);if(u===void 0)continue;var m=u.buffer,f=u.type,g=u.bytesPerElement;if(l.isInterleavedBufferAttribute){var h=l.data,y=h.stride,x=l.offset;h&&h.isInstancedInterleavedBuffer?(Le.enableAttributeAndDivisor(d,h.meshPerAttribute),n.maxInstancedCount===void 0&&(n.maxInstancedCount=h.meshPerAttribute*h.count)):Le.enableAttribute(d),we.bindBuffer(we.ARRAY_BUFFER,m),we.vertexAttribPointer(d,c,f,p,y*g,(r*y+x)*g)}else l.isInstancedBufferAttribute?(Le.enableAttributeAndDivisor(d,l.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):Le.enableAttribute(d),we.bindBuffer(we.ARRAY_BUFFER,m),we.vertexAttribPointer(d,c,f,p,0,r*c*g)}else if(i!==void 0){var v=i[s];if(v!==void 0)switch(v.length){case 2:we.vertexAttrib2fv(d,v);break;case 3:we.vertexAttrib3fv(d,v);break;case 4:we.vertexAttrib4fv(d,v);break;default:we.vertexAttrib1fv(d,v);}}}}Le.disableUnusedAttributes()}function f(){if(!rt){var e=tt.getDevice();e&&e.isPresenting?e.requestAnimationFrame(g):window.requestAnimationFrame(g),rt=!0}}function g(e){null!=at&&at(e);var t=tt.getDevice();t&&t.isPresenting?t.requestAnimationFrame(g):window.requestAnimationFrame(g)}function h(e,t,n){if(!1!==e.visible){var r=e.layers.test(t.layers);if(r)if(e.isLight)W.push(e),e.castShadow&&j.push(e);else if(e.isSprite)(!e.frustumCulled||ve.intersectsSprite(e))&&Y.push(e);else if(e.isLensFlare)K.push(e);else if(e.isImmediateRenderObject)n&&Se.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Te),X.push(e,null,e.material,Se.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||ve.intersectsObject(e))){n&&Se.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Te);var a=ke.update(e),o=e.material;if(Array.isArray(o))for(var s=a.groups,d=0,i=s.length;d<i;d++){var l=s[d],p=o[l.materialIndex];p&&p.visible&&X.push(e,a,p,Se.z,l)}else o.visible&&X.push(e,a,o,Se.z,null)}for(var c=e.children,d=0,i=c.length;d<i;d++)h(c[d],t,n)}}function y(e,t,n,r){for(var a=0,o=e.length;a<o;a++){var i=e[a],s=i.object,d=i.geometry,l=r===void 0?i.material:r,p=i.group;if(n.isArrayCamera){oe=n;for(var c=n.cameras,u=0,m=c.length,f;u<m;u++)if(f=c[u],s.layers.test(f.layers)){var g=f.bounds,h=g.x*me,x=g.y*fe,y=g.z*me,b=g.w*fe;Le.viewport(le.set(h,x,y,b).multiplyScalar(ge)),v(s,t,f,d,l,p)}}else oe=null,v(s,t,n,d,l,p)}}function v(e,t,n,r,a,o){if(e.onBeforeRender(Z,t,n,r,a,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var i=e.isMesh&&0>e.matrixWorld.determinant();Le.setMaterial(a,i);var s=b(n,t.fog,a,e);re='',l(e,s,a)}else Z.renderBufferDirect(n,t.fog,r,a,e,o);e.onAfterRender(Z,t,n,r,a,o)}function x(e,t,n){var r=Ie.get(e),a=Fe.getParameters(e,Oe.state,j,t,be.numPlanes,be.numIntersection,n),o=Fe.getProgramCode(e,a),l=r.program,p=!0;if(l===void 0)e.addEventListener('dispose',s);else if(l.code!==o)d(e);else{if(a.shaderID!==void 0)return;p=!1}if(p){if(a.shaderID){var c=Bd[a.shaderID];r.shader={name:e.type,uniforms:Fd.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader),l=Fe.acquireProgram(e,r.shader,a,o),r.program=l,e.program=l}var u=l.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var m=0;m<Z.maxMorphTargets;m++)0<=u['morphTarget'+m]&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var m=0;m<Z.maxMorphNormals;m++)0<=u['morphNormal'+m]&&e.numSupportedMorphNormals++}var i=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=be.numPlanes,r.numIntersection=be.numIntersection,i.clippingPlanes=be.uniform),r.fog=t,r.lightsHash=Oe.state.hash,e.lights&&(i.ambientLightColor.value=Oe.state.ambient,i.directionalLights.value=Oe.state.directional,i.spotLights.value=Oe.state.spot,i.rectAreaLights.value=Oe.state.rectArea,i.pointLights.value=Oe.state.point,i.hemisphereLights.value=Oe.state.hemi,i.directionalShadowMap.value=Oe.state.directionalShadowMap,i.directionalShadowMatrix.value=Oe.state.directionalShadowMatrix,i.spotShadowMap.value=Oe.state.spotShadowMap,i.spotShadowMatrix.value=Oe.state.spotShadowMatrix,i.pointShadowMap.value=Oe.state.pointShadowMap,i.pointShadowMatrix.value=Oe.state.pointShadowMatrix);var f=r.program.getUniforms(),g=q.seqWithValue(f.seq,i);r.uniformsList=g}function b(e,t,n,r){ue=0;var a=Ie.get(n);if(_e&&(Ee||e!==ae)){var o=e===ae&&n.id===ne;be.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,a,o)}!1===n.needsUpdate&&(void 0===a.program?n.needsUpdate=!0:n.fog&&a.fog!==t?n.needsUpdate=!0:n.lights&&a.lightsHash!==Oe.state.hash?n.needsUpdate=!0:void 0!==a.numClippingPlanes&&(a.numClippingPlanes!==be.numPlanes||a.numIntersection!==be.numIntersection)&&(n.needsUpdate=!0)),n.needsUpdate&&(x(n,t,r),n.needsUpdate=!1);var i=!1,s=!1,d=!1,l=a.program,p=l.getUniforms(),c=a.shader.uniforms;if(Le.useProgram(l.program)&&(i=!0,s=!0,d=!0),n.id!==ne&&(ne=n.id,s=!0),i||e!==ae){if(p.setValue(we,'projectionMatrix',e.projectionMatrix),Ae.logarithmicDepthBuffer&&p.setValue(we,'logDepthBufFC',2/(ti(e.far+1)/ei)),ae!==(oe||e)&&(ae=oe||e,s=!0,d=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var m=p.map.cameraPosition;void 0!==m&&m.setValue(we,Se.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&p.setValue(we,'viewMatrix',e.matrixWorldInverse)}if(n.skinning){p.setOptional(we,r,'bindMatrix'),p.setOptional(we,r,'bindMatrixInverse');var f=r.skeleton;if(f){var g=f.bones;if(Ae.floatVertexTextures){if(void 0===f.boneTexture){var h=Zo(4*g.length);h=wd.ceilPowerOfTwo(h),h=ni(h,4);var y=new Float32Array(4*(h*h));y.set(f.boneMatrices);var v=new u(y,h,h,Ws,ks);f.boneMatrices=y,f.boneTexture=v,f.boneTextureSize=h}p.setValue(we,'boneTexture',f.boneTexture),p.setValue(we,'boneTextureSize',f.boneTextureSize)}else p.setOptional(we,f,'boneMatrices')}}return s&&(p.setValue(we,'toneMappingExposure',Z.toneMappingExposure),p.setValue(we,'toneMappingWhitePoint',Z.toneMappingWhitePoint),n.lights&&D(c,d),t&&n.fog&&C(c,t),n.isMeshBasicMaterial?_(c,n):n.isMeshLambertMaterial?(_(c,n),M(c,n)):n.isMeshPhongMaterial?(_(c,n),n.isMeshToonMaterial?R(c,n):w(c,n)):n.isMeshStandardMaterial?(_(c,n),n.isMeshPhysicalMaterial?A(c,n):P(c,n)):n.isMeshDepthMaterial?(_(c,n),L(c,n)):n.isMeshDistanceMaterial?(_(c,n),I(c,n)):n.isMeshNormalMaterial?(_(c,n),N(c,n)):n.isLineBasicMaterial?(E(c,n),n.isLineDashedMaterial&&T(c,n)):n.isPointsMaterial?S(c,n):n.isShadowMaterial&&(c.color.value=n.color,c.opacity.value=n.opacity),void 0!==c.ltcMat&&(c.ltcMat.value=Od.LTC_MAT_TEXTURE),void 0!==c.ltcMag&&(c.ltcMag.value=Od.LTC_MAG_TEXTURE),q.upload(we,a.uniformsList,c,Z)),p.setValue(we,'modelViewMatrix',r.modelViewMatrix),p.setValue(we,'normalMatrix',r.normalMatrix),p.setValue(we,'modelMatrix',r.matrixWorld),l}function _(e,t){e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var n;if(t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n){if(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate){var r=n.offset,a=n.repeat,o=n.rotation,i=n.center;n.matrix.setUvTransform(r.x,r.y,a.x,a.y,o,i.x,i.y)}e.uvTransform.value.copy(n.matrix)}}function E(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function T(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function S(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*ge,e.scale.value=0.5*fe,e.map.value=t.map,null!==t.map){if(!0===t.map.matrixAutoUpdate){var n=t.map.offset,r=t.map.repeat,a=t.map.rotation,o=t.map.center;t.map.matrix.setUvTransform(n.x,n.y,r.x,r.y,a,o.x,o.y)}e.uvTransform.value.copy(t.map.matrix)}}function C(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}function M(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}function w(e,t){e.specular.value=t.specular,e.shininess.value=ni(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function R(e,t){w(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function P(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function A(e,t){e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness,P(e,t)}function L(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function I(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}function N(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function D(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}console.log('THREE.WebGLRenderer',pi),e=e||{};var U=e.canvas===void 0?document.createElementNS('http://www.w3.org/1999/xhtml','canvas'):e.canvas,k=e.context===void 0?null:e.context,O=e.alpha!==void 0&&e.alpha,F=!(e.depth!==void 0)||e.depth,z=!(e.stencil!==void 0)||e.stencil,B=e.antialias!==void 0&&e.antialias,H=!(e.premultipliedAlpha!==void 0)||e.premultipliedAlpha,V=e.preserveDrawingBuffer!==void 0&&e.preserveDrawingBuffer,G=e.powerPreference===void 0?'default':e.powerPreference,W=[],j=[],X=null,Y=[],K=[];this.domElement=U,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ls,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var Z=this,Q=!1,ee=null,te=null,ne=-1,re='',ae=null,oe=null,le=new p,pe=new p,ce=null,ue=0,me=U.width,fe=U.height,ge=1,he=new p(0,0,me,fe),ye=new p(0,0,me,fe),xe=!1,ve=new ie,be=new _t,_e=!1,Ee=!1,Te=new a,Se=new m,Ce={geometries:0,textures:0},Me={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:Me,memory:Ce,programs:null};var we;try{var Re={alpha:O,depth:F,stencil:z,antialias:B,premultipliedAlpha:H,preserveDrawingBuffer:V,powerPreference:G};if(U.addEventListener('webglcontextlost',r,!1),U.addEventListener('webglcontextrestored',o,!1),we=k||U.getContext('webgl',Re)||U.getContext('experimental-webgl',Re),null===we)if(null!==U.getContext('webgl'))throw new Error('Error creating WebGL context with your selected attributes.');else throw new Error('Error creating WebGL context.');void 0===we.getShaderPrecisionFormat&&(we.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){console.error('THREE.WebGLRenderer: '+e.message)}var Pe,Ae,Le,Ie,Ne,De,Ue,ke,Oe,Fe,Be,He,Ve,We,Ke,Qe,$e,et;n();var tt=new vt(Z);this.vr=tt;var nt=new se(Z,ke,Ae.maxTextureSize);this.shadowMap=nt,this.getContext=function(){return we},this.getContextAttributes=function(){return we.getContextAttributes()},this.forceContextLoss=function(){var e=Pe.get('WEBGL_lose_context');e&&e.loseContext()},this.forceContextRestore=function(){var e=Pe.get('WEBGL_lose_context');e&&e.restoreContext()},this.getPixelRatio=function(){return ge},this.setPixelRatio=function(e){void 0===e||(ge=e,this.setSize(me,fe,!1))},this.getSize=function(){return{width:me,height:fe}},this.setSize=function(e,t,n){var r=tt.getDevice();return r&&r.isPresenting?void console.warn('THREE.WebGLRenderer: Can\'t change size while VR device is presenting.'):void(me=e,fe=t,U.width=e*ge,U.height=t*ge,!1!==n&&(U.style.width=e+'px',U.style.height=t+'px'),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(){return{width:me*ge,height:fe*ge}},this.setDrawingBufferSize=function(e,t,n){me=e,fe=t,ge=n,U.width=e*n,U.height=t*n,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,n,r){he.set(e,fe-t-r,n,r),Le.viewport(le.copy(he).multiplyScalar(ge))},this.setScissor=function(e,t,n,r){ye.set(e,fe-t-r,n,r),Le.scissor(pe.copy(ye).multiplyScalar(ge))},this.setScissorTest=function(e){Le.setScissorTest(xe=e)},this.getClearColor=function(){return He.getClearColor()},this.setClearColor=function(){He.setClearColor.apply(He,arguments)},this.getClearAlpha=function(){return He.getClearAlpha()},this.setClearAlpha=function(){He.setClearAlpha.apply(He,arguments)},this.clear=function(e,t,n){var r=0;(e===void 0||e)&&(r|=we.COLOR_BUFFER_BIT),(t===void 0||t)&&(r|=we.DEPTH_BUFFER_BIT),(n===void 0||n)&&(r|=we.STENCIL_BUFFER_BIT),we.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},this.dispose=function(){U.removeEventListener('webglcontextlost',r,!1),U.removeEventListener('webglcontextrestored',o,!1),Be.dispose(),tt.dispose()},this.renderBufferImmediate=function(e,t,n){Le.initAttributes();var r=Ie.get(e);e.hasPositions&&!r.position&&(r.position=we.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=we.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=we.createBuffer()),e.hasColors&&!r.color&&(r.color=we.createBuffer());var a=t.getAttributes();if(e.hasPositions&&(we.bindBuffer(we.ARRAY_BUFFER,r.position),we.bufferData(we.ARRAY_BUFFER,e.positionArray,we.DYNAMIC_DRAW),Le.enableAttribute(a.position),we.vertexAttribPointer(a.position,3,we.FLOAT,!1,0,0)),e.hasNormals){if(we.bindBuffer(we.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&!0===n.flatShading)for(var o=0,i=3*e.count;o<i;o+=9){var s=e.normalArray,d=(s[o+0]+s[o+3]+s[o+6])/3,l=(s[o+1]+s[o+4]+s[o+7])/3,p=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=d,s[o+1]=l,s[o+2]=p,s[o+3]=d,s[o+4]=l,s[o+5]=p,s[o+6]=d,s[o+7]=l,s[o+8]=p}we.bufferData(we.ARRAY_BUFFER,e.normalArray,we.DYNAMIC_DRAW),Le.enableAttribute(a.normal),we.vertexAttribPointer(a.normal,3,we.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(we.bindBuffer(we.ARRAY_BUFFER,r.uv),we.bufferData(we.ARRAY_BUFFER,e.uvArray,we.DYNAMIC_DRAW),Le.enableAttribute(a.uv),we.vertexAttribPointer(a.uv,2,we.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==Mi&&(we.bindBuffer(we.ARRAY_BUFFER,r.color),we.bufferData(we.ARRAY_BUFFER,e.colorArray,we.DYNAMIC_DRAW),Le.enableAttribute(a.color),we.vertexAttribPointer(a.color,3,we.FLOAT,!1,0,0)),Le.disableUnusedAttributes(),we.drawArrays(we.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,n,r,a,o,i){var s=o.isMesh&&0>o.matrixWorld.determinant();Le.setMaterial(a,s);var d=b(e,n,a,o),l=r.id+'_'+d.id+'_'+(!0===a.wireframe),p=!1;l!=re&&(re=l,p=!0),o.morphTargetInfluences&&(Ve.update(o,r,a,d),p=!0);var u=r.index,m=r.attributes.position,f=1;!0===a.wireframe&&(u=Ue.getWireframeAttribute(r),f=2);var g=We,h;null!==u&&(h=De.get(u),g=Ke,g.setIndex(h)),p&&(c(a,d,r),null!==u&&we.bindBuffer(we.ELEMENT_ARRAY_BUFFER,h.buffer));var y=0;null===u?m!==void 0&&(y=m.count):y=u.count;var x=r.drawRange.start*f,v=r.drawRange.count*f,_=null===i?0:i.start*f,E=null===i?Infinity:i.count*f,T=ni(x,_),S=si(y,x+v,_+E)-1,C=ni(0,S-T+1);if(0!==C){if(o.isMesh){if(!0===a.wireframe)Le.setLineWidth(a.wireframeLinewidth*t()),g.setMode(we.LINES);else switch(o.drawMode){case fd:g.setMode(we.TRIANGLES);break;case gd:g.setMode(we.TRIANGLE_STRIP);break;case hd:g.setMode(we.TRIANGLE_FAN);}}else if(o.isLine){var M=a.linewidth;void 0===M&&(M=1),Le.setLineWidth(M*t()),o.isLineSegments?g.setMode(we.LINES):o.isLineLoop?g.setMode(we.LINE_LOOP):g.setMode(we.LINE_STRIP)}else o.isPoints&&g.setMode(we.POINTS);r&&r.isInstancedBufferGeometry?0<r.maxInstancedCount&&g.renderInstances(r,T,C):g.render(T,C)}},this.compile=function(e,t){W.length=0,j.length=0,e.traverse(function(e){e.isLight&&(W.push(e),e.castShadow&&j.push(e))}),Oe.setup(W,j,t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)x(t.material[n],e.fog,t);else x(t.material,e.fog,t)})};var rt=!1,at=null;this.animate=function(e){at=e,f()},this.render=function(e,t,n,r){if(!(t&&t.isCamera))return void console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');if(!Q){re='',ne=-1,ae=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),tt.enabled&&(t=tt.getCamera(t)),Te.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),ve.setFromMatrix(Te),W.length=0,j.length=0,Y.length=0,K.length=0,Ee=this.localClippingEnabled,_e=be.init(this.clippingPlanes,Ee,t),X=Be.get(e,t),X.init(),h(e,t,Z.sortObjects),!0===Z.sortObjects&&X.sort(),Ne.updateVideoTextures(),_e&&be.beginShadows(),nt.render(j,e,t),Oe.setup(W,j,t),_e&&be.endShadows(),Me.frame++,Me.calls=0,Me.vertices=0,Me.faces=0,Me.points=0,void 0===n&&(n=null),this.setRenderTarget(n),He.render(X,e,t,r);var a=X.opaque,o=X.transparent;if(e.overrideMaterial){var i=e.overrideMaterial;a.length&&y(a,e,t,i),o.length&&y(o,e,t,i)}else a.length&&y(a,e,t),o.length&&y(o,e,t);$e.render(Y,e,t),Qe.render(K,e,t,le),n&&Ne.updateRenderTargetMipmap(n),Le.buffers.depth.setTest(!0),Le.buffers.depth.setMask(!0),Le.buffers.color.setMask(!0),Le.setPolygonOffset(!1),tt.enabled&&tt.submitFrame()}},this.setFaceCulling=function(e,t){Le.setCullFace(e),Le.setFlipSided(t===hi)},this.allocTextureUnit=function(){var e=ue;return e>=Ae.maxTextures&&console.warn('THREE.WebGLRenderer: Trying to use '+e+' texture units while this GPU supports only '+Ae.maxTextures),ue+=1,e},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(!e&&(console.warn('THREE.WebGLRenderer.setTexture2D: don\'t use render targets as textures. Use their .texture property instead.'),e=!0),t=t.texture),Ne.setTexture2D(t,n)}}(),this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn('THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.'),e=!0),Ne.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(!e&&(console.warn('THREE.WebGLRenderer.setTextureCube: don\'t use cube render targets as textures. Use their .texture property instead.'),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?Ne.setTextureCube(t,n):Ne.setTextureCubeDynamic(t,n)}}(),this.getRenderTarget=function(){return ee},this.setRenderTarget=function(e){ee=e,e&&void 0===Ie.get(e).__webglFramebuffer&&Ne.setupRenderTarget(e);var t=null,n=!1;if(e){var r=Ie.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],n=!0):t=r,le.copy(e.viewport),pe.copy(e.scissor),ce=e.scissorTest}else le.copy(he).multiplyScalar(ge),pe.copy(ye).multiplyScalar(ge),ce=xe;if(te!==t&&(we.bindFramebuffer(we.FRAMEBUFFER,t),te=t),Le.viewport(le),Le.scissor(pe),Le.setScissorTest(ce),n){var a=Ie.get(e.texture);we.framebufferTexture2D(we.FRAMEBUFFER,we.COLOR_ATTACHMENT0,we.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,a.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,r,a,o){if(!(e&&e.isWebGLRenderTarget))return void console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');var i=Ie.get(e).__webglFramebuffer;if(i){var s=!1;i!==te&&(we.bindFramebuffer(we.FRAMEBUFFER,i),s=!0);try{var d=e.texture,l=d.format,p=d.type;if(l!==Ws&&et.convert(l)!==we.getParameter(we.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');if(p!==As&&et.convert(p)!==we.getParameter(we.IMPLEMENTATION_COLOR_READ_TYPE)&&!(p===ks&&(Pe.get('OES_texture_float')||Pe.get('WEBGL_color_buffer_float')))&&!(p===Os&&Pe.get('EXT_color_buffer_half_float')))return void console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');we.checkFramebufferStatus(we.FRAMEBUFFER)===we.FRAMEBUFFER_COMPLETE?0<=t&&t<=e.width-r&&0<=n&&n<=e.height-a&&we.readPixels(t,n,r,a,et.convert(l),et.convert(p),o):console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.')}finally{s&&we.bindFramebuffer(we.FRAMEBUFFER,te)}}}}function St(e,t){this.name='',this.color=new K(e),this.density=t===void 0?2.5e-4:t}function Ct(e,t,n){this.name='',this.color=new K(e),this.near=t===void 0?1:t,this.far=n===void 0?1e3:n}function Mt(){ce.call(this),this.type='Scene',this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function wt(e,t,n,r,a){ce.call(this),this.lensFlares=[],this.positionScreen=new m,this.customUpdateCallback=void 0,e!==void 0&&this.add(e,t,n,r,a)}function Rt(e){ee.call(this),this.type='SpriteMaterial',this.color=new K(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function Pt(e){ce.call(this),this.type='Sprite',this.material=e===void 0?new Rt:e}function At(){ce.call(this),this.type='LOD',Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Lt(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn('THREE.Skeleton boneInverses is the wrong length.'),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new a)}}function It(){ce.call(this),this.type='Bone'}function Nt(e,t){Fe.call(this,e,t),this.type='SkinnedMesh',this.bindMode='attached',this.bindMatrix=new a,this.bindMatrixInverse=new a;var n=this.initBones(),r=new Lt(n);this.bind(r,this.matrixWorld),this.normalizeSkinWeights()}function Dt(e){ee.call(this),this.type='LineBasicMaterial',this.color=new K(16777215),this.linewidth=1,this.linecap='round',this.linejoin='round',this.lights=!1,this.setValues(e)}function Ut(e,t,n){return 1===n?(console.warn('THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.'),new kt(e,t)):void(ce.call(this),this.type='Line',this.geometry=e===void 0?new Re:e,this.material=t===void 0?new Dt({color:16777215*Math.random()}):t)}function kt(e,t){Ut.call(this,e,t),this.type='LineSegments'}function Ot(e,t){Ut.call(this,e,t),this.type='LineLoop'}function Ft(e){ee.call(this),this.type='PointsMaterial',this.color=new K(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function zt(e,t){ce.call(this),this.type='Points',this.geometry=e===void 0?new Re:e,this.material=t===void 0?new Ft({color:16777215*Math.random()}):t}function Bt(){ce.call(this),this.type='Group'}function Ht(e,t,n,r,a,o,i,s,l){function p(){e.removeEventListener('loadeddata',p,!1),c.needsUpdate=!0}d.call(this,e,t,n,r,a,o,i,s,l),this.generateMipmaps=!1;var c=this;e.addEventListener('loadeddata',p,!1)}function Vt(e,t,n,r,a,o,i,s,l,p,c,u){d.call(this,null,o,i,s,l,p,r,a,c,u),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Gt(e,t,n,r,a,o,i,s,l,p){if(p=void 0===p?qs:p,p!==qs&&p!==Ks)throw new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');void 0===n&&p===qs&&(n=Ns),void 0===n&&p===Ks&&(n=Hs),d.call(this,null,r,a,o,i,s,p,n,l),this.image={width:e,height:t},this.magFilter=void 0===i?Ss:i,this.minFilter=void 0===s?Ss:s,this.flipY=!1,this.generateMipmaps=!1}function Wt(t){Re.call(this),this.type='WireframeGeometry';var n=[],r=[0,0],a={},s=['a','b','c'],d,i,p,l,o,c,e,u,f,g;if(t&&t.isGeometry){var h=t.faces;for(d=0,p=h.length;d<p;d++){var y=h[d];for(i=0;3>i;i++)e=y[s[i]],u=y[s[(i+1)%3]],r[0]=si(e,u),r[1]=ni(e,u),f=r[0]+','+r[1],void 0===a[f]&&(a[f]={index1:r[0],index2:r[1]})}for(f in a)c=a[f],g=t.vertices[c.index1],n.push(g.x,g.y,g.z),g=t.vertices[c.index2],n.push(g.x,g.y,g.z)}else if(t&&t.isBufferGeometry){var x,v,b,_,E,T,S,C;if(g=new m,null!==t.index){for(x=t.attributes.position,v=t.index,b=t.groups,0===b.length&&(b=[{start:0,count:v.count,materialIndex:0}]),(l=0,o=b.length);l<o;++l)for(_=b[l],E=_.start,T=_.count,(d=E,p=E+T);d<p;d+=3)for(i=0;3>i;i++)e=v.getX(d+i),u=v.getX(d+(i+1)%3),r[0]=si(e,u),r[1]=ni(e,u),f=r[0]+','+r[1],void 0===a[f]&&(a[f]={index1:r[0],index2:r[1]});for(f in a)c=a[f],g.fromBufferAttribute(x,c.index1),n.push(g.x,g.y,g.z),g.fromBufferAttribute(x,c.index2),n.push(g.x,g.y,g.z)}else for(x=t.attributes.position,d=0,p=x.count/3;d<p;d++)for(i=0;3>i;i++)S=3*d+i,g.fromBufferAttribute(x,S),n.push(g.x,g.y,g.z),C=3*d+(i+1)%3,g.fromBufferAttribute(x,C),n.push(g.x,g.y,g.z)}this.addAttribute('position',new Se(n,3))}function jt(e,t,n){ge.call(this),this.type='ParametricGeometry',this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Xt(e,t,n)),this.mergeVertices()}function Xt(e,t,n){Re.call(this),this.type='ParametricBufferGeometry',this.parameters={func:e,slices:t,stacks:n};var r=[],o=[],s=[],l=[],p=1e-5,f=new m,g=new m,h=new m,y=new m,x=new m,_=t+1,E,i;for(E=0;E<=n;E++){var T=E/n;for(i=0;i<=t;i++){var v=i/t;g=e(v,T,g),o.push(g.x,g.y,g.z),0<=v-p?(h=e(v-p,T,h),y.subVectors(g,h)):(h=e(v+p,T,h),y.subVectors(h,g)),0<=T-p?(h=e(v,T-p,h),x.subVectors(g,h)):(h=e(v,T+p,h),x.subVectors(h,g)),f.crossVectors(y,x).normalize(),s.push(f.x,f.y,f.z),l.push(v,T)}}for(E=0;E<n;E++)for(i=0;i<t;i++){var u=E*_+i,a=E*_+i+1,b=(E+1)*_+i+1,c=(E+1)*_+i;r.push(u,a,c),r.push(a,b,c)}this.setIndex(r),this.addAttribute('position',new Se(o,3)),this.addAttribute('normal',new Se(s,3)),this.addAttribute('uv',new Se(l,2))}function Yt(e,t,n,r){ge.call(this),this.type='PolyhedronGeometry',this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new qt(e,t,n,r)),this.mergeVertices()}function qt(e,t,n,r){function s(e,t,n,r){var a=Qo(2,r),o=[],s,i;for(s=0;s<=a;s++){o[s]=[];var l=e.clone().lerp(n,s/a),p=t.clone().lerp(n,s/a),c=a-s;for(i=0;i<=c;i++)o[s][i]=0===i&&s===a?l:l.clone().lerp(p,i/c)}for(s=0;s<a;s++)for(i=0;i<2*(a-s)-1;i++){var u=ai(i/2);0==i%2?(d(o[s][u+1]),d(o[s+1][u]),d(o[s][u])):(d(o[s][u+1]),d(o[s+1][u+1]),d(o[s+1][u]))}}function a(){for(var e=0;e<h.length;e+=6){var t=h[e+0],n=h[e+2],r=h[e+4],a=ni(t,n,r),o=si(t,n,r);0.9<a&&0.1>o&&(0.2>t&&(h[e+0]+=1),0.2>n&&(h[e+2]+=1),0.2>r&&(h[e+4]+=1))}}function d(e){g.push(e.x,e.y,e.z)}function l(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function p(){for(var e=new m,t=new m,n=new m,r=new m,a=new o,s=new o,d=new o,l=0,i=0;l<g.length;l+=9,i+=6){e.set(g[l+0],g[l+1],g[l+2]),t.set(g[l+3],g[l+4],g[l+5]),n.set(g[l+6],g[l+7],g[l+8]),a.set(h[i+0],h[i+1]),s.set(h[i+2],h[i+3]),d.set(h[i+4],h[i+5]),r.copy(e).add(t).add(n).divideScalar(3);var p=f(r);u(a,i+0,e,p),u(s,i+2,t,p),u(d,i+4,n,p)}}function u(e,t,n,r){0>r&&1===e.x&&(h[t]=e.x-1),0===n.x&&0===n.z&&(h[t]=r/2/di+0.5)}function f(e){return qo(e.z,-e.x)}function c(e){return qo(-e.y,Zo(e.x*e.x+e.z*e.z))}Re.call(this),this.type='PolyhedronBufferGeometry',this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1,r=r||0;var g=[],h=[];(function(e){for(var n=new m,r=new m,a=new m,o=0;o<t.length;o+=3)l(t[o+0],n),l(t[o+1],r),l(t[o+2],a),s(n,r,a,e)})(r),function(e){for(var t=new m,n=0;n<g.length;n+=3)t.x=g[n+0],t.y=g[n+1],t.z=g[n+2],t.normalize().multiplyScalar(e),g[n+0]=t.x,g[n+1]=t.y,g[n+2]=t.z}(n),function(){for(var e=new m,t=0;t<g.length;t+=3){e.x=g[t+0],e.y=g[t+1],e.z=g[t+2];var n=f(e)/2/di+0.5,r=c(e)/di+0.5;h.push(n,1-r)}p(),a()}(),this.addAttribute('position',new Se(g,3)),this.addAttribute('normal',new Se(g.slice(),3)),this.addAttribute('uv',new Se(h,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Kt(e,t){ge.call(this),this.type='TetrahedronGeometry',this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Zt(e,t)),this.mergeVertices()}function Zt(e,t){qt.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type='TetrahedronBufferGeometry',this.parameters={radius:e,detail:t}}function Jt(e,t){ge.call(this),this.type='OctahedronGeometry',this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Qt(e,t)),this.mergeVertices()}function Qt(e,t){qt.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type='OctahedronBufferGeometry',this.parameters={radius:e,detail:t}}function $t(e,t){ge.call(this),this.type='IcosahedronGeometry',this.parameters={radius:e,detail:t},this.fromBufferGeometry(new en(e,t)),this.mergeVertices()}function en(e,n){var r=(1+2.23606797749979)/2;qt.call(this,[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,n),this.type='IcosahedronBufferGeometry',this.parameters={radius:e,detail:n}}function tn(e,t){ge.call(this),this.type='DodecahedronGeometry',this.parameters={radius:e,detail:t},this.fromBufferGeometry(new nn(e,t)),this.mergeVertices()}function nn(e,n){var a=(1+2.23606797749979)/2,o=1/a;qt.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,n),this.type='DodecahedronBufferGeometry',this.parameters={radius:e,detail:n}}function rn(e,t,n,r,a,o){ge.call(this),this.type='TubeGeometry',this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:a},o!==void 0&&console.warn('THREE.TubeGeometry: taper has been removed.');var i=new an(e,t,n,r,a);this.tangents=i.tangents,this.normals=i.normals,this.binormals=i.binormals,this.fromBufferGeometry(i),this.mergeVertices()}function an(e,t,n,r,a){function s(a){g=e.getPointAt(a/t,g);var o=p.normals[a],s=p.binormals[a];for(i=0;i<=r;i++){var d=2*(i/r*di),l=Xo(d),m=-Yo(d);u.x=m*o.x+l*s.x,u.y=m*o.y+l*s.y,u.z=m*o.z+l*s.z,u.normalize(),y.push(u.x,u.y,u.z),c.x=g.x+n*u.x,c.y=g.y+n*u.y,c.z=g.z+n*u.z,h.push(c.x,c.y,c.z)}}function d(){for(i=1;i<=t;i++)for(_=1;_<=r;_++){var e=(r+1)*(i-1)+(_-1),n=(r+1)*i+(_-1),a=(r+1)*i+_,o=(r+1)*(i-1)+_;v.push(e,n,o),v.push(n,a,o)}}function l(){for(_=0;_<=t;_++)for(i=0;i<=r;i++)f.x=_/t,f.y=i/r,x.push(f.x,f.y)}Re.call(this),this.type='TubeBufferGeometry',this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:a},t=t||64,n=n||1,r=r||8,a=a||!1;var p=e.computeFrenetFrames(t,a);this.tangents=p.tangents,this.normals=p.normals,this.binormals=p.binormals;var c=new m,u=new m,f=new o,g=new m,h=[],y=[],x=[],v=[],_,i;(function(){for(_=0;_<t;_++)s(_);s(!1===a?t:0),l(),d()})(),this.setIndex(v),this.addAttribute('position',new Se(h,3)),this.addAttribute('normal',new Se(y,3)),this.addAttribute('uv',new Se(x,2))}function on(e,t,n,r,a,o,i){ge.call(this),this.type='TorusKnotGeometry',this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:a,q:o},i!==void 0&&console.warn('THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.'),this.fromBufferGeometry(new sn(e,t,n,r,a,o)),this.mergeVertices()}function sn(e,t,n,r,o,s){function l(e,t,n,r,a){var o=Yo(e),i=Xo(e),s=n/t*e,d=Yo(s);a.x=0.5*(r*(2+d))*o,a.y=0.5*(r*(2+d)*i),a.z=0.5*(r*Xo(s))}Re.call(this),this.type='TorusKnotBufferGeometry',this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:o,q:s},e=e||1,t=t||0.4,n=ai(n)||64,r=ai(r)||8,o=o||2,s=s||3;var f=[],g=[],h=[],y=[],x=new m,_=new m,E=new m,S=new m,C=new m,M=new m,T=new m,w,i;for(w=0;w<=n;++w){var R=2*(w/n*o*di);for(l(R,o,s,e,E),l(R+0.01,o,s,e,S),M.subVectors(S,E),T.addVectors(S,E),C.crossVectors(M,T),T.crossVectors(C,M),C.normalize(),T.normalize(),i=0;i<=r;++i){var u=2*(i/r*di),v=-t*Yo(u),P=t*Xo(u);x.x=E.x+(v*T.x+P*C.x),x.y=E.y+(v*T.y+P*C.y),x.z=E.z+(v*T.z+P*C.z),g.push(x.x,x.y,x.z),_.subVectors(x,E).normalize(),h.push(_.x,_.y,_.z),y.push(w/n),y.push(i/r)}}for(i=1;i<=n;i++)for(w=1;w<=r;w++){var A=(r+1)*(i-1)+(w-1),a=(r+1)*i+(w-1),b=(r+1)*i+w,c=(r+1)*(i-1)+w;f.push(A,a,c),f.push(a,b,c)}this.setIndex(f),this.addAttribute('position',new Se(g,3)),this.addAttribute('normal',new Se(h,3)),this.addAttribute('uv',new Se(y,2))}function dn(e,t,n,r,a){ge.call(this),this.type='TorusGeometry',this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:a},this.fromBufferGeometry(new ln(e,t,n,r,a)),this.mergeVertices()}function ln(e,t,n,r,o){Re.call(this),this.type='TorusBufferGeometry',this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:o},e=e||1,t=t||0.4,n=ai(n)||8,r=ai(r)||6,o=o||2*di;var s=[],l=[],p=[],f=[],g=new m,h=new m,y=new m,x,_;for(x=0;x<=n;x++)for(_=0;_<=r;_++){var i=_/r*o,u=2*(x/n*di);h.x=(e+t*Yo(u))*Yo(i),h.y=(e+t*Yo(u))*Xo(i),h.z=t*Xo(u),l.push(h.x,h.y,h.z),g.x=e*Yo(i),g.y=e*Xo(i),y.subVectors(h,g).normalize(),p.push(y.x,y.y,y.z),f.push(_/r),f.push(x/n)}for(x=1;x<=n;x++)for(_=1;_<=r;_++){var v=(r+1)*x+_-1,a=(r+1)*(x-1)+_-1,b=(r+1)*(x-1)+_,c=(r+1)*x+_;s.push(v,a,c),s.push(a,b,c)}this.setIndex(s),this.addAttribute('position',new Se(l,3)),this.addAttribute('normal',new Se(p,3)),this.addAttribute('uv',new Se(f,2))}function pn(e,t,n,r,a){var o,i;if(a===0<On(e,t,n,r))for(o=t;o<n;o+=r)i=Dn(o,e[o],e[o+1],i);else for(o=n-r;o>=t;o-=r)i=Dn(o,e[o],e[o+1],i);return i&&Rn(i,i.next)&&(Un(i),i=i.next),i}function cn(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(Rn(n,n.next)||0===wn(n.prev,n,n.next))){if(Un(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function un(e,t,n,r,a,o,i){if(e){!i&&o&&_n(e,r,a,o);for(var s=e,d,l;e.prev!==e.next;){if(d=e.prev,l=e.next,o?fn(e,r,a,o):mn(e)){t.push(d.i/n),t.push(e.i/n),t.push(l.i/n),Un(e),e=l.next,s=l.next;continue}if(e=l,e===s){i?1===i?(e=gn(e,t,n),un(e,t,n,r,a,o,2)):2===i&&hn(e,t,n,r,a,o):un(cn(e),t,n,r,a,o,1);break}}}}function mn(e){var t=e.prev,n=e,r=e.next;if(0<=wn(t,n,r))return!1;for(var a=e.next.next;a!==e.prev;){if(Cn(t.x,t.y,n.x,n.y,r.x,r.y,a.x,a.y)&&0<=wn(a.prev,a,a.next))return!1;a=a.next}return!0}function fn(e,t,n,r){var o=e.prev,a=e,i=e.next;if(0<=wn(o,a,i))return!1;for(var s=o.x<a.x?o.x<i.x?o.x:i.x:a.x<i.x?a.x:i.x,d=o.y<a.y?o.y<i.y?o.y:i.y:a.y<i.y?a.y:i.y,l=o.x>a.x?o.x>i.x?o.x:i.x:a.x>i.x?a.x:i.x,c=o.y>a.y?o.y>i.y?o.y:i.y:a.y>i.y?a.y:i.y,u=Tn(s,d,t,n,r),m=Tn(l,c,t,n,r),f=e.nextZ;f&&f.z<=m;){if(f!==e.prev&&f!==e.next&&Cn(o.x,o.y,a.x,a.y,i.x,i.y,f.x,f.y)&&0<=wn(f.prev,f,f.next))return!1;f=f.nextZ}for(f=e.prevZ;f&&f.z>=u;){if(f!==e.prev&&f!==e.next&&Cn(o.x,o.y,a.x,a.y,i.x,i.y,f.x,f.y)&&0<=wn(f.prev,f,f.next))return!1;f=f.prevZ}return!0}function gn(e,t,n){var r=e;do{var o=r.prev,a=r.next.next;!Rn(o,a)&&Pn(o,r,r.next,a)&&Ln(o,a)&&Ln(a,o)&&(t.push(o.i/n),t.push(r.i/n),t.push(a.i/n),Un(r),Un(r.next),r=e=a),r=r.next}while(r!==e);return r}function hn(e,t,n,r,o,i){var s=e;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&Mn(s,a)){var d=Nn(s,a);return s=cn(s,s.next),d=cn(d,d.next),un(s,t,n,r,o,i),void un(d,t,n,r,o,i)}a=a.next}s=s.next}while(s!==e)}function yn(e,t,n,r){var a=[],o,i,s,d,l;for(o=0,i=t.length;o<i;o++)s=t[o]*r,d=o<i-1?t[o+1]*r:e.length,l=pn(e,s,d,r,!1),l===l.next&&(l.steiner=!0),a.push(Sn(l));for(a.sort(xn),o=0;o<a.length;o++)vn(a[o],n),n=cn(n,n.next);return n}function xn(e,t){return e.x-t.x}function vn(e,t){if(t=bn(e,t),t){var n=Nn(t,e);cn(n,n.next)}}function bn(e,t){var n=t,r=e.x,a=e.y,o=-Infinity,i;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>o){if(o=s,s===r){if(a===n.y)return n;if(a===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!i)return null;if(r===o)return i.prev;var d=i,l=i.x,p=i.y,c=Infinity,u;for(n=i.next;n!==d;)r>=n.x&&n.x>=l&&r!==n.x&&Cn(a<p?r:o,a,l,p,a<p?o:r,a,n.x,n.y)&&(u=Ko(a-n.y)/(r-n.x),(u<c||u===c&&n.x>i.x)&&Ln(n,e)&&(i=n,c=u)),n=n.next;return i}function _n(e,t,n,r){var a=e;do null===a.z&&(a.z=Tn(a.x,a.y,t,n,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,En(a)}function En(t){var n=1,r,a,o,i,e,s,d,l;do{for(a=t,t=null,e=null,s=0;a;){for(s++,o=a,d=0,r=0;r<n&&(d++,o=o.nextZ,!!o);r++);for(l=n;0<d||0<l&&o;)0!==d&&(0===l||!o||a.z<=o.z)?(i=a,a=a.nextZ,d--):(i=o,o=o.nextZ,l--),e?e.nextZ=i:t=i,i.prevZ=e,e=i;a=o}e.nextZ=null,n*=2}while(1<s);return t}function Tn(e,t,n,r,a){return e=32767*(e-n)*a,t=32767*(t-r)*a,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function Sn(e){var t=e,n=e;do t.x<n.x&&(n=t),t=t.next;while(t!==e);return n}function Cn(e,t,n,r,a,o,i,s){return 0<=(a-i)*(t-s)-(e-i)*(o-s)&&0<=(e-i)*(r-s)-(n-i)*(t-s)&&0<=(n-i)*(o-s)-(a-i)*(r-s)}function Mn(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!An(e,t)&&Ln(e,t)&&Ln(t,e)&&In(e,t)}function wn(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Rn(e,t){return e.x===t.x&&e.y===t.y}function Pn(e,t,n,r){return Rn(e,t)&&Rn(n,r)||Rn(e,r)&&Rn(n,t)||0<wn(e,t,n)!=0<wn(e,t,r)&&0<wn(n,r,e)!=0<wn(n,r,t)}function An(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Pn(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Ln(e,t){return 0>wn(e.prev,e,e.next)?0<=wn(e,t,e.next)&&0<=wn(e,e.prev,t):0>wn(e,t,e.prev)||0>wn(e,e.next,t)}function In(e,t){var n=e,r=!1,a=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&a<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function Nn(e,t){var n=new kn(e.i,e.x,e.y),r=new kn(t.i,t.x,t.y),a=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=a,a.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Dn(e,t,n,r){var a=new kn(e,t,n);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function Un(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function kn(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function On(e,t,n,r){for(var a=0,o=t,i=n-r;o<n;o+=r)a+=(e[i]-e[o])*(e[o+1]+e[i+1]),i=o;return a}function Fn(e,t){ge.call(this),this.type='ExtrudeGeometry',this.parameters={shapes:e,options:t},this.fromBufferGeometry(new zn(e,t)),this.mergeVertices()}function zn(e,t){'undefined'==typeof e||(Re.call(this),this.type='ExtrudeBufferGeometry',e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeVertexNormals())}function Bn(e,t){ge.call(this),this.type='TextGeometry',this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Hn(e,t)),this.mergeVertices()}function Hn(e,t){t=t||{};var n=t.font;if(!(n&&n.isFont))return console.error('THREE.TextGeometry: font parameter is not an instance of THREE.Font.'),new ge;var r=n.generateShapes(e,t.size,t.curveSegments);t.amount=t.height===void 0?50:t.height,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),zn.call(this,r,t),this.type='TextBufferGeometry'}function Vn(e,t,n,r,a,o,i){ge.call(this),this.type='SphereGeometry',this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:a,thetaStart:o,thetaLength:i},this.fromBufferGeometry(new Gn(e,t,n,r,a,o,i)),this.mergeVertices()}function Gn(e,t,n,r,o,i,s){Re.call(this),this.type='SphereBufferGeometry',this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:o,thetaStart:i,thetaLength:s},e=e||1,t=ni(3,ai(t)||8),n=ni(2,ai(n)||6),r=r===void 0?0:r,o=o===void 0?2*di:o,i=i===void 0?0:i,s=s===void 0?di:s;var l=i+s,p=0,f=[],g=new m,h=new m,y=[],x=[],_=[],E=[],T,S;for(S=0;S<=n;S++){var C=[],M=S/n;for(T=0;T<=t;T++){var v=T/t;g.x=-e*Yo(r+v*o)*Xo(i+M*s),g.y=e*Yo(i+M*s),g.z=e*Xo(r+v*o)*Xo(i+M*s),x.push(g.x,g.y,g.z),h.set(g.x,g.y,g.z).normalize(),_.push(h.x,h.y,h.z),E.push(v,1-M),C.push(p++)}f.push(C)}for(S=0;S<n;S++)for(T=0;T<t;T++){var u=f[S][T+1],a=f[S][T],b=f[S+1][T],c=f[S+1][T+1];(0!==S||0<i)&&y.push(u,a,c),(S!==n-1||l<di)&&y.push(a,b,c)}this.setIndex(y),this.addAttribute('position',new Se(x,3)),this.addAttribute('normal',new Se(_,3)),this.addAttribute('uv',new Se(E,2))}function Wn(e,t,n,r,a,o){ge.call(this),this.type='RingGeometry',this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new jn(e,t,n,r,a,o)),this.mergeVertices()}function jn(e,t,n,r,s,l){Re.call(this),this.type='RingBufferGeometry',this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:s,thetaLength:l},e=e||0.5,t=t||1,s=s===void 0?0:s,l=l===void 0?2*di:l,n=n===void 0?8:ni(3,n),r=r===void 0?1:ni(1,r);var p=[],u=[],f=[],g=[],h=e,y=(t-e)/r,x=new m,v=new o,_,E,T;for(E=0;E<=r;E++){for(T=0;T<=n;T++)_=s+T/n*l,x.x=h*Yo(_),x.y=h*Xo(_),u.push(x.x,x.y,x.z),f.push(0,0,1),v.x=(x.x/t+1)/2,v.y=(x.y/t+1)/2,g.push(v.x,v.y);h+=y}for(E=0;E<r;E++){var i=E*(n+1);for(T=0;T<n;T++){_=T+i;var S=_,a=_+n+1,b=_+n+2,c=_+1;p.push(S,a,c),p.push(a,b,c)}}this.setIndex(p),this.addAttribute('position',new Se(u,3)),this.addAttribute('normal',new Se(f,3)),this.addAttribute('uv',new Se(g,2))}function Xn(e,t,n,r){ge.call(this),this.type='LatheGeometry',this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new Yn(e,t,n,r)),this.mergeVertices()}function Yn(e,t,r,s){Re.call(this),this.type='LatheBufferGeometry',this.parameters={points:e,segments:t,phiStart:r,phiLength:s},t=ai(t)||12,r=r||0,s=s||2*di,s=wd.clamp(s,0,2*di);var l=[],p=[],u=[],f=1/t,g=new m,h=new o,y,x,i;for(x=0;x<=t;x++){var v=r+x*f*s,_=Xo(v),E=Yo(v);for(i=0;i<=e.length-1;i++)g.x=e[i].x*_,g.y=e[i].y,g.z=e[i].x*E,p.push(g.x,g.y,g.z),h.x=x/t,h.y=i/(e.length-1),u.push(h.x,h.y)}for(x=0;x<t;x++)for(i=0;i<e.length-1;i++){y=i+x*e.length;var T=y,a=y+e.length,b=y+e.length+1,c=y+1;l.push(T,a,c),l.push(a,b,c)}if(this.setIndex(l),this.addAttribute('position',new Se(p,3)),this.addAttribute('uv',new Se(u,2)),this.computeVertexNormals(),s===2*di){var d=this.attributes.normal.array,S=new m,C=new m,M=new m;for(y=3*(t*e.length),x=0,i=0;x<e.length;x++,i+=3)S.x=d[i+0],S.y=d[i+1],S.z=d[i+2],C.x=d[y+i+0],C.y=d[y+i+1],C.z=d[y+i+2],M.addVectors(S,C).normalize(),d[i+0]=d[y+i+0]=M.x,d[i+1]=d[y+i+1]=M.y,d[i+2]=d[y+i+2]=M.z}}function qn(e,t){ge.call(this),this.type='ShapeGeometry','object'==typeof t&&(console.warn('THREE.ShapeGeometry: Options parameter has been removed.'),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Kn(e,t)),this.mergeVertices()}function Kn(e,t){function n(e){var n=o.length/3,d=e.extractPoints(t),p=d.shape,u=d.holes,m,i,f;if(!1===Yd.isClockWise(p))for(p=p.reverse(),m=0,i=u.length;m<i;m++)f=u[m],!0===Yd.isClockWise(f)&&(u[m]=f.reverse());var g=Yd.triangulateShape(p,u);for(m=0,i=u.length;m<i;m++)f=u[m],p=p.concat(f);for(m=0,i=p.length;m<i;m++){var h=p[m];o.push(h.x,h.y,0),a.push(0,0,1),s.push(h.x,h.y)}for(m=0,i=g.length;m<i;m++){var y=g[m],x=y[0]+n,v=y[1]+n,b=y[2]+n;r.push(x,v,b),l+=3}}Re.call(this),this.type='ShapeBufferGeometry',this.parameters={shapes:e,curveSegments:t},t=t||12;var r=[],o=[],a=[],s=[],d=0,l=0;if(!1===Array.isArray(e))n(e);else for(var p=0;p<e.length;p++)n(e[p]),this.addGroup(d,l,p),d+=l,l=0;this.setIndex(r),this.addAttribute('position',new Se(o,3)),this.addAttribute('normal',new Se(a,3)),this.addAttribute('uv',new Se(s,2))}function Zn(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length,a;n<r;n++)a=e[n],t.shapes.push(a.uuid);else t.shapes.push(e.uuid);return t}function Jn(t,n){Re.call(this),this.type='EdgesGeometry',this.parameters={thresholdAngle:n},n=n===void 0?1:n;var r=[],a=Yo(wd.DEG2RAD*n),o=[0,0],s={},d=['a','b','c'],p,c,u,m;t.isBufferGeometry?(m=new ge,m.fromBufferGeometry(t)):m=t.clone(),m.mergeVertices(),m.computeFaceNormals();for(var f=m.vertices,g=m.faces,h=0,y=g.length,l;h<y;h++){l=g[h];for(var x=0;3>x;x++)p=l[d[x]],c=l[d[(x+1)%3]],o[0]=si(p,c),o[1]=ni(p,c),u=o[0]+','+o[1],void 0===s[u]?s[u]={index1:o[0],index2:o[1],face1:h,face2:void 0}:s[u].face2=h}for(u in s){var v=s[u];if(v.face2===void 0||g[v.face1].normal.dot(g[v.face2].normal)<=a){var e=f[v.index1];r.push(e.x,e.y,e.z),e=f[v.index2],r.push(e.x,e.y,e.z)}}this.addAttribute('position',new Se(r,3))}function Qn(e,t,n,r,a,o,i,s){ge.call(this),this.type='CylinderGeometry',this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:i,thetaLength:s},this.fromBufferGeometry(new $n(e,t,n,r,a,o,i,s)),this.mergeVertices()}function $n(e,t,n,r,i,a,s,d){function l(n){var a=new o,l=new m,v=0,b=!0===n?e:t,_=!0===n?1:-1,T,x,S;for(x=h,T=1;T<=r;T++)c.push(0,y*_,0),f.push(0,_,0),g.push(0.5,0.5),h++;for(S=h,T=0;T<=r;T++){var C=T/r,M=C*d+s,w=Yo(M),R=Xo(M);l.x=b*R,l.y=y*_,l.z=b*w,c.push(l.x,l.y,l.z),f.push(0,_,0),a.x=0.5*w+0.5,a.y=0.5*R*_+0.5,g.push(a.x,a.y),h++}for(T=0;T<r;T++){var P=x+T,A=S+T;!0===n?u.push(A,A+1,P):u.push(A+1,A,P),v+=3}p.addGroup(E,v,!0===n?1:2),E+=v}Re.call(this),this.type='CylinderBufferGeometry',this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:d};var p=this;e=e===void 0?1:e,t=t===void 0?1:t,n=n||1,r=ai(r)||8,i=ai(i)||1,a=a!==void 0&&a,s=s===void 0?0:s,d=d===void 0?2*di:d;var u=[],c=[],f=[],g=[],h=0,_=[],y=n/2,E=0;(function(){var o=new m,l=new m,T=0,S=(t-e)/n,C,x;for(x=0;x<=i;x++){var M=[],w=x/i,R=w*(t-e)+e;for(C=0;C<=r;C++){var P=C/r,A=P*d+s,L=Xo(A),I=Yo(A);l.x=R*L,l.y=-w*n+y,l.z=R*I,c.push(l.x,l.y,l.z),o.set(L,S,I).normalize(),f.push(o.x,o.y,o.z),g.push(P,1-w),M.push(h++)}_.push(M)}for(C=0;C<r;C++)for(x=0;x<i;x++){var N=_[x][C],a=_[x+1][C],b=_[x+1][C+1],D=_[x][C+1];u.push(N,a,D),u.push(a,b,D),T+=6}p.addGroup(E,T,0),E+=T})(),!1===a&&(0<e&&l(!0),0<t&&l(!1)),this.setIndex(u),this.addAttribute('position',new Se(c,3)),this.addAttribute('normal',new Se(f,3)),this.addAttribute('uv',new Se(g,2))}function er(e,t,n,r,a,o,i){Qn.call(this,0,e,t,n,r,a,o,i),this.type='ConeGeometry',this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:i}}function tr(e,t,n,r,a,o,i){$n.call(this,0,e,t,n,r,a,o,i),this.type='ConeBufferGeometry',this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:i}}function nr(e,t,n,r){ge.call(this),this.type='CircleGeometry',this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new rr(e,t,n,r)),this.mergeVertices()}function rr(e,t,n,r){Re.call(this),this.type='CircleBufferGeometry',this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=t===void 0?8:ni(3,t),n=n===void 0?0:n,r=r===void 0?2*di:r;var a=[],d=[],l=[],p=[],c=new m,u=new o,f,i;for(d.push(0,0,0),l.push(0,0,1),p.push(0.5,0.5),(i=0,f=3);i<=t;i++,f+=3){var s=n+i/t*r;c.x=e*Yo(s),c.y=e*Xo(s),d.push(c.x,c.y,c.z),l.push(0,0,1),u.x=(d[f]/e+1)/2,u.y=(d[f+1]/e+1)/2,p.push(u.x,u.y)}for(f=1;f<=t;f++)a.push(f,f+1,0);this.setIndex(a),this.addAttribute('position',new Se(d,3)),this.addAttribute('normal',new Se(l,3)),this.addAttribute('uv',new Se(p,2))}function ar(e){ee.call(this),this.type='ShadowMaterial',this.color=new K(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(e)}function or(e){De.call(this,e),this.type='RawShaderMaterial'}function ir(e){ee.call(this),this.defines={STANDARD:''},this.type='MeshStandardMaterial',this.color=new K(16777215),this.roughness=0.5,this.metalness=0.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new K(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new o(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function sr(e){ir.call(this),this.defines={PHYSICAL:''},this.type='MeshPhysicalMaterial',this.reflectivity=0.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function dr(e){ee.call(this),this.type='MeshPhongMaterial',this.color=new K(16777215),this.specular=new K(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new K(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new o(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=os,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function lr(e){dr.call(this),this.defines={TOON:''},this.type='MeshToonMaterial',this.gradientMap=null,this.setValues(e)}function pr(e){ee.call(this),this.type='MeshNormalMaterial',this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new o(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function cr(e){ee.call(this),this.type='MeshLambertMaterial',this.color=new K(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new K(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=os,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ur(e){Dt.call(this),this.type='LineDashedMaterial',this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function mr(e,t,n){var r=this,a=!1,o=0,i=0,s;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){i++,!1==a&&r.onStart!==void 0&&r.onStart(e,o,i),a=!0},this.itemEnd=function(e){o++,r.onProgress!==void 0&&r.onProgress(e,o,i),o==i&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(e){r.onError!==void 0&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}function fr(e){this.manager=e===void 0?Jd:e}function gr(e){this.manager=e===void 0?Jd:e,this._parser=null}function hr(e){this.manager=e===void 0?Jd:e,this._parser=null}function yr(e){this.manager=e===void 0?Jd:e}function xr(e){this.manager=e===void 0?Jd:e}function vr(e){this.manager=e===void 0?Jd:e}function br(){this.type='Curve',this.arcLengthDivisions=200}function _r(e,t,n,r,a,o,i,s){br.call(this),this.type='EllipseCurve',this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=a||0,this.aEndAngle=o||2*di,this.aClockwise=i||!1,this.aRotation=s||0}function Er(e,t,n,r,a,o){_r.call(this,e,t,n,n,r,a,o),this.type='ArcCurve'}function Tr(){function e(e,t,i,s){n=e,r=i,a=-3*e+3*t-2*i-s,o=2*e-2*t+i+s}var n=0,r=0,a=0,o=0;return{initCatmullRom:function(t,n,r,a,o){e(n,r,o*(r-t),o*(a-n))},initNonuniformCatmullRom:function(t,n,r,a,o,i,s){var d=(n-t)/o-(r-t)/(o+i)+(r-n)/i,l=(r-n)/i-(a-n)/(i+s)+(a-r)/s;d*=i,l*=i,e(n,r,d,l)},calc:function(e){var t=e*e;return n+r*e+a*t+o*(t*e)}}}function Sr(e,t,n,r){br.call(this),this.type='CatmullRomCurve3',this.points=e||[],this.closed=t||!1,this.curveType=n||'centripetal',this.tension=r||0.5}function Cr(e,t,n,r,a){var o=0.5*(r-t),i=0.5*(a-n),s=e*e;return(2*n-2*r+o+i)*(e*s)+(-3*n+3*r-2*o-i)*s+o*e+n}function Mr(e,t){var n=1-e;return n*n*t}function wr(e,t){return 2*(1-e)*e*t}function Rr(e,t){return e*e*t}function Pr(e,t,n,r){return Mr(e,t)+wr(e,n)+Rr(e,r)}function Ar(e,t){var n=1-e;return n*n*n*t}function Lr(e,t){var n=1-e;return 3*n*n*e*t}function Ir(e,t){return 3*(1-e)*e*e*t}function Nr(e,t){return e*e*e*t}function Dr(e,t,n,r,a){return Ar(e,t)+Lr(e,n)+Ir(e,r)+Nr(e,a)}function Ur(e,t,n,r){br.call(this),this.type='CubicBezierCurve',this.v0=e||new o,this.v1=t||new o,this.v2=n||new o,this.v3=r||new o}function kr(e,t,n,r){br.call(this),this.type='CubicBezierCurve3',this.v0=e||new m,this.v1=t||new m,this.v2=n||new m,this.v3=r||new m}function Or(e,t){br.call(this),this.type='LineCurve',this.v1=e||new o,this.v2=t||new o}function Fr(e,t){br.call(this),this.type='LineCurve3',this.v1=e||new m,this.v2=t||new m}function zr(e,t,n){br.call(this),this.type='QuadraticBezierCurve',this.v0=e||new o,this.v1=t||new o,this.v2=n||new o}function Br(e,t,n){br.call(this),this.type='QuadraticBezierCurve3',this.v0=e||new m,this.v1=t||new m,this.v2=n||new m}function Hr(e){br.call(this),this.type='SplineCurve',this.points=e||[]}function Vr(){br.call(this),this.type='CurvePath',this.curves=[],this.autoClose=!1}function Gr(e){Vr.call(this),this.type='Path',this.currentPoint=new o,e&&this.setFromPoints(e)}function Wr(e){Gr.call(this,e),this.uuid=wd.generateUUID(),this.type='Shape',this.holes=[]}function jr(e,t){ce.call(this),this.type='Light',this.color=new K(e),this.intensity=t===void 0?1:t,this.receiveShadow=void 0}function Xr(e,t,n){jr.call(this,e,n),this.type='HemisphereLight',this.castShadow=void 0,this.position.copy(ce.DefaultUp),this.updateMatrix(),this.groundColor=new K(t)}function Yr(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new o(512,512),this.map=null,this.matrix=new a}function qr(){Yr.call(this,new yt(50,1,0.5,500))}function Kr(e,t,n,r,a,o){jr.call(this,e,t),this.type='SpotLight',this.position.copy(ce.DefaultUp),this.updateMatrix(),this.target=new ce,Object.defineProperty(this,'power',{get:function(){return this.intensity*di},set:function(e){this.intensity=e/di}}),this.distance=n===void 0?0:n,this.angle=r===void 0?di/3:r,this.penumbra=a===void 0?0:a,this.decay=o===void 0?1:o,this.shadow=new qr}function Zr(e,t,n,r){jr.call(this,e,t),this.type='PointLight',Object.defineProperty(this,'power',{get:function(){return 4*this.intensity*di},set:function(e){this.intensity=e/(4*di)}}),this.distance=n===void 0?0:n,this.decay=r===void 0?1:r,this.shadow=new Yr(new yt(90,1,0.5,500))}function Jr(){Yr.call(this,new me(-5,5,5,-5,0.5,500))}function Qr(e,t){jr.call(this,e,t),this.type='DirectionalLight',this.position.copy(ce.DefaultUp),this.updateMatrix(),this.target=new ce,this.shadow=new Jr}function $r(e,t){jr.call(this,e,t),this.type='AmbientLight',this.castShadow=void 0}function ea(e,t,n,r){jr.call(this,e,t),this.type='RectAreaLight',this.position.set(0,1,0),this.updateMatrix(),this.width=n===void 0?10:n,this.height=r===void 0?10:r}function ta(e,t,n,r){ca.call(this,e,t,n,r)}function na(e,t,n){ca.call(this,e,t,n)}function ra(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r===void 0?new t.constructor(n):r,this.sampleValues=t,this.valueSize=n}function aa(e,t,n,r){ra.call(this,e,t,n,r)}function oa(e,t,n,r){ca.call(this,e,t,n,r)}function ia(e,t,n,r){ca.call(this,e,t,n,r)}function sa(e,t,n,r){ca.call(this,e,t,n,r)}function da(e,t,n,r){ra.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function la(e,t,n,r){ra.call(this,e,t,n,r)}function pa(e,t,n,r){ra.call(this,e,t,n,r)}function ca(e,t,n,r){if(e===void 0)throw new Error('THREE.KeyframeTrack: track name is undefined');if(void 0===t||0===t.length)throw new Error('THREE.KeyframeTrack: no keyframes in track named '+e);this.name=e,this.times=al.convertArray(t,this.TimeBufferType),this.values=al.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function ua(e,t,n,r){ca.call(this,e,t,n,r)}function ma(e,t,n){this.name=e,this.tracks=n,this.duration=t===void 0?-1:t,this.uuid=wd.generateUUID(),0>this.duration&&this.resetDuration(),this.optimize()}function fa(e){this.manager=e===void 0?Jd:e,this.textures={}}function ga(e){this.manager=e===void 0?Jd:e}function ha(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function ya(e){'boolean'==typeof e&&(console.warn('THREE.JSONLoader: showStatus parameter has been removed from constructor.'),e=void 0),this.manager=e===void 0?Jd:e,this.withCredentials=!1}function xa(e){this.manager=e===void 0?Jd:e,this.texturePath=''}function va(e){'undefined'==typeof createImageBitmap&&console.warn('THREE.ImageBitmapLoader: createImageBitmap() not supported.'),'undefined'==typeof fetch&&console.warn('THREE.ImageBitmapLoader: fetch() not supported.'),this.manager=e===void 0?Jd:e,this.options=void 0}function ba(){this.type='ShapePath',this.subPaths=[],this.currentPath=null}function _a(e){this.type='Font',this.data=e}function Ea(e){this.manager=e===void 0?Jd:e}function Ta(e){this.manager=e===void 0?Jd:e}function Sa(){this.type='StereoCamera',this.aspect=1,this.eyeSep=0.064,this.cameraL=new yt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new yt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Ca(e,t,n){ce.call(this),this.type='CubeCamera';var r=90,a=1,o=new yt(r,a,e,t);o.up.set(0,-1,0),o.lookAt(new m(1,0,0)),this.add(o);var i=new yt(r,a,e,t);i.up.set(0,-1,0),i.lookAt(new m(-1,0,0)),this.add(i);var s=new yt(r,a,e,t);s.up.set(0,0,1),s.lookAt(new m(0,1,0)),this.add(s);var d=new yt(r,a,e,t);d.up.set(0,0,-1),d.lookAt(new m(0,-1,0)),this.add(d);var l=new yt(r,a,e,t);l.up.set(0,-1,0),l.lookAt(new m(0,0,1)),this.add(l);var p=new yt(r,a,e,t);p.up.set(0,-1,0),p.lookAt(new m(0,0,-1)),this.add(p);this.renderTarget=new c(n,n,{format:Gs,magFilter:ws,minFilter:ws}),this.renderTarget.texture.name='CubeCamera',this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,o,n),n.activeCubeFace=1,e.render(t,i,n),n.activeCubeFace=2,e.render(t,s,n),n.activeCubeFace=3,e.render(t,d,n),n.activeCubeFace=4,e.render(t,l,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,e.render(t,p,n),e.setRenderTarget(null)},this.clear=function(e,t,n,r){for(var a=this.renderTarget,o=0;6>o;o++)a.activeCubeFace=o,e.setRenderTarget(a),e.clear(t,n,r);e.setRenderTarget(null)}}function Ma(){ce.call(this),this.type='AudioListener',this.context=pl.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function wa(e){ce.call(this),this.type='Audio',this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType='empty',this.filters=[]}function Ra(e){wa.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Pa(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t===void 0?2048:t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Aa(e,t,n){this.binding=e,this.valueSize=n;var r=Float64Array,a;'quaternion'===t?a=this._slerp:'string'===t||'bool'===t?(r=Array,a=this._select):a=this._lerp;this.buffer=new r(4*n),this._mixBufferRegion=a,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function La(e,t,n){var r=n||Ia.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Ia(e,t,n){this.path=t,this.parsedPath=n||Ia.parseTrackName(t),this.node=Ia.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Na(){this.uuid=wd.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,r=arguments.length;t!==r;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}function Da(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,a=r.length,o=Array(a),s={endingStart:cd,endingEnd:cd},d=0,i;d!==a;++d)i=r[d].createInterpolant(null),o[d]=i,i.settings=s;this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=id,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Ua(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function ka(e){'string'==typeof e&&(console.warn('THREE.Uniform: Type parameter is no longer needed.'),e=arguments[1]),this.value=e}function Oa(){Re.call(this),this.type='InstancedBufferGeometry',this.maxInstancedCount=void 0}function Fa(e,t,n,r){this.uuid=wd.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function za(e,t){this.uuid=wd.generateUUID(),this.array=e,this.stride=t,this.count=e===void 0?0:e.length/t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Ba(e,t,n){za.call(this,e,t),this.meshPerAttribute=n||1}function Ha(e,t,n){he.call(this,e,t),this.meshPerAttribute=n||1}function Va(e,t,n,r){this.ray=new Ue(e,t),this.near=n||0,this.far=r||Infinity,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn('THREE.Raycaster: params.PointCloud has been renamed to params.Points.'),this.Points}}})}function Ga(e,t){return e.distance-t.distance}function Wa(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var a=e.children,o=0,i=a.length;o<i;o++)Wa(a[o],t,n,!0)}function ja(e){this.autoStart=!(e!==void 0)||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Xa(e,t,n){return this.radius=void 0===e?1:e,this.phi=void 0===t?0:t,this.theta=void 0===n?0:n,this}function Ya(e,t,n){return this.radius=void 0===e?1:e,this.theta=void 0===t?0:t,this.y=void 0===n?0:n,this}function qa(e){ce.call(this),this.material=e,this.render=function(){}}function Ka(e,t,n,r){this.object=e,this.size=t===void 0?1:t;var a=n===void 0?16711680:n,o=r===void 0?1:r,i=0,s=this.object.geometry;s&&s.isGeometry?i=3*s.faces.length:s&&s.isBufferGeometry&&(i=s.attributes.normal.count);var d=new Re,l=new Se(3*(2*i),3);d.addAttribute('position',l),kt.call(this,d,new Dt({color:a,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Za(e,t){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Re,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],a=0,o=1,i=32;a<i;a++,o++){var s=2*(a/i*di),d=2*(o/i*di);r.push(Yo(s),Xo(s),1,Yo(d),Xo(d),1)}n.addAttribute('position',new Se(r,3));var l=new Dt({fog:!1});this.cone=new kt(n,l),this.add(this.cone),this.update()}function Ja(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,Ja(e.children[n]));return t}function Qa(e){for(var t=Ja(e),n=new Re,r=[],a=[],o=new K(0,0,1),s=new K(0,1,0),d=0,i;d<t.length;d++)i=t[d],i.parent&&i.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(o.r,o.g,o.b),a.push(s.r,s.g,s.b));n.addAttribute('position',new Se(r,3)),n.addAttribute('color',new Se(a,3));var l=new Dt({vertexColors:Ri,depthTest:!1,depthWrite:!1,transparent:!0});kt.call(this,n,l),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function $a(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new Gn(t,4,2),a=new Ne({wireframe:!0,fog:!1});Fe.call(this,r,a),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function eo(e,t){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var n=new Dt({fog:!1}),r=new Re;r.addAttribute('position',new he(new Float32Array(15),3)),this.line=new Ut(r,n),this.add(this.line),this.update()}function to(e,t,n){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new Qt(t);r.rotateY(0.5*di),this.material=new Ne({wireframe:!0,fog:!1}),this.color===void 0&&(this.material.vertexColors=Ri);var a=r.getAttribute('position'),o=new Float32Array(3*a.count);r.addAttribute('color',new he(o,3)),this.add(new Fe(r,this.material)),this.update()}function no(e,t,n,r){e=e||10,t=t||10,n=new K(n===void 0?4473924:n),r=new K(r===void 0?8947848:r);for(var a=t/2,o=e/t,s=e/2,d=[],l=[],p=0,i=0,c=-s;p<=t;p++,c+=o){d.push(-s,0,c,s,0,c),d.push(c,0,-s,c,0,s);var u=p===a?n:r;u.toArray(l,i),i+=3,u.toArray(l,i),i+=3,u.toArray(l,i),i+=3,u.toArray(l,i),i+=3}var m=new Re;m.addAttribute('position',new Se(d,3)),m.addAttribute('color',new Se(l,3));var f=new Dt({vertexColors:Ri});kt.call(this,m,f)}function ro(e,t,n,a,o,s){e=e||10,t=t||16,n=n||8,a=a||64,o=new K(o===void 0?4473924:o),s=new K(s===void 0?8947848:s);var d=[],l=[],p,c,u,m,i,f,r;for(m=0;m<=t;m++)u=m/t*(2*di),p=Xo(u)*e,c=Yo(u)*e,d.push(0,0,0),d.push(p,0,c),r=1&m?o:s,l.push(r.r,r.g,r.b),l.push(r.r,r.g,r.b);for(m=0;m<=n;m++)for(r=1&m?o:s,f=e-e/n*m,i=0;i<a;i++)u=i/a*(2*di),p=Xo(u)*f,c=Yo(u)*f,d.push(p,0,c),l.push(r.r,r.g,r.b),u=(i+1)/a*(2*di),p=Xo(u)*f,c=Yo(u)*f,d.push(p,0,c),l.push(r.r,r.g,r.b);var g=new Re;g.addAttribute('position',new Se(d,3)),g.addAttribute('color',new Se(l,3));var h=new Dt({vertexColors:Ri});kt.call(this,g,h)}function ao(e,t,n,r){this.object=e,this.size=t===void 0?1:t;var a=n===void 0?16776960:n,o=r===void 0?1:r,i=0,s=this.object.geometry;s&&s.isGeometry?i=s.faces.length:console.warn('THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.');var d=new Re,l=new Se(3*(2*i),3);d.addAttribute('position',l),kt.call(this,d,new Dt({color:a,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function oo(e,t,n){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);var r=new Re;r.addAttribute('position',new Se([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var a=new Dt({fog:!1});this.lightPlane=new Ut(r,a),this.add(this.lightPlane),r=new Re,r.addAttribute('position',new Se([0,0,0,0,0,1],3)),this.targetLine=new Ut(r,a),this.add(this.targetLine),this.update()}function io(e){function t(e,t,r){n(e,r),n(t,r)}function n(e,t){o.push(0,0,0),i.push(t.r,t.g,t.b),s[e]===void 0&&(s[e]=[]),s[e].push(o.length/3-1)}var r=new Re,a=new Dt({color:16777215,vertexColors:wi}),o=[],i=[],s={},d=new K(16755200),l=new K(16711680),p=new K(43775),c=new K(16777215),u=new K(3355443);t('n1','n2',d),t('n2','n4',d),t('n4','n3',d),t('n3','n1',d),t('f1','f2',d),t('f2','f4',d),t('f4','f3',d),t('f3','f1',d),t('n1','f1',d),t('n2','f2',d),t('n3','f3',d),t('n4','f4',d),t('p','n1',l),t('p','n2',l),t('p','n3',l),t('p','n4',l),t('u1','u2',p),t('u2','u3',p),t('u3','u1',p),t('c','t',c),t('p','c',u),t('cn1','cn2',u),t('cn3','cn4',u),t('cf1','cf2',u),t('cf3','cf4',u),r.addAttribute('position',new Se(o,3)),r.addAttribute('color',new Se(i,3)),kt.call(this,r,a),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function so(e,t){this.object=e,t===void 0&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new Re;a.setIndex(new he(n,1)),a.addAttribute('position',new he(r,3)),kt.call(this,a,new Dt({color:t})),this.matrixAutoUpdate=!1,this.update()}function lo(e,t){this.type='Box3Helper',this.box=e;var n=t===void 0?16776960:t,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Re;a.setIndex(new he(r,1)),a.addAttribute('position',new Se([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),kt.call(this,a,new Dt({color:n})),this.geometry.computeBoundingSphere()}function po(e,t,n){this.type='PlaneHelper',this.plane=e,this.size=t===void 0?1:t;var r=n===void 0?16776960:n,a=new Re;a.addAttribute('position',new Se([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),a.computeBoundingSphere(),Ut.call(this,a,new Dt({color:r}));var o=new Re;o.addAttribute('position',new Se([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new Fe(o,new Ne({color:r,opacity:0.2,transparent:!0,depthWrite:!1})))}function co(e,t,n,r,a,o){ce.call(this),r===void 0&&(r=16776960),n===void 0&&(n=1),a===void 0&&(a=0.2*n),o===void 0&&(o=0.2*a),ul==void 0&&(ul=new Re,ul.addAttribute('position',new Se([0,0,0,0,1,0],3)),ml=new $n(0,0.5,1,5,1),ml.translate(0,-0.5,0)),this.position.copy(t),this.line=new Ut(ul,new Dt({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Fe(ml,new Ne({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,o)}function uo(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Re;n.addAttribute('position',new Se(t,3)),n.addAttribute('color',new Se([1,0,0,1,0.6,0,0,1,0,0.6,1,0,0,0,1,0,0.6,1],3));var r=new Dt({vertexColors:Ri});kt.call(this,n,r)}function mo(e,t,n,r,a,o,i){return console.warn('THREE.Face4 has been removed. A THREE.Face3 will be created instead.'),new fe(e,t,n,a,o,i)}function fo(e){return console.warn('THREE.MeshFaceMaterial has been removed. Use an Array instead.'),e}function go(e){return void 0===e&&(e=[]),console.warn('THREE.MultiMaterial has been removed. Use an Array instead.'),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function ho(e,t){return console.warn('THREE.PointCloud has been renamed to THREE.Points.'),new zt(e,t)}function yo(e){return console.warn('THREE.Particle has been renamed to THREE.Sprite.'),new Pt(e)}function xo(e,t){return console.warn('THREE.ParticleSystem has been renamed to THREE.Points.'),new zt(e,t)}function vo(e){return console.warn('THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.'),new Ft(e)}function bo(e){return console.warn('THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.'),new Ft(e)}function _o(e){return console.warn('THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.'),new Ft(e)}function Eo(e,t,n){return console.warn('THREE.Vertex has been removed. Use THREE.Vector3 instead.'),new m(e,t,n)}function To(e,t){return console.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.'),new he(e,t).setDynamic(!0)}function So(e,t){return console.warn('THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.'),new ye(e,t)}function Co(e,t){return console.warn('THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.'),new xe(e,t)}function Mo(e,t){return console.warn('THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.'),new ve(e,t)}function wo(e,t){return console.warn('THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.'),new be(e,t)}function Ro(e,t){return console.warn('THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.'),new _e(e,t)}function Po(e,t){return console.warn('THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.'),new Ee(e,t)}function Ao(e,t){return console.warn('THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.'),new Te(e,t)}function Lo(e,t){return console.warn('THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.'),new Se(e,t)}function Io(e,t){return console.warn('THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.'),new Ce(e,t)}function No(e){console.warn('THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.'),Sr.call(this,e),this.type='catmullrom',this.closed=!0}function Do(e){console.warn('THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.'),Sr.call(this,e),this.type='catmullrom'}function Uo(e){console.warn('THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.'),Sr.call(this,e),this.type='catmullrom'}function ko(e){return console.warn('THREE.AxisHelper has been renamed to THREE.AxesHelper.'),new uo(e)}function Oo(e,t){return console.warn('THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.'),new so(e,t)}function Fo(e,t){return console.warn('THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.'),new kt(new Jn(e.geometry),new Dt({color:void 0===t?16777215:t}))}function zo(e,t){return console.warn('THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.'),new kt(new Wt(e.geometry),new Dt({color:void 0===t?16777215:t}))}function Bo(e){return console.warn('THREE.XHRLoader has been renamed to THREE.FileLoader.'),new fr(e)}function Ho(e){return console.warn('THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.'),new hr(e)}function Vo(){console.error('THREE.Projector has been moved to /examples/js/renderers/Projector.js.'),this.projectVector=function(e,t){console.warn('THREE.Projector: .projectVector() is now vector.project().'),e.project(t)},this.unprojectVector=function(e,t){console.warn('THREE.Projector: .unprojectVector() is now vector.unproject().'),e.unproject(t)},this.pickingRay=function(){console.error('THREE.Projector: .pickingRay() is now raycaster.setFromCamera().')}}function Go(){console.error('THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js'),this.domElement=document.createElementNS('http://www.w3.org/1999/xhtml','canvas'),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}var Wo=Math.atan,jo=Math.acos,Xo=Math.sin,Yo=Math.cos,qo=Math.atan2,Ko=Math.abs,Zo=Math.sqrt,Jo=Math.round,Qo=Math.pow,$o=Math.ceil,ei=Math.LN2,ti=Math.log,ni=Math.max,ri=Math.sign,ai=Math.floor,oi=Number.isInteger,ii=Number.EPSILON,si=Math.min,di=Math.PI,li=Math.tan;Object.defineProperty(t,'__esModule',{value:!0}),n.d(t,'WebGLRenderTargetCube',function(){return c}),n.d(t,'WebGLRenderTarget',function(){return l}),n.d(t,'WebGLRenderer',function(){return Tt}),n.d(t,'ShaderLib',function(){return Bd}),n.d(t,'UniformsLib',function(){return Od}),n.d(t,'UniformsUtils',function(){return Fd}),n.d(t,'ShaderChunk',function(){return zd}),n.d(t,'FogExp2',function(){return St}),n.d(t,'Fog',function(){return Ct}),n.d(t,'Scene',function(){return Mt}),n.d(t,'LensFlare',function(){return wt}),n.d(t,'Sprite',function(){return Pt}),n.d(t,'LOD',function(){return At}),n.d(t,'SkinnedMesh',function(){return Nt}),n.d(t,'Skeleton',function(){return Lt}),n.d(t,'Bone',function(){return It}),n.d(t,'Mesh',function(){return Fe}),n.d(t,'LineSegments',function(){return kt}),n.d(t,'LineLoop',function(){return Ot}),n.d(t,'Line',function(){return Ut}),n.d(t,'Points',function(){return zt}),n.d(t,'Group',function(){return Bt}),n.d(t,'VideoTexture',function(){return Ht}),n.d(t,'DataTexture',function(){return u}),n.d(t,'CompressedTexture',function(){return Vt}),n.d(t,'CubeTexture',function(){return f}),n.d(t,'CanvasTexture',function(){return Q}),n.d(t,'DepthTexture',function(){return Gt}),n.d(t,'Texture',function(){return d}),n.d(t,'CompressedTextureLoader',function(){return gr}),n.d(t,'DataTextureLoader',function(){return hr}),n.d(t,'CubeTextureLoader',function(){return xr}),n.d(t,'TextureLoader',function(){return vr}),n.d(t,'ObjectLoader',function(){return xa}),n.d(t,'MaterialLoader',function(){return fa}),n.d(t,'BufferGeometryLoader',function(){return ga}),n.d(t,'DefaultLoadingManager',function(){return Jd}),n.d(t,'LoadingManager',function(){return mr}),n.d(t,'JSONLoader',function(){return ya}),n.d(t,'ImageLoader',function(){return yr}),n.d(t,'ImageBitmapLoader',function(){return va}),n.d(t,'FontLoader',function(){return Ea}),n.d(t,'FileLoader',function(){return fr}),n.d(t,'Loader',function(){return ha}),n.d(t,'LoaderUtils',function(){return il}),n.d(t,'Cache',function(){return Zd}),n.d(t,'AudioLoader',function(){return Ta}),n.d(t,'SpotLightShadow',function(){return qr}),n.d(t,'SpotLight',function(){return Kr}),n.d(t,'PointLight',function(){return Zr}),n.d(t,'RectAreaLight',function(){return ea}),n.d(t,'HemisphereLight',function(){return Xr}),n.d(t,'DirectionalLightShadow',function(){return Jr}),n.d(t,'DirectionalLight',function(){return Qr}),n.d(t,'AmbientLight',function(){return $r}),n.d(t,'LightShadow',function(){return Yr}),n.d(t,'Light',function(){return jr}),n.d(t,'StereoCamera',function(){return Sa}),n.d(t,'PerspectiveCamera',function(){return yt}),n.d(t,'OrthographicCamera',function(){return me}),n.d(t,'CubeCamera',function(){return Ca}),n.d(t,'ArrayCamera',function(){return xt}),n.d(t,'Camera',function(){return ue}),n.d(t,'AudioListener',function(){return Ma}),n.d(t,'PositionalAudio',function(){return Ra}),n.d(t,'AudioContext',function(){return pl}),n.d(t,'AudioAnalyser',function(){return Pa}),n.d(t,'Audio',function(){return wa}),n.d(t,'VectorKeyframeTrack',function(){return ua}),n.d(t,'StringKeyframeTrack',function(){return ta}),n.d(t,'QuaternionKeyframeTrack',function(){return oa}),n.d(t,'NumberKeyframeTrack',function(){return sa}),n.d(t,'ColorKeyframeTrack',function(){return ia}),n.d(t,'BooleanKeyframeTrack',function(){return na}),n.d(t,'PropertyMixer',function(){return Aa}),n.d(t,'PropertyBinding',function(){return Ia}),n.d(t,'KeyframeTrack',function(){return ca}),n.d(t,'AnimationUtils',function(){return al}),n.d(t,'AnimationObjectGroup',function(){return Na}),n.d(t,'AnimationMixer',function(){return Ua}),n.d(t,'AnimationClip',function(){return ma}),n.d(t,'Uniform',function(){return ka}),n.d(t,'InstancedBufferGeometry',function(){return Oa}),n.d(t,'BufferGeometry',function(){return Re}),n.d(t,'Geometry',function(){return ge}),n.d(t,'InterleavedBufferAttribute',function(){return Fa}),n.d(t,'InstancedInterleavedBuffer',function(){return Ba}),n.d(t,'InterleavedBuffer',function(){return za}),n.d(t,'InstancedBufferAttribute',function(){return Ha}),n.d(t,'Face3',function(){return fe}),n.d(t,'Object3D',function(){return ce}),n.d(t,'Raycaster',function(){return Va}),n.d(t,'Layers',function(){return pe}),n.d(t,'EventDispatcher',function(){return r}),n.d(t,'Clock',function(){return ja}),n.d(t,'QuaternionLinearInterpolant',function(){return aa}),n.d(t,'LinearInterpolant',function(){return la}),n.d(t,'DiscreteInterpolant',function(){return pa}),n.d(t,'CubicInterpolant',function(){return da}),n.d(t,'Interpolant',function(){return ra}),n.d(t,'Triangle',function(){return Oe}),n.d(t,'Math',function(){return wd}),n.d(t,'Spherical',function(){return Xa}),n.d(t,'Cylindrical',function(){return Ya}),n.d(t,'Plane',function(){return oe}),n.d(t,'Frustum',function(){return ie}),n.d(t,'Sphere',function(){return ae}),n.d(t,'Ray',function(){return Ue}),n.d(t,'Matrix4',function(){return a}),n.d(t,'Matrix3',function(){return s}),n.d(t,'Box3',function(){return re}),n.d(t,'Box2',function(){return Z}),n.d(t,'Line3',function(){return ke}),n.d(t,'Euler',function(){return le}),n.d(t,'Vector4',function(){return p}),n.d(t,'Vector3',function(){return m}),n.d(t,'Vector2',function(){return o}),n.d(t,'Quaternion',function(){return i}),n.d(t,'Color',function(){return K}),n.d(t,'ImmediateRenderObject',function(){return qa}),n.d(t,'VertexNormalsHelper',function(){return Ka}),n.d(t,'SpotLightHelper',function(){return Za}),n.d(t,'SkeletonHelper',function(){return Qa}),n.d(t,'PointLightHelper',function(){return $a}),n.d(t,'RectAreaLightHelper',function(){return eo}),n.d(t,'HemisphereLightHelper',function(){return to}),n.d(t,'GridHelper',function(){return no}),n.d(t,'PolarGridHelper',function(){return ro}),n.d(t,'FaceNormalsHelper',function(){return ao}),n.d(t,'DirectionalLightHelper',function(){return oo}),n.d(t,'CameraHelper',function(){return io}),n.d(t,'BoxHelper',function(){return so}),n.d(t,'Box3Helper',function(){return lo}),n.d(t,'PlaneHelper',function(){return po}),n.d(t,'ArrowHelper',function(){return co}),n.d(t,'AxesHelper',function(){return uo}),n.d(t,'Shape',function(){return Wr}),n.d(t,'Path',function(){return Gr}),n.d(t,'ShapePath',function(){return ba}),n.d(t,'Font',function(){return _a}),n.d(t,'CurvePath',function(){return Vr}),n.d(t,'Curve',function(){return br}),n.d(t,'ShapeUtils',function(){return Yd}),n.d(t,'SceneUtils',function(){return fl}),n.d(t,'WebGLUtils',function(){return Et}),n.d(t,'WireframeGeometry',function(){return Wt}),n.d(t,'ParametricGeometry',function(){return jt}),n.d(t,'ParametricBufferGeometry',function(){return Xt}),n.d(t,'TetrahedronGeometry',function(){return Kt}),n.d(t,'TetrahedronBufferGeometry',function(){return Zt}),n.d(t,'OctahedronGeometry',function(){return Jt}),n.d(t,'OctahedronBufferGeometry',function(){return Qt}),n.d(t,'IcosahedronGeometry',function(){return $t}),n.d(t,'IcosahedronBufferGeometry',function(){return en}),n.d(t,'DodecahedronGeometry',function(){return tn}),n.d(t,'DodecahedronBufferGeometry',function(){return nn}),n.d(t,'PolyhedronGeometry',function(){return Yt}),n.d(t,'PolyhedronBufferGeometry',function(){return qt}),n.d(t,'TubeGeometry',function(){return rn}),n.d(t,'TubeBufferGeometry',function(){return an}),n.d(t,'TorusKnotGeometry',function(){return on}),n.d(t,'TorusKnotBufferGeometry',function(){return sn}),n.d(t,'TorusGeometry',function(){return dn}),n.d(t,'TorusBufferGeometry',function(){return ln}),n.d(t,'TextGeometry',function(){return Bn}),n.d(t,'TextBufferGeometry',function(){return Hn}),n.d(t,'SphereGeometry',function(){return Vn}),n.d(t,'SphereBufferGeometry',function(){return Gn}),n.d(t,'RingGeometry',function(){return Wn}),n.d(t,'RingBufferGeometry',function(){return jn}),n.d(t,'PlaneGeometry',function(){return Le}),n.d(t,'PlaneBufferGeometry',function(){return Ie}),n.d(t,'LatheGeometry',function(){return Xn}),n.d(t,'LatheBufferGeometry',function(){return Yn}),n.d(t,'ShapeGeometry',function(){return qn}),n.d(t,'ShapeBufferGeometry',function(){return Kn}),n.d(t,'ExtrudeGeometry',function(){return Fn}),n.d(t,'ExtrudeBufferGeometry',function(){return zn}),n.d(t,'EdgesGeometry',function(){return Jn}),n.d(t,'ConeGeometry',function(){return er}),n.d(t,'ConeBufferGeometry',function(){return tr}),n.d(t,'CylinderGeometry',function(){return Qn}),n.d(t,'CylinderBufferGeometry',function(){return $n}),n.d(t,'CircleGeometry',function(){return nr}),n.d(t,'CircleBufferGeometry',function(){return rr}),n.d(t,'BoxGeometry',function(){return Pe}),n.d(t,'BoxBufferGeometry',function(){return Ae}),n.d(t,'ShadowMaterial',function(){return ar}),n.d(t,'SpriteMaterial',function(){return Rt}),n.d(t,'RawShaderMaterial',function(){return or}),n.d(t,'ShaderMaterial',function(){return De}),n.d(t,'PointsMaterial',function(){return Ft}),n.d(t,'MeshPhysicalMaterial',function(){return sr}),n.d(t,'MeshStandardMaterial',function(){return ir}),n.d(t,'MeshPhongMaterial',function(){return dr}),n.d(t,'MeshToonMaterial',function(){return lr}),n.d(t,'MeshNormalMaterial',function(){return pr}),n.d(t,'MeshLambertMaterial',function(){return cr}),n.d(t,'MeshDepthMaterial',function(){return te}),n.d(t,'MeshDistanceMaterial',function(){return ne}),n.d(t,'MeshBasicMaterial',function(){return Ne}),n.d(t,'LineDashedMaterial',function(){return ur}),n.d(t,'LineBasicMaterial',function(){return Dt}),n.d(t,'Material',function(){return ee}),n.d(t,'Float64BufferAttribute',function(){return Ce}),n.d(t,'Float32BufferAttribute',function(){return Se}),n.d(t,'Uint32BufferAttribute',function(){return Te}),n.d(t,'Int32BufferAttribute',function(){return Ee}),n.d(t,'Uint16BufferAttribute',function(){return _e}),n.d(t,'Int16BufferAttribute',function(){return be}),n.d(t,'Uint8ClampedBufferAttribute',function(){return ve}),n.d(t,'Uint8BufferAttribute',function(){return xe}),n.d(t,'Int8BufferAttribute',function(){return ye}),n.d(t,'BufferAttribute',function(){return he}),n.d(t,'ArcCurve',function(){return Er}),n.d(t,'CatmullRomCurve3',function(){return Sr}),n.d(t,'CubicBezierCurve',function(){return Ur}),n.d(t,'CubicBezierCurve3',function(){return kr}),n.d(t,'EllipseCurve',function(){return _r}),n.d(t,'LineCurve',function(){return Or}),n.d(t,'LineCurve3',function(){return Fr}),n.d(t,'QuadraticBezierCurve',function(){return zr}),n.d(t,'QuadraticBezierCurve3',function(){return Br}),n.d(t,'SplineCurve',function(){return Hr}),n.d(t,'REVISION',function(){return pi}),n.d(t,'MOUSE',function(){return ci}),n.d(t,'CullFaceNone',function(){return ui}),n.d(t,'CullFaceBack',function(){return mi}),n.d(t,'CullFaceFront',function(){return fi}),n.d(t,'CullFaceFrontBack',function(){return gi}),n.d(t,'FrontFaceDirectionCW',function(){return hi}),n.d(t,'FrontFaceDirectionCCW',function(){return yi}),n.d(t,'BasicShadowMap',function(){return xi}),n.d(t,'PCFShadowMap',function(){return vi}),n.d(t,'PCFSoftShadowMap',function(){return bi}),n.d(t,'FrontSide',function(){return _i}),n.d(t,'BackSide',function(){return Ei}),n.d(t,'DoubleSide',function(){return Ti}),n.d(t,'FlatShading',function(){return Si}),n.d(t,'SmoothShading',function(){return Ci}),n.d(t,'NoColors',function(){return Mi}),n.d(t,'FaceColors',function(){return wi}),n.d(t,'VertexColors',function(){return Ri}),n.d(t,'NoBlending',function(){return Pi}),n.d(t,'NormalBlending',function(){return Ai}),n.d(t,'AdditiveBlending',function(){return Li}),n.d(t,'SubtractiveBlending',function(){return Ii}),n.d(t,'MultiplyBlending',function(){return Ni}),n.d(t,'CustomBlending',function(){return Di}),n.d(t,'AddEquation',function(){return Ui}),n.d(t,'SubtractEquation',function(){return ki}),n.d(t,'ReverseSubtractEquation',function(){return Oi}),n.d(t,'MinEquation',function(){return Fi}),n.d(t,'MaxEquation',function(){return zi}),n.d(t,'ZeroFactor',function(){return Bi}),n.d(t,'OneFactor',function(){return Hi}),n.d(t,'SrcColorFactor',function(){return Vi}),n.d(t,'OneMinusSrcColorFactor',function(){return Gi}),n.d(t,'SrcAlphaFactor',function(){return Wi}),n.d(t,'OneMinusSrcAlphaFactor',function(){return ji}),n.d(t,'DstAlphaFactor',function(){return Xi}),n.d(t,'OneMinusDstAlphaFactor',function(){return Yi}),n.d(t,'DstColorFactor',function(){return qi}),n.d(t,'OneMinusDstColorFactor',function(){return Ki}),n.d(t,'SrcAlphaSaturateFactor',function(){return Zi}),n.d(t,'NeverDepth',function(){return Ji}),n.d(t,'AlwaysDepth',function(){return Qi}),n.d(t,'LessDepth',function(){return $i}),n.d(t,'LessEqualDepth',function(){return es}),n.d(t,'EqualDepth',function(){return ts}),n.d(t,'GreaterEqualDepth',function(){return ns}),n.d(t,'GreaterDepth',function(){return rs}),n.d(t,'NotEqualDepth',function(){return as}),n.d(t,'MultiplyOperation',function(){return os}),n.d(t,'MixOperation',function(){return is}),n.d(t,'AddOperation',function(){return ss}),n.d(t,'NoToneMapping',function(){return ds}),n.d(t,'LinearToneMapping',function(){return ls}),n.d(t,'ReinhardToneMapping',function(){return ps}),n.d(t,'Uncharted2ToneMapping',function(){return cs}),n.d(t,'CineonToneMapping',function(){return us}),n.d(t,'UVMapping',function(){return ms}),n.d(t,'CubeReflectionMapping',function(){return fs}),n.d(t,'CubeRefractionMapping',function(){return gs}),n.d(t,'EquirectangularReflectionMapping',function(){return hs}),n.d(t,'EquirectangularRefractionMapping',function(){return ys}),n.d(t,'SphericalReflectionMapping',function(){return xs}),n.d(t,'CubeUVReflectionMapping',function(){return vs}),n.d(t,'CubeUVRefractionMapping',function(){return bs}),n.d(t,'RepeatWrapping',function(){return _s}),n.d(t,'ClampToEdgeWrapping',function(){return Es}),n.d(t,'MirroredRepeatWrapping',function(){return Ts}),n.d(t,'NearestFilter',function(){return Ss}),n.d(t,'NearestMipMapNearestFilter',function(){return Cs}),n.d(t,'NearestMipMapLinearFilter',function(){return Ms}),n.d(t,'LinearFilter',function(){return ws}),n.d(t,'LinearMipMapNearestFilter',function(){return Rs}),n.d(t,'LinearMipMapLinearFilter',function(){return Ps}),n.d(t,'UnsignedByteType',function(){return As}),n.d(t,'ByteType',function(){return Ls}),n.d(t,'ShortType',function(){return Is}),n.d(t,'UnsignedShortType',function(){return Ns}),n.d(t,'IntType',function(){return Ds}),n.d(t,'UnsignedIntType',function(){return Us}),n.d(t,'FloatType',function(){return ks}),n.d(t,'HalfFloatType',function(){return Os}),n.d(t,'UnsignedShort4444Type',function(){return Fs}),n.d(t,'UnsignedShort5551Type',function(){return zs}),n.d(t,'UnsignedShort565Type',function(){return Bs}),n.d(t,'UnsignedInt248Type',function(){return Hs}),n.d(t,'AlphaFormat',function(){return Vs}),n.d(t,'RGBFormat',function(){return Gs}),n.d(t,'RGBAFormat',function(){return Ws}),n.d(t,'LuminanceFormat',function(){return js}),n.d(t,'LuminanceAlphaFormat',function(){return Xs}),n.d(t,'RGBEFormat',function(){return Ys}),n.d(t,'DepthFormat',function(){return qs}),n.d(t,'DepthStencilFormat',function(){return Ks}),n.d(t,'RGB_S3TC_DXT1_Format',function(){return Zs}),n.d(t,'RGBA_S3TC_DXT1_Format',function(){return Js}),n.d(t,'RGBA_S3TC_DXT3_Format',function(){return Qs}),n.d(t,'RGBA_S3TC_DXT5_Format',function(){return $s}),n.d(t,'RGB_PVRTC_4BPPV1_Format',function(){return ed}),n.d(t,'RGB_PVRTC_2BPPV1_Format',function(){return td}),n.d(t,'RGBA_PVRTC_4BPPV1_Format',function(){return nd}),n.d(t,'RGBA_PVRTC_2BPPV1_Format',function(){return rd}),n.d(t,'RGB_ETC1_Format',function(){return ad}),n.d(t,'LoopOnce',function(){return od}),n.d(t,'LoopRepeat',function(){return id}),n.d(t,'LoopPingPong',function(){return sd}),n.d(t,'InterpolateDiscrete',function(){return dd}),n.d(t,'InterpolateLinear',function(){return ld}),n.d(t,'InterpolateSmooth',function(){return pd}),n.d(t,'ZeroCurvatureEnding',function(){return cd}),n.d(t,'ZeroSlopeEnding',function(){return ud}),n.d(t,'WrapAroundEnding',function(){return md}),n.d(t,'TrianglesDrawMode',function(){return fd}),n.d(t,'TriangleStripDrawMode',function(){return gd}),n.d(t,'TriangleFanDrawMode',function(){return hd}),n.d(t,'LinearEncoding',function(){return yd}),n.d(t,'sRGBEncoding',function(){return xd}),n.d(t,'GammaEncoding',function(){return vd}),n.d(t,'RGBEEncoding',function(){return bd}),n.d(t,'LogLuvEncoding',function(){return _d}),n.d(t,'RGBM7Encoding',function(){return Ed}),n.d(t,'RGBM16Encoding',function(){return Td}),n.d(t,'RGBDEncoding',function(){return Sd}),n.d(t,'BasicDepthPacking',function(){return Cd}),n.d(t,'RGBADepthPacking',function(){return Md}),n.d(t,'CubeGeometry',function(){return Pe}),n.d(t,'Face4',function(){return mo}),n.d(t,'LineStrip',function(){return gl}),n.d(t,'LinePieces',function(){return hl}),n.d(t,'MeshFaceMaterial',function(){return fo}),n.d(t,'MultiMaterial',function(){return go}),n.d(t,'PointCloud',function(){return ho}),n.d(t,'Particle',function(){return yo}),n.d(t,'ParticleSystem',function(){return xo}),n.d(t,'PointCloudMaterial',function(){return vo}),n.d(t,'ParticleBasicMaterial',function(){return bo}),n.d(t,'ParticleSystemMaterial',function(){return _o}),n.d(t,'Vertex',function(){return Eo}),n.d(t,'DynamicBufferAttribute',function(){return To}),n.d(t,'Int8Attribute',function(){return So}),n.d(t,'Uint8Attribute',function(){return Co}),n.d(t,'Uint8ClampedAttribute',function(){return Mo}),n.d(t,'Int16Attribute',function(){return wo}),n.d(t,'Uint16Attribute',function(){return Ro}),n.d(t,'Int32Attribute',function(){return Po}),n.d(t,'Uint32Attribute',function(){return Ao}),n.d(t,'Float32Attribute',function(){return Lo}),n.d(t,'Float64Attribute',function(){return Io}),n.d(t,'ClosedSplineCurve3',function(){return No}),n.d(t,'SplineCurve3',function(){return Do}),n.d(t,'Spline',function(){return Uo}),n.d(t,'AxisHelper',function(){return ko}),n.d(t,'BoundingBoxHelper',function(){return Oo}),n.d(t,'EdgesHelper',function(){return Fo}),n.d(t,'WireframeHelper',function(){return zo}),n.d(t,'XHRLoader',function(){return Bo}),n.d(t,'BinaryTextureLoader',function(){return Ho}),n.d(t,'GeometryUtils',function(){return yl}),n.d(t,'ImageUtils',function(){return xl}),n.d(t,'Projector',function(){return Vo}),n.d(t,'CanvasRenderer',function(){return Go}),ii===void 0&&(ii=2.220446049250313e-16),oi===void 0&&(oi=function(e){return'number'==typeof e&&isFinite(e)&&ai(e)===e}),ri===void 0&&(ri=function(e){return 0>e?-1:0<e?1:+e}),!1=='name'in Function.prototype&&Object.defineProperty(Function.prototype,'name',{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Object.assign===void 0&&function(){Object.assign=function(e){if(e===void 0||null===e)throw new TypeError('Cannot convert undefined or null to object');for(var t=Object(e),n=1,r;n<arguments.length;n++)if(r=arguments[n],void 0!==r&&null!==r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);return t}}(),Object.assign(r.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});var n=this._listeners;n[e]===void 0&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;var n=this._listeners;return n[e]!==void 0&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners,r=n[e];if(void 0!==r){var a=r.indexOf(t);-1!==a&&r.splice(a,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;for(var r=n.slice(0),a=0,o=r.length;a<o;a++)r[a].call(this,e)}}}});var pi='89',ci={LEFT:0,MIDDLE:1,RIGHT:2},ui=0,mi=1,fi=2,gi=3,hi=0,yi=1,xi=0,vi=1,bi=2,_i=0,Ei=1,Ti=2,Si=1,Ci=2,Mi=0,wi=1,Ri=2,Pi=0,Ai=1,Li=2,Ii=3,Ni=4,Di=5,Ui=100,ki=101,Oi=102,Fi=103,zi=104,Bi=200,Hi=201,Vi=202,Gi=203,Wi=204,ji=205,Xi=206,Yi=207,qi=208,Ki=209,Zi=210,Ji=0,Qi=1,$i=2,es=3,ts=4,ns=5,rs=6,as=7,os=0,is=1,ss=2,ds=0,ls=1,ps=2,cs=3,us=4,ms=300,fs=301,gs=302,hs=303,ys=304,xs=305,vs=306,bs=307,_s=1e3,Es=1001,Ts=1002,Ss=1003,Cs=1004,Ms=1005,ws=1006,Rs=1007,Ps=1008,As=1009,Ls=1010,Is=1011,Ns=1012,Ds=1013,Us=1014,ks=1015,Os=1016,Fs=1017,zs=1018,Bs=1019,Hs=1020,Vs=1021,Gs=1022,Ws=1023,js=1024,Xs=1025,Ys=Ws,qs=1026,Ks=1027,Zs=2001,Js=2002,Qs=2003,$s=2004,ed=2100,td=2101,nd=2102,rd=2103,ad=2151,od=2200,id=2201,sd=2202,dd=2300,ld=2301,pd=2302,cd=2400,ud=2401,md=2402,fd=0,gd=1,hd=2,yd=3e3,xd=3001,vd=3007,bd=3002,_d=3003,Ed=3004,Td=3005,Sd=3006,Cd=3200,Md=3201,wd={DEG2RAD:di/180,RAD2DEG:180/di,generateUUID:function(){for(var e=[],t=0;256>t;t++)e[t]=(16>t?'0':'')+t.toString(16).toUpperCase();return function(){var t=0|4294967295*Math.random(),n=0|4294967295*Math.random(),r=0|4294967295*Math.random(),a=0|4294967295*Math.random();return e[255&t]+e[255&t>>8]+e[255&t>>16]+e[255&t>>24]+'-'+e[255&n]+e[255&n>>8]+'-'+e[64|15&n>>16]+e[255&n>>24]+'-'+e[128|63&r]+e[255&r>>8]+'-'+e[255&r>>16]+e[255&r>>24]+e[255&a]+e[255&a>>8]+e[255&a>>16]+e[255&a>>24]}}(),clamp:function(e,t,n){return ni(t,si(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,a){return r+(e-t)*(a-r)/(n-t)},lerp:function(e,n,r){return(1-r)*e+r*n},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(6*e-15)+10))},randInt:function(e,t){return e+ai(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(0.5-Math.random())},degToRad:function(e){return e*wd.DEG2RAD},radToDeg:function(e){return e*wd.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Qo(2,$o(ti(e)/ei))},floorPowerOfTwo:function(e){return Qo(2,ai(ti(e)/ei))}};Object.defineProperties(o.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(o.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error('index is out of range: '+e);}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error('index is out of range: '+e);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0===t?(this.x+=e.x,this.y+=e.y,this):(console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.'),this.addVectors(e,t))},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0===t?(this.x-=e.x,this.y-=e.y,this):(console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.'),this.subVectors(e,t))},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(t){var n=this.x,r=this.y,a=t.elements;return this.x=a[0]*n+a[3]*r+a[6],this.y=a[1]*n+a[4]*r+a[7],this},min:function(e){return this.x=si(this.x,e.x),this.y=si(this.y,e.y),this},max:function(e){return this.x=ni(this.x,e.x),this.y=ni(this.y,e.y),this},clamp:function(e,t){return this.x=ni(e.x,si(t.x,this.x)),this.y=ni(e.y,si(t.y,this.y)),this},clampScalar:function(){var e=new o,t=new o;return function(n,r){return e.set(n,n),t.set(r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(ni(e,si(t,n)))},floor:function(){return this.x=ai(this.x),this.y=ai(this.y),this},ceil:function(){return this.x=$o(this.x),this.y=$o(this.y),this},round:function(){return this.x=Jo(this.x),this.y=Jo(this.y),this},roundToZero:function(){return this.x=0>this.x?$o(this.x):ai(this.x),this.y=0>this.y?$o(this.y):ai(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Zo(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Ko(this.x)+Ko(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=qo(this.y,this.x);return 0>e&&(e+=2*di),e},distanceTo:function(e){return Zo(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Ko(this.x-e.x)+Ko(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn('THREE.Vector2: offset has been removed from .fromBufferAttribute().'),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Yo(t),r=Xo(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*n-o*r+e.x,this.y=a*r+o*n+e.y,this}}),Object.assign(a.prototype,{isMatrix4:!0,set:function(e,t,n,r,a,o,i,s,d,l,p,c,u,m,f,g){var h=this.elements;return h[0]=e,h[4]=t,h[8]=n,h[12]=r,h[1]=a,h[5]=o,h[9]=i,h[13]=s,h[2]=d,h[6]=l,h[10]=p,h[14]=c,h[3]=u,h[7]=m,h[11]=f,h[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new a().fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new m;return function(t){var n=this.elements,r=t.elements,a=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),i=1/e.setFromMatrixColumn(t,2).length();return n[0]=r[0]*a,n[1]=r[1]*a,n[2]=r[2]*a,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*i,n[9]=r[9]*i,n[10]=r[10]*i,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error('THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');var n=this.elements,r=t.x,o=t.y,i=t.z,s=Yo(r),l=Xo(r),p=Yo(o),u=Xo(o),m=Yo(i),e=Xo(i);if('XYZ'===t.order){var g=s*m,h=s*e,y=l*m,x=l*e;n[0]=p*m,n[4]=-p*e,n[8]=u,n[1]=h+y*u,n[5]=g-x*u,n[9]=-l*p,n[2]=x-g*u,n[6]=y+h*u,n[10]=s*p}else if('YXZ'===t.order){var v=p*m,_=p*e,E=u*m,T=u*e;n[0]=v+T*l,n[4]=E*l-_,n[8]=s*u,n[1]=s*e,n[5]=s*m,n[9]=-l,n[2]=_*l-E,n[6]=T+v*l,n[10]=s*p}else if('ZXY'===t.order){var v=p*m,_=p*e,E=u*m,T=u*e;n[0]=v-T*l,n[4]=-s*e,n[8]=E+_*l,n[1]=_+E*l,n[5]=s*m,n[9]=T-v*l,n[2]=-s*u,n[6]=l,n[10]=s*p}else if('ZYX'===t.order){var g=s*m,h=s*e,y=l*m,x=l*e;n[0]=p*m,n[4]=y*u-h,n[8]=g*u+x,n[1]=p*e,n[5]=x*u+g,n[9]=h*u-y,n[2]=-u,n[6]=l*p,n[10]=s*p}else if('YZX'===t.order){var S=s*p,C=s*u,M=l*p,w=l*u;n[0]=p*m,n[4]=w-S*e,n[8]=M*e+C,n[1]=e,n[5]=s*m,n[9]=-l*m,n[2]=-u*m,n[6]=C*e+M,n[10]=S-w*e}else if('XZY'===t.order){var S=s*p,C=s*u,M=l*p,w=l*u;n[0]=p*m,n[4]=-e,n[8]=u*m,n[1]=S*e+w,n[5]=s*m,n[9]=C*e-M,n[2]=M*e-C,n[6]=l*m,n[10]=w*e+S}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e._x,r=e._y,a=e._z,o=e._w,i=n+n,s=r+r,d=a+a,l=n*i,p=n*s,c=n*d,u=r*s,m=r*d,f=a*d,g=o*i,h=o*s,y=o*d;return t[0]=1-(u+f),t[4]=p-y,t[8]=c+h,t[1]=p+y,t[5]=1-(l+f),t[9]=m-g,t[2]=c-h,t[6]=m+g,t[10]=1-(l+u),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new m,t=new m,n=new m;return function(r,a,o){var i=this.elements;return n.subVectors(r,a),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(o,n),0===e.lengthSq()&&(1===Ko(o.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(o,n)),e.normalize(),t.crossVectors(n,e),i[0]=e.x,i[4]=t.x,i[8]=n.x,i[1]=e.y,i[5]=t.y,i[9]=n.y,i[2]=e.z,i[6]=t.z,i[10]=n.z,this}}(),multiply:function(e,t){return void 0===t?this.multiplyMatrices(this,e):(console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.'),this.multiplyMatrices(e,t))},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,a=this.elements,o=n[0],i=n[4],s=n[8],d=n[12],l=n[1],p=n[5],c=n[9],u=n[13],m=n[2],f=n[6],g=n[10],h=n[14],y=n[3],x=n[7],v=n[11],b=n[15],_=r[0],E=r[4],T=r[8],S=r[12],C=r[1],M=r[5],w=r[9],R=r[13],P=r[2],A=r[6],L=r[10],I=r[14],N=r[3],D=r[7],U=r[11],k=r[15];return a[0]=o*_+i*C+s*P+d*N,a[4]=o*E+i*M+s*A+d*D,a[8]=o*T+i*w+s*L+d*U,a[12]=o*S+i*R+s*I+d*k,a[1]=l*_+p*C+c*P+u*N,a[5]=l*E+p*M+c*A+u*D,a[9]=l*T+p*w+c*L+u*U,a[13]=l*S+p*R+c*I+u*k,a[2]=m*_+f*C+g*P+h*N,a[6]=m*E+f*M+g*A+h*D,a[10]=m*T+f*w+g*L+h*U,a[14]=m*S+f*R+g*I+h*k,a[3]=y*_+x*C+v*P+b*N,a[7]=y*E+x*M+v*A+b*D,a[11]=y*T+x*w+v*L+b*U,a[15]=y*S+x*R+v*I+b*k,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new m;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],a=e[12],o=e[1],i=e[5],s=e[9],d=e[13],l=e[2],p=e[6],c=e[10],u=e[14],m=e[3],f=e[7],g=e[11],h=e[15];return m*(+a*s*p-r*d*p-a*i*c+n*d*c+r*i*u-n*s*u)+f*(+t*s*u-t*d*c+a*o*c-r*o*u+r*d*l-a*s*l)+g*(+t*d*p-t*i*u-a*o*p+n*o*u+a*i*l-n*d*l)+h*(-r*i*l-t*s*p+t*i*c+r*o*p-n*o*c+n*s*l)},transpose:function(){var e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,a=r[0],o=r[1],i=r[2],s=r[3],d=r[4],l=r[5],p=r[6],c=r[7],u=r[8],m=r[9],f=r[10],g=r[11],h=r[12],y=r[13],x=r[14],v=r[15],b=m*x*c-y*f*c+y*p*g-l*x*g-m*p*v+l*f*v,_=h*f*c-u*x*c-h*p*g+d*x*g+u*p*v-d*f*v,E=u*y*c-h*m*c+h*l*g-d*y*g-u*l*v+d*m*v,T=h*m*p-u*y*p-h*l*f+d*y*f+u*l*x-d*m*x,S=a*b+o*_+i*E+s*T;if(0==S){var C='THREE.Matrix4: .getInverse() can\'t invert matrix, determinant is 0';if(!0===t)throw new Error(C);else console.warn(C);return this.identity()}var M=1/S;return n[0]=b*M,n[1]=(y*f*s-m*x*s-y*i*g+o*x*g+m*i*v-o*f*v)*M,n[2]=(l*x*s-y*p*s+y*i*c-o*x*c-l*i*v+o*p*v)*M,n[3]=(m*p*s-l*f*s-m*i*c+o*f*c+l*i*g-o*p*g)*M,n[4]=_*M,n[5]=(u*x*s-h*f*s+h*i*g-a*x*g-u*i*v+a*f*v)*M,n[6]=(h*p*s-d*x*s-h*i*c+a*x*c+d*i*v-a*p*v)*M,n[7]=(d*f*s-u*p*s+u*i*c-a*f*c-d*i*g+a*p*g)*M,n[8]=E*M,n[9]=(h*m*s-u*y*s-h*o*g+a*y*g+u*o*v-a*m*v)*M,n[10]=(d*y*s-h*l*s+h*o*c-a*y*c-d*o*v+a*l*v)*M,n[11]=(u*l*s-d*m*s-u*o*c+a*m*c+d*o*g-a*l*g)*M,n[12]=T*M,n[13]=(u*y*i-h*m*i+h*o*f-a*y*f-u*o*x+a*m*x)*M,n[14]=(h*l*i-d*y*i-h*o*p+a*y*p+d*o*x-a*l*x)*M,n[15]=(d*m*i-u*l*i+u*o*p-a*m*p-d*o*f+a*l*f)*M,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,a=e.z;return t[0]*=n,t[4]*=r,t[8]*=a,t[1]*=n,t[5]*=r,t[9]*=a,t[2]*=n,t[6]*=r,t[10]*=a,t[3]*=n,t[7]*=r,t[11]*=a,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Zo(ni(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Yo(e),n=Xo(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Yo(e),n=Xo(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Yo(e),n=Xo(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,n){var r=Yo(n),a=Xo(n),o=1-r,t=e.x,i=e.y,s=e.z,d=o*t,l=o*i;return this.set(d*t+r,d*i-a*s,d*s+a*i,0,d*i+a*s,l*i+r,l*s-a*t,0,d*s-a*i,l*s+a*t,o*s*s+r,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e=new m,t=new a;return function(n,r,a){var o=this.elements,i=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),d=e.set(o[8],o[9],o[10]).length(),l=this.determinant();0>l&&(i=-i),n.x=o[12],n.y=o[13],n.z=o[14],t.copy(this);var p=1/i,c=1/s,u=1/d;return t.elements[0]*=p,t.elements[1]*=p,t.elements[2]*=p,t.elements[4]*=c,t.elements[5]*=c,t.elements[6]*=c,t.elements[8]*=u,t.elements[9]*=u,t.elements[10]*=u,r.setFromRotationMatrix(t),a.x=i,a.y=s,a.z=d,this}}(),makePerspective:function(e,t,n,r,a,o){void 0===o&&console.warn('THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.');var i=this.elements;return i[0]=2*a/(t-e),i[4]=0,i[8]=(t+e)/(t-e),i[12]=0,i[1]=0,i[5]=2*a/(n-r),i[9]=(n+r)/(n-r),i[13]=0,i[2]=0,i[6]=0,i[10]=-(o+a)/(o-a),i[14]=-2*o*a/(o-a),i[3]=0,i[7]=0,i[11]=-1,i[15]=0,this},makeOrthographic:function(e,t,n,r,a,o){var i=this.elements,s=1/(t-e),d=1/(n-r),l=1/(o-a);return i[0]=2*s,i[4]=0,i[8]=0,i[12]=-((t+e)*s),i[1]=0,i[5]=2*d,i[9]=0,i[13]=-((n+r)*d),i[2]=0,i[6]=0,i[10]=-2*l,i[14]=-((o+a)*l),i[3]=0,i[7]=0,i[11]=0,i[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;16>r;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(var n=0;16>n;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(i,{slerp:function(e,n,r,a){return r.copy(e).slerp(n,a)},slerpFlat:function(e,n,r,a,o,i,d){var t=r[a+0],l=r[a+1],p=r[a+2],c=r[a+3],u=o[i+0],m=o[i+1],g=o[i+2],h=o[i+3];if(c!==h||t!==u||l!==m||p!==g){var y=1-d,s=t*u+l*m+p*g+c*h,x=0<=s?1:-1,v=1-s*s;if(v>ii){var b=Zo(v),_=qo(b,s*x);y=Xo(y*_)/b,d=Xo(d*_)/b}var E=d*x;if(t=t*y+u*E,l=l*y+m*E,p=p*y+g*E,c=c*y+h*E,y==1-d){var T=1/Zo(t*t+l*l+p*p+c*c);t*=T,l*=T,p*=T,c*=T}}e[n]=t,e[n+1]=l,e[n+2]=p,e[n+3]=c}}),Object.defineProperties(i.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(i.prototype,{set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!(e&&e.isEuler))throw new Error('THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.');var n=e._x,r=e._y,a=e._z,o=e.order,i=Yo,s=Xo,d=i(n/2),l=i(r/2),p=i(a/2),c=s(n/2),u=s(r/2),m=s(a/2);return'XYZ'===o?(this._x=c*l*p+d*u*m,this._y=d*u*p-c*l*m,this._z=d*l*m+c*u*p,this._w=d*l*p-c*u*m):'YXZ'===o?(this._x=c*l*p+d*u*m,this._y=d*u*p-c*l*m,this._z=d*l*m-c*u*p,this._w=d*l*p+c*u*m):'ZXY'===o?(this._x=c*l*p-d*u*m,this._y=d*u*p+c*l*m,this._z=d*l*m+c*u*p,this._w=d*l*p-c*u*m):'ZYX'===o?(this._x=c*l*p-d*u*m,this._y=d*u*p+c*l*m,this._z=d*l*m-c*u*p,this._w=d*l*p+c*u*m):'YZX'===o?(this._x=c*l*p+d*u*m,this._y=d*u*p+c*l*m,this._z=d*l*m-c*u*p,this._w=d*l*p-c*u*m):'XZY'===o&&(this._x=c*l*p-d*u*m,this._y=d*u*p-c*l*m,this._z=d*l*m+c*u*p,this._w=d*l*p+c*u*m),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Xo(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Yo(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t=e.elements,n=t[0],r=t[4],a=t[8],o=t[1],i=t[5],d=t[9],l=t[2],p=t[6],c=t[10],u=n+i+c,m;return 0<u?(m=0.5/Zo(u+1),this._w=0.25/m,this._x=(p-d)*m,this._y=(a-l)*m,this._z=(o-r)*m):n>i&&n>c?(m=2*Zo(1+n-i-c),this._w=(p-d)/m,this._x=0.25*m,this._y=(r+o)/m,this._z=(a+l)/m):i>c?(m=2*Zo(1+i-n-c),this._w=(a-l)/m,this._x=(r+o)/m,this._y=0.25*m,this._z=(d+p)/m):(m=2*Zo(1+c-n-i),this._w=(o-r)/m,this._x=(a+l)/m,this._y=(d+p)/m,this._z=0.25*m),this.onChangeCallback(),this},setFromUnitVectors:function(){var e=new m,t;return function(n,r){return void 0===e&&(e=new m),t=n.dot(r)+1,t<1e-6?(t=0,Ko(n.x)>Ko(n.z)?e.set(-n.y,n.x,0):e.set(0,-n.z,n.y)):e.crossVectors(n,r),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Zo(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e),this.onChangeCallback(),this},multiply:function(e,t){return void 0===t?this.multiplyQuaternions(this,e):(console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.'),this.multiplyQuaternions(e,t))},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,a=e._z,o=e._w,i=t._x,s=t._y,d=t._z,l=t._w;return this._x=n*l+o*i+r*d-a*s,this._y=r*l+o*s+a*i-n*d,this._z=a*l+o*d+n*s-r*i,this._w=o*l-n*i-r*s-a*d,this.onChangeCallback(),this},slerp:function(e,n){if(0===n)return this;if(1===n)return this.copy(e);var t=this._x,r=this._y,a=this._z,o=this._w,i=o*e._w+t*e._x+r*e._y+a*e._z;if(0>i?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,i=-i):this.copy(e),1<=i)return this._w=o,this._x=t,this._y=r,this._z=a,this;var s=Zo(1-i*i);if(1e-3>Ko(s))return this._w=0.5*(o+this._w),this._x=0.5*(t+this._x),this._y=0.5*(r+this._y),this._z=0.5*(a+this._z),this;var d=qo(s,i),l=Xo((1-n)*d)/s,p=Xo(n*d)/s;return this._w=o*l+this._w*p,this._x=t*l+this._x*p,this._y=r*l+this._y*p,this._z=a*l+this._z*p,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(m.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error('index is out of range: '+e);}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error('index is out of range: '+e);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0===t?(this.x+=e.x,this.y+=e.y,this.z+=e.z,this):(console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.'),this.addVectors(e,t))},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0===t?(this.x-=e.x,this.y-=e.y,this.z-=e.z,this):(console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.'),this.subVectors(e,t))},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0===t?(this.x*=e.x,this.y*=e.y,this.z*=e.z,this):(console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.'),this.multiplyVectors(e,t))},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new i;return function(t){return t&&t.isEuler||console.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.'),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new i;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(t){var n=this.x,r=this.y,a=this.z,o=t.elements;return this.x=o[0]*n+o[3]*r+o[6]*a,this.y=o[1]*n+o[4]*r+o[7]*a,this.z=o[2]*n+o[5]*r+o[8]*a,this},applyMatrix4:function(t){var n=this.x,r=this.y,a=this.z,o=t.elements,e=1/(o[3]*n+o[7]*r+o[11]*a+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*a+o[12])*e,this.y=(o[1]*n+o[5]*r+o[9]*a+o[13])*e,this.z=(o[2]*n+o[6]*r+o[10]*a+o[14])*e,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,a=e.x,o=e.y,i=e.z,s=e.w,d=s*t+o*r-i*n,l=s*n+i*t-a*r,p=s*r+a*n-o*t,c=-a*t-o*n-i*r;return this.x=d*s+c*-a+l*-i-p*-o,this.y=l*s+c*-o+p*-a-d*-i,this.z=p*s+c*-i+d*-o-l*-a,this},project:function(){var e=new a;return function(t){return e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e=new a;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function(t){var n=this.x,r=this.y,a=this.z,o=t.elements;return this.x=o[0]*n+o[4]*r+o[8]*a,this.y=o[1]*n+o[5]*r+o[9]*a,this.z=o[2]*n+o[6]*r+o[10]*a,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=si(this.x,e.x),this.y=si(this.y,e.y),this.z=si(this.z,e.z),this},max:function(e){return this.x=ni(this.x,e.x),this.y=ni(this.y,e.y),this.z=ni(this.z,e.z),this},clamp:function(e,t){return this.x=ni(e.x,si(t.x,this.x)),this.y=ni(e.y,si(t.y,this.y)),this.z=ni(e.z,si(t.z,this.z)),this},clampScalar:function(){var e=new m,t=new m;return function(n,r){return e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(ni(e,si(t,n)))},floor:function(){return this.x=ai(this.x),this.y=ai(this.y),this.z=ai(this.z),this},ceil:function(){return this.x=$o(this.x),this.y=$o(this.y),this.z=$o(this.z),this},round:function(){return this.x=Jo(this.x),this.y=Jo(this.y),this.z=Jo(this.z),this},roundToZero:function(){return this.x=0>this.x?$o(this.x):ai(this.x),this.y=0>this.y?$o(this.y):ai(this.y),this.z=0>this.z?$o(this.z):ai(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Zo(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Ko(this.x)+Ko(this.y)+Ko(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0===t?this.crossVectors(this,e):(console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.'),this.crossVectors(e,t))},crossVectors:function(e,t){var n=e.x,r=e.y,a=e.z,o=t.x,i=t.y,s=t.z;return this.x=r*s-a*i,this.y=a*o-n*s,this.z=n*i-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new m;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new m;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Zo(this.lengthSq()*e.lengthSq());return jo(wd.clamp(t,-1,1))},distanceTo:function(e){return Zo(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Ko(this.x-e.x)+Ko(this.y-e.y)+Ko(this.z-e.z)},setFromSpherical:function(e){var t=Xo(e.phi)*e.radius;return this.x=t*Xo(e.theta),this.y=Yo(e.phi)*e.radius,this.z=t*Yo(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Xo(e.theta),this.y=e.y,this.z=e.radius*Yo(e.theta),this},setFromMatrixPosition:function(t){var n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn('THREE.Vector3: offset has been removed from .fromBufferAttribute().'),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(s.prototype,{isMatrix3:!0,set:function(e,t,n,r,a,o,i,s,d){var l=this.elements;return l[0]=e,l[1]=r,l[2]=i,l[3]=t,l[4]=a,l[5]=s,l[6]=n,l[7]=o,l[8]=d,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new m;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,a=this.elements,o=n[0],i=n[3],s=n[6],d=n[1],l=n[4],p=n[7],c=n[2],u=n[5],m=n[8],f=r[0],g=r[3],h=r[6],y=r[1],x=r[4],v=r[7],b=r[2],_=r[5],E=r[8];return a[0]=o*f+i*y+s*b,a[3]=o*g+i*x+s*_,a[6]=o*h+i*v+s*E,a[1]=d*f+l*y+p*b,a[4]=d*g+l*x+p*_,a[7]=d*h+l*v+p*E,a[2]=c*f+u*y+m*b,a[5]=c*g+u*x+m*_,a[8]=c*h+u*v+m*E,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var t=this.elements,n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],e=t[5],d=t[6],l=t[7],p=t[8];return n*s*p-n*e*l-r*o*p+r*e*d+a*o*l-a*s*d},getInverse:function(e,t){e&&e.isMatrix4&&console.error('THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.');var n=e.elements,r=this.elements,a=n[0],o=n[1],i=n[2],s=n[3],d=n[4],l=n[5],p=n[6],c=n[7],u=n[8],m=u*d-l*c,f=l*p-u*s,g=c*s-d*p,h=a*m+o*f+i*g;if(0==h){var y='THREE.Matrix3: .getInverse() can\'t invert matrix, determinant is 0';if(!0===t)throw new Error(y);else console.warn(y);return this.identity()}var x=1/h;return r[0]=m*x,r[1]=(i*c-u*o)*x,r[2]=(l*o-i*d)*x,r[3]=f*x,r[4]=(u*a-i*p)*x,r[5]=(i*s-l*a)*x,r[6]=g*x,r[7]=(o*p-c*a)*x,r[8]=(d*a-o*s)*x,this},transpose:function(){var e=this.elements,t;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,a,o,i){var d=Yo(a),l=Xo(a);this.set(n*d,n*l,-n*(d*o+l*i)+o+e,-r*l,r*d,-r*(-l*o+d*i)+i+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Yo(e),n=Xo(e),r=this.elements,a=r[0],o=r[3],i=r[6],d=r[1],l=r[4],p=r[7];return r[0]=t*a+n*d,r[3]=t*o+n*l,r[6]=t*i+n*p,r[1]=-n*a+t*d,r[4]=-n*o+t*l,r[7]=-n*i+t*p,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;9>r;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(var n=0;9>n;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Rd=0;d.DEFAULT_IMAGE=void 0,d.DEFAULT_MAPPING=ms,d.prototype=Object.assign(Object.create(r.prototype),{constructor:d,isTexture:!0,clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){function t(e){var t;if(e instanceof HTMLCanvasElement)t=e;else{t=document.createElementNS('http://www.w3.org/1999/xhtml','canvas'),t.width=e.width,t.height=e.height;var n=t.getContext('2d');e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height)}return 2048<t.width||2048<t.height?t.toDataURL('image/jpeg',0.6):t.toDataURL('image/png')}var n=void 0===e||'string'==typeof e;if(!n&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var r={metadata:{version:4.5,type:'Texture',generator:'Texture.toJSON'},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var a=this.image;void 0===a.uuid&&(a.uuid=wd.generateUUID()),n||void 0!==e.images[a.uuid]||(e.images[a.uuid]={uuid:a.uuid,url:t(a)}),r.image=a.uuid}return n||(e.textures[this.uuid]=r),r},dispose:function(){this.dispatchEvent({type:'dispose'})},transformUv:function(e){if(this.mapping===ms){if(e.applyMatrix3(this.matrix),0>e.x||1<e.x)switch(this.wrapS){case _s:e.x-=ai(e.x);break;case Es:e.x=0>e.x?0:1;break;case Ts:1===Ko(ai(e.x)%2)?e.x=$o(e.x)-e.x:e.x-=ai(e.x);}if(0>e.y||1<e.y)switch(this.wrapT){case _s:e.y-=ai(e.y);break;case Es:e.y=0>e.y?0:1;break;case Ts:1===Ko(ai(e.y)%2)?e.y=$o(e.y)-e.y:e.y-=ai(e.y);}this.flipY&&(e.y=1-e.y)}}}),Object.defineProperty(d.prototype,'needsUpdate',{set:function(e){!0===e&&this.version++}}),Object.assign(p.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error('index is out of range: '+e);}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error('index is out of range: '+e);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0===e.w?1:e.w,this},add:function(e,t){return void 0===t?(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this):(console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.'),this.addVectors(e,t))},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0===t?(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this):(console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.'),this.subVectors(e,t))},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(t){var n=this.x,r=this.y,a=this.z,o=this.w,i=t.elements;return this.x=i[0]*n+i[4]*r+i[8]*a+i[12]*o,this.y=i[1]*n+i[5]*r+i[9]*a+i[13]*o,this.z=i[2]*n+i[6]*r+i[10]*a+i[14]*o,this.w=i[3]*n+i[7]*r+i[11]*a+i[15]*o,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*jo(e.w);var t=Zo(1-e.w*e.w);return 1e-4>t?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t=0.01,n=0.1,r=e.elements,a=r[0],o=r[4],i=r[8],d=r[1],l=r[5],p=r[9],c=r[2],u=r[6],m=r[10],f,g,h,y;if(Ko(o-d)<t&&Ko(i-c)<t&&Ko(p-u)<t){if(Ko(o+d)<n&&Ko(i+c)<n&&Ko(p+u)<n&&Ko(a+l+m-3)<n)return this.set(1,0,0,0),this;f=di;var x=(a+1)/2,v=(l+1)/2,b=(m+1)/2,_=(o+d)/4,E=(i+c)/4,T=(p+u)/4;return x>v&&x>b?x<t?(g=0,h=0.707106781,y=0.707106781):(g=Zo(x),h=_/g,y=E/g):v>b?v<t?(g=0.707106781,h=0,y=0.707106781):(h=Zo(v),g=_/h,y=T/h):b<t?(g=0.707106781,h=0.707106781,y=0):(y=Zo(b),g=E/y,h=T/y),this.set(g,h,y,f),this}var S=Zo((u-p)*(u-p)+(i-c)*(i-c)+(d-o)*(d-o));return 1e-3>Ko(S)&&(S=1),this.x=(u-p)/S,this.y=(i-c)/S,this.z=(d-o)/S,this.w=jo((a+l+m-1)/2),this},min:function(e){return this.x=si(this.x,e.x),this.y=si(this.y,e.y),this.z=si(this.z,e.z),this.w=si(this.w,e.w),this},max:function(e){return this.x=ni(this.x,e.x),this.y=ni(this.y,e.y),this.z=ni(this.z,e.z),this.w=ni(this.w,e.w),this},clamp:function(e,t){return this.x=ni(e.x,si(t.x,this.x)),this.y=ni(e.y,si(t.y,this.y)),this.z=ni(e.z,si(t.z,this.z)),this.w=ni(e.w,si(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0==e&&(e=new p,t=new p),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(ni(e,si(t,n)))},floor:function(){return this.x=ai(this.x),this.y=ai(this.y),this.z=ai(this.z),this.w=ai(this.w),this},ceil:function(){return this.x=$o(this.x),this.y=$o(this.y),this.z=$o(this.z),this.w=$o(this.w),this},round:function(){return this.x=Jo(this.x),this.y=Jo(this.y),this.z=Jo(this.z),this.w=Jo(this.w),this},roundToZero:function(){return this.x=0>this.x?$o(this.x):ai(this.x),this.y=0>this.y?$o(this.y):ai(this.y),this.z=0>this.z?$o(this.z):ai(this.z),this.w=0>this.w?$o(this.w):ai(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Zo(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Ko(this.x)+Ko(this.y)+Ko(this.z)+Ko(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn('THREE.Vector4: offset has been removed from .fromBufferAttribute().'),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),l.prototype=Object.assign(Object.create(r.prototype),{constructor:l,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:'dispose'})}}),c.prototype=Object.create(l.prototype),c.prototype.constructor=c,c.prototype.isWebGLRenderTargetCube=!0,u.prototype=Object.create(d.prototype),u.prototype.constructor=u,u.prototype.isDataTexture=!0,f.prototype=Object.create(d.prototype),f.prototype.constructor=f,f.prototype.isCubeTexture=!0,Object.defineProperty(f.prototype,'images',{get:function(){return this.image},set:function(e){this.image=e}});var Pd=new d,Ad=new f,Ld=[],Id=[],Nd=new Float32Array(16),Dd=new Float32Array(9);j.prototype.setValue=function(e,t){for(var r=this.seq,a=0,o=r.length,n;a!==o;++a)n=r[a],n.setValue(e,t[n.id])};var Ud=/([\w\d_]+)(\])?(\[|\.)?/g;q.prototype.setValue=function(e,t,n){var r=this.map[t];r!==void 0&&r.setValue(e,n,this.renderer)},q.prototype.setOptional=function(e,t,n){var r=t[n];r!==void 0&&this.setValue(e,n,r)},q.upload=function(e,t,r,a){for(var o=0,i=t.length;o!==i;++o){var n=t[o],s=r[n.id];!1!==s.needsUpdate&&n.setValue(e,s.value,a)}},q.seqWithValue=function(e,t){for(var a=[],r=0,o=e.length,n;r!==o;++r)n=e[r],n.id in t&&a.push(n);return a};var kd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(K.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):'number'==typeof e?this.setHex(e):'string'==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=ai(e),this.r=(255&e>>16)/255,this.g=(255&e>>8)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,n,r){return 0>r&&(r+=1),1<r&&(r-=1),r<1/6?e+6*(n-e)*r:r<1/2?n:r<2/3?e+6*(n-e)*(2/3-r):e}return function(t,n,r){if(t=wd.euclideanModulo(t,1),n=wd.clamp(n,0,1),r=wd.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var a=0.5>=r?r*(1+n):r+n-r*n,o=2*r-a;this.r=e(o,a,t+1/3),this.g=e(o,a,t),this.b=e(o,a,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0===t||1>parseFloat(t)&&console.warn('THREE.Color: Alpha component of '+e+' will be ignored.')}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r=n[1],a=n[2],o;switch(r){case'rgb':case'rgba':if(o=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=si(255,parseInt(o[1],10))/255,this.g=si(255,parseInt(o[2],10))/255,this.b=si(255,parseInt(o[3],10))/255,t(o[5]),this;if(o=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=si(100,parseInt(o[1],10))/100,this.g=si(100,parseInt(o[2],10))/100,this.b=si(100,parseInt(o[3],10))/100,t(o[5]),this;break;case'hsl':case'hsla':if(o=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var i=parseFloat(o[1])/360,d=parseInt(o[2],10)/100,s=parseInt(o[3],10)/100;return t(o[5]),this.setHSL(i,d,s)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=n[1],p=l.length;if(3===p)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===p)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}if(e&&0<e.length){var l=kd[e];void 0===l?console.warn('THREE.Color: Unknown color '+e):this.setHex(l)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Qo(e.r,t),this.g=Qo(e.g,t),this.b=Qo(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=0<t?1/t:1;return this.r=Qo(e.r,n),this.g=Qo(e.g,n),this.b=Qo(e.b,n),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Zo(this.r),this.g=Zo(this.g),this.b=Zo(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return('000000'+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t=e||{h:0,s:0,l:0},n=this.r,r=this.g,a=this.b,o=ni(n,r,a),i=si(n,r,a),s=(i+o)/2,d,l;if(i===o)d=0,l=0;else{var p=o-i;l=0.5>=s?p/(o+i):p/(2-o-i),o===n?d=(r-a)/p+(r<a?6:0):o===r?d=(a-n)/p+2:o===a?d=(n-r)/p+4:void 0,d/=6}return t.h=d,t.s=l,t.l=s,t},getStyle:function(){return'rgb('+(0|255*this.r)+','+(0|255*this.g)+','+(0|255*this.b)+')'},offsetHSL:function(e,t,n){var r=this.getHSL();return r.h+=e,r.s+=t,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=ni(0,this.r-e.r),this.g=ni(0,this.g-e.g),this.b=ni(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Od={common:{diffuse:{value:new K(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new s},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:0.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new o(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5e-4},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new K(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new K(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new s}}},Fd={merge:function(e){for(var t={},n=0,r;n<e.length;n++)for(var a in r=this.clone(e[n]),r)t[a]=r[a];return t},clone:function(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var a=e[n][r];t[n][r]=a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture)?a.clone():Array.isArray(a)?a.slice():a}return t}},zd={alphamap_fragment:'#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n',alphamap_pars_fragment:'#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n',alphatest_fragment:'#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n',aomap_fragment:'#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n',aomap_pars_fragment:'#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif',begin_vertex:'\nvec3 transformed = vec3( position );\n',beginnormal_vertex:'\nvec3 objectNormal = vec3( normal );\n',bsdfs:'float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n',bumpmap_pars_fragment:'#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n',clipping_planes_fragment:'#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n',clipping_planes_pars_fragment:'#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n',clipping_planes_pars_vertex:'#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n',clipping_planes_vertex:'#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n',color_fragment:'#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif',color_pars_fragment:'#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n',color_pars_vertex:'#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif',color_vertex:'#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif',common:'#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n',cube_uv_reflection_fragment:'#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n',defaultnormal_vertex:'vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n',displacementmap_pars_vertex:'#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n',displacementmap_vertex:'#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n',emissivemap_fragment:'#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n',emissivemap_pars_fragment:'#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n',encodings_fragment:'  gl_FragColor = linearToOutputTexel( gl_FragColor );\n',encodings_pars_fragment:'\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n',envmap_fragment:'#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n',envmap_pars_fragment:'#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n',envmap_pars_vertex:'#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n',envmap_vertex:'#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n',fog_vertex:'\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif',fog_pars_vertex:'#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n',fog_fragment:'#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n',fog_pars_fragment:'#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n',gradientmap_pars_fragment:'#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n',lightmap_fragment:'#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n',lightmap_pars_fragment:'#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif',lights_lambert_vertex:'vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n',lights_pars:'uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n',lights_phong_fragment:'BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n',lights_phong_pars_fragment:'varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n',lights_physical_fragment:'PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n',lights_physical_pars_fragment:'struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n',lights_template:'\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n',logdepthbuf_fragment:'#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif',logdepthbuf_pars_fragment:'#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n',logdepthbuf_pars_vertex:'#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif',logdepthbuf_vertex:'#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n',map_fragment:'#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n',map_pars_fragment:'#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n',map_particle_fragment:'#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n',map_particle_pars_fragment:'#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n',metalnessmap_fragment:'float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n',metalnessmap_pars_fragment:'#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif',morphnormal_vertex:'#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n',morphtarget_pars_vertex:'#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif',morphtarget_vertex:'#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n',normal_fragment:'#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n',normalmap_pars_fragment:'#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n',packing:'vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n',premultiplied_alpha_fragment:'#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n',project_vertex:'vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n',dithering_fragment:'#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n',dithering_pars_fragment:'#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n',roughnessmap_fragment:'float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n',roughnessmap_pars_fragment:'#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif',shadowmap_pars_fragment:'#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n',shadowmap_pars_vertex:'#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n',shadowmap_vertex:'#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n',shadowmask_pars_fragment:'float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n',skinbase_vertex:'#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif',skinning_pars_vertex:'#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n',skinning_vertex:'#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n',skinnormal_vertex:'#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n',specularmap_fragment:'float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif',specularmap_pars_fragment:'#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif',tonemapping_fragment:'#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n',tonemapping_pars_fragment:'#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n',uv_pars_fragment:'#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif',uv_pars_vertex:'#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n',uv_vertex:'#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif',uv2_pars_fragment:'#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif',uv2_pars_vertex:'#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif',uv2_vertex:'#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif',worldpos_vertex:'#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n',cube_frag:'uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n',cube_vert:'varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n',depth_frag:'#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n',depth_vert:'#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n',distanceRGBA_frag:'#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n',distanceRGBA_vert:'#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n',equirect_frag:'uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n',equirect_vert:'varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n',linedashed_frag:'uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n',linedashed_vert:'uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n',meshbasic_frag:'uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n',meshbasic_vert:'#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n',meshlambert_frag:'uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n',meshlambert_vert:'#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n',meshphong_frag:'#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n',meshphong_vert:'#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n',meshphysical_frag:'#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n',meshphysical_vert:'#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n',normal_frag:'#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n',normal_vert:'#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n',points_frag:'uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n',points_vert:'uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n',shadow_frag:'uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n',shadow_vert:'#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n'},Bd={basic:{uniforms:Fd.merge([Od.common,Od.specularmap,Od.envmap,Od.aomap,Od.lightmap,Od.fog]),vertexShader:zd.meshbasic_vert,fragmentShader:zd.meshbasic_frag},lambert:{uniforms:Fd.merge([Od.common,Od.specularmap,Od.envmap,Od.aomap,Od.lightmap,Od.emissivemap,Od.fog,Od.lights,{emissive:{value:new K(0)}}]),vertexShader:zd.meshlambert_vert,fragmentShader:zd.meshlambert_frag},phong:{uniforms:Fd.merge([Od.common,Od.specularmap,Od.envmap,Od.aomap,Od.lightmap,Od.emissivemap,Od.bumpmap,Od.normalmap,Od.displacementmap,Od.gradientmap,Od.fog,Od.lights,{emissive:{value:new K(0)},specular:{value:new K(1118481)},shininess:{value:30}}]),vertexShader:zd.meshphong_vert,fragmentShader:zd.meshphong_frag},standard:{uniforms:Fd.merge([Od.common,Od.envmap,Od.aomap,Od.lightmap,Od.emissivemap,Od.bumpmap,Od.normalmap,Od.displacementmap,Od.roughnessmap,Od.metalnessmap,Od.fog,Od.lights,{emissive:{value:new K(0)},roughness:{value:0.5},metalness:{value:0.5},envMapIntensity:{value:1}}]),vertexShader:zd.meshphysical_vert,fragmentShader:zd.meshphysical_frag},points:{uniforms:Fd.merge([Od.points,Od.fog]),vertexShader:zd.points_vert,fragmentShader:zd.points_frag},dashed:{uniforms:Fd.merge([Od.common,Od.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:zd.linedashed_vert,fragmentShader:zd.linedashed_frag},depth:{uniforms:Fd.merge([Od.common,Od.displacementmap]),vertexShader:zd.depth_vert,fragmentShader:zd.depth_frag},normal:{uniforms:Fd.merge([Od.common,Od.bumpmap,Od.normalmap,Od.displacementmap,{opacity:{value:1}}]),vertexShader:zd.normal_vert,fragmentShader:zd.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:zd.cube_vert,fragmentShader:zd.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:zd.equirect_vert,fragmentShader:zd.equirect_frag},distanceRGBA:{uniforms:Fd.merge([Od.common,Od.displacementmap,{referencePosition:{value:new m},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:zd.distanceRGBA_vert,fragmentShader:zd.distanceRGBA_frag},shadow:{uniforms:Fd.merge([Od.lights,Od.fog,{color:{value:new K(0)},opacity:{value:1}}]),vertexShader:zd.shadow_vert,fragmentShader:zd.shadow_frag}};Bd.physical={uniforms:Fd.merge([Bd.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:zd.meshphysical_vert,fragmentShader:zd.meshphysical_frag},Object.assign(Z.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new o;return function(t,n){var r=e.copy(n).multiplyScalar(0.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=+Infinity,this.max.x=this.max.y=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new o;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(0.5)},getSize:function(e){var t=e||new o;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y?!1:!0},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){var n=t||new o;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y?!1:!0},clampPoint:function(e,t){var n=t||new o;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new o;return function(t){var n=e.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Q.prototype=Object.create(d.prototype),Q.prototype.constructor=Q;var Hd=0;ee.prototype=Object.assign(Object.create(r.prototype),{constructor:ee,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0===n){console.warn('THREE.Material: \''+t+'\' parameter is undefined.');continue}if('shading'==t){console.warn('THREE.'+this.type+': .shading has been removed. Use the boolean .flatShading instead.'),this.flatShading=n===Si;continue}var r=this[t];if(void 0===r){console.warn('THREE.'+this.type+': \''+t+'\' is not a property of this material.');continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):'overdraw'==t?this[t]=+n:this[t]=n}},toJSON:function(e){function t(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var n=void 0===e||'string'==typeof e;n&&(e={textures:{},images:{}});var r={metadata:{version:4.5,type:'Material',generator:'Material.toJSON'}};if(r.uuid=this.uuid,r.type=this.type,''!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Ai&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),this.side!==_i&&(r.side=this.side),this.vertexColors!==Mi&&(r.vertexColors=this.vertexColors),1>this.opacity&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,0!==this.rotation&&(r.rotation=this.rotation),1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),0<this.alphaTest&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),1<this.wireframeLinewidth&&(r.wireframeLinewidth=this.wireframeLinewidth),'round'!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),'round'!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),'{}'!==JSON.stringify(this.userData)&&(r.userData=this.userData),n){var a=t(e.textures),o=t(e.images);0<a.length&&(r.textures=a),0<o.length&&(r.images=o)}return r},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,r=null;if(null!==t){var a=t.length;r=Array(a);for(var n=0;n!==a;++n)r[n]=t[n].clone()}return this.clippingPlanes=r,this},dispose:function(){this.dispatchEvent({type:'dispose'})}}),te.prototype=Object.create(ee.prototype),te.prototype.constructor=te,te.prototype.isMeshDepthMaterial=!0,te.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},ne.prototype=Object.create(ee.prototype),ne.prototype.constructor=ne,ne.prototype.isMeshDistanceMaterial=!0,ne.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Object.assign(re.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=+Infinity,n=+Infinity,r=+Infinity,a=-Infinity,o=-Infinity,s=-Infinity,d=0,i=e.length;d<i;d+=3){var l=e[d],p=e[d+1],c=e[d+2];l<t&&(t=l),p<n&&(n=p),c<r&&(r=c),l>a&&(a=l),p>o&&(o=p),c>s&&(s=c)}return this.min.set(t,n,r),this.max.set(a,o,s),this},setFromBufferAttribute:function(e){for(var t=+Infinity,n=+Infinity,r=+Infinity,a=-Infinity,o=-Infinity,s=-Infinity,d=0,i=e.count;d<i;d++){var l=e.getX(d),p=e.getY(d),c=e.getZ(d);l<t&&(t=l),p<n&&(n=p),c<r&&(r=c),l>a&&(a=l),p>o&&(o=p),c>s&&(s=c)}return this.min.set(t,n,r),this.max.set(a,o,s),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new m;return function(t,n){var r=e.copy(n).multiplyScalar(0.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=+Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new m;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(0.5)},getSize:function(e){var t=e||new m;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){function e(e){var o=e.geometry;if(o!==void 0)if(o.isGeometry){var i=o.vertices;for(r=0,a=i.length;r<a;r++)t.copy(i[r]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(r=0,a=s.count;r<a;r++)t.fromBufferAttribute(s,r).applyMatrix4(e.matrixWorld),n.expandByPoint(t)}}var t=new m,n,r,a;return function(t){return n=this,t.updateMatrixWorld(!0),t.traverse(e),this}}(),containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z?!1:!0},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){var n=t||new m;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z?!1:!0},intersectsSphere:function(){var e=new m;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return 0<e.normal.x?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},clampPoint:function(e,t){var n=t||new m;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new m;return function(t){var n=e.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),getBoundingSphere:function(){var e=new m;return function(t){var n=t||new ae;return this.getCenter(n.center),n.radius=0.5*this.getSize(e).length(),n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new m,new m,new m,new m,new m,new m,new m,new m];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(ae.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new re;return function(t,n){var r=this.center;void 0===n?e.setFromPoints(t).getCenter(r):r.copy(n);for(var a=0,o=0,i=t.length;o<i;o++)a=ni(a,r.distanceToSquared(t[o]));return this.radius=Zo(a),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return 0>=this.radius},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Ko(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),r=t||new m;return r.copy(e),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){var t=e||new re;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(oe.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new m,t=new m;return function(n,r,a){var o=e.subVectors(a,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){var n=t||new m;return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new m;return function(n,r){var a=r||new m,o=n.delta(e),i=this.normal.dot(o);if(0===i)return 0===this.distanceToPoint(n.start)?a.copy(n.start):void 0;var s=-(n.start.dot(this.normal)+this.constant)/i;return 0>s||1<s?void 0:a.copy(o).multiplyScalar(s).add(n.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return 0>t&&0<n||0>n&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){var t=e||new m;return t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new m,t=new s;return function(n,r){var a=r||t.getNormalMatrix(n),o=this.coplanarPoint(e).applyMatrix4(n),i=this.normal.applyMatrix3(a).normalize();return this.constant=-o.dot(i),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(ie.prototype,{set:function(e,t,n,r,a,o){var i=this.planes;return i[0].copy(e),i[1].copy(t),i[2].copy(n),i[3].copy(r),i[4].copy(a),i[5].copy(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){for(var t=this.planes,n=0;6>n;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],a=n[1],o=n[2],i=n[3],s=n[4],d=n[5],l=n[6],p=n[7],c=n[8],u=n[9],m=n[10],f=n[11],g=n[12],h=n[13],y=n[14],x=n[15];return t[0].setComponents(i-r,p-s,f-c,x-g).normalize(),t[1].setComponents(i+r,p+s,f+c,x+g).normalize(),t[2].setComponents(i+a,p+d,f+u,x+h).normalize(),t[3].setComponents(i-a,p-d,f-u,x-h).normalize(),t[4].setComponents(i-o,p-l,f-m,x-y).normalize(),t[5].setComponents(i+o,p+l,f+m,x+y).normalize(),this},intersectsObject:function(){var e=new ae;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new ae;return function(t){return e.center.set(0,0,0),e.radius=0.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,a=0,o;6>a;a++)if(o=t[a].distanceToPoint(n),o<r)return!1;return!0},intersectsBox:function(){var e=new m,t=new m;return function(n){for(var r=this.planes,a=0,o;6>a;a++){o=r[a],e.x=0<o.normal.x?n.min.x:n.max.x,t.x=0<o.normal.x?n.max.x:n.min.x,e.y=0<o.normal.y?n.min.y:n.max.y,t.y=0<o.normal.y?n.max.y:n.min.y,e.z=0<o.normal.z?n.min.z:n.max.z,t.z=0<o.normal.z?n.max.z:n.min.z;var i=o.distanceToPoint(e),s=o.distanceToPoint(t);if(0>i&&0>s)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;6>n;n++)if(0>t[n].distanceToPoint(e))return!1;return!0}}),le.RotationOrders=['XYZ','YZX','ZXY','XZY','YXZ','ZYX'],le.DefaultOrder='XYZ',Object.defineProperties(le.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(le.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Math.asin,a=wd.clamp,o=e.elements,i=o[0],s=o[4],d=o[8],l=o[1],p=o[5],c=o[9],u=o[2],m=o[6],f=o[10];return t=t||this._order,'XYZ'===t?(this._y=r(a(d,-1,1)),0.99999>Ko(d)?(this._x=qo(-c,f),this._z=qo(-s,i)):(this._x=qo(m,p),this._z=0)):'YXZ'===t?(this._x=r(-a(c,-1,1)),0.99999>Ko(c)?(this._y=qo(d,f),this._z=qo(l,p)):(this._y=qo(-u,i),this._z=0)):'ZXY'===t?(this._x=r(a(m,-1,1)),0.99999>Ko(m)?(this._y=qo(-u,f),this._z=qo(-s,p)):(this._y=0,this._z=qo(l,i))):'ZYX'===t?(this._y=r(-a(u,-1,1)),0.99999>Ko(u)?(this._x=qo(m,f),this._z=qo(l,i)):(this._x=0,this._z=qo(-s,p))):'YZX'===t?(this._z=r(a(l,-1,1)),0.99999>Ko(l)?(this._x=qo(-c,p),this._y=qo(-u,i)):(this._x=0,this._y=qo(d,f))):'XZY'===t?(this._z=r(-a(s,-1,1)),0.99999>Ko(s)?(this._x=qo(m,p),this._y=qo(d,i)):(this._x=qo(-c,f),this._y=0)):console.warn('THREE.Euler: .setFromRotationMatrix() given unsupported order: '+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new a;return function(t,n,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new i;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new m(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(pe.prototype,{set:function(e){this.mask=0|1<<e},enable:function(e){this.mask|=0|1<<e},toggle:function(e){this.mask^=0|1<<e},disable:function(e){this.mask&=~(0|1<<e)},test:function(e){return 0!=(this.mask&e.mask)}});var Vd=0;ce.DefaultUp=new m(0,1,0),ce.DefaultMatrixAutoUpdate=!0,ce.prototype=Object.assign(Object.create(r.prototype),{constructor:ce,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new i;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new i;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new m(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new m(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new m(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new m;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new m(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new m(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new m(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new a;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new a,t=new m;return function(n,r,a){n.isVector3?t.copy(n):t.set(n,r,a),this.isCamera?e.lookAt(this.position,t,this.up):e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error('THREE.Object3D.add: object can\'t be added as a child of itself.',e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:'added'}),this.children.push(e)):console.error('THREE.Object3D.add: object not an instance of THREE.Object3D.',e),this)},remove:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:'removed'}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty('id',e)},getObjectByName:function(e){return this.getObjectByProperty('name',e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var a=this.children[n],o=a.getObjectByProperty(e,t);if(o!==void 0)return o}},getWorldPosition:function(e){var t=e||new m;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new m,t=new m;return function(n){var r=n||new i;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,r,t),r}}(),getWorldRotation:function(){var e=new i;return function(t){var n=t||new le;return this.getWorldQuaternion(e),n.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new m,t=new i;return function(n){var r=n||new m;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,r),r}}(),getWorldDirection:function(){var e=new i;return function(t){var n=t||new m;return this.getWorldQuaternion(e),n.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},toJSON:function(e){function t(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}function n(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var r=void 0===e||'string'==typeof e,a={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},a.metadata={version:4.5,type:'Object',generator:'Object3D.toJSON'});var o={};if(o.uuid=this.uuid,o.type=this.type,''!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),'{}'!==JSON.stringify(this.userData)&&(o.userData=this.userData),o.matrix=this.matrix.toArray(),void 0!==this.geometry){o.geometry=t(e.geometries,this.geometry);var s=this.geometry.parameters;if(void 0!==s&&void 0!==s.shapes){var d=s.shapes;if(Array.isArray(d))for(var p=0,i=d.length,l;p<i;p++)l=d[p],t(e.shapes,l);else t(e.shapes,d)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],p=0,i=this.material.length;p<i;p++)c.push(t(e.materials,this.material[p]));o.material=c}else o.material=t(e.materials,this.material);if(0<this.children.length){o.children=[];for(var p=0;p<this.children.length;p++)o.children.push(this.children[p].toJSON(e).object)}if(r){var u=n(e.geometries),m=n(e.materials),f=n(e.textures),g=n(e.images),d=n(e.shapes);0<u.length&&(a.geometries=u),0<m.length&&(a.materials=m),0<f.length&&(a.textures=f),0<g.length&&(a.images=g),0<d.length&&(a.shapes=d)}return a.object=o,a},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0,r;n<e.children.length;n++)r=e.children[n],this.add(r.clone());return this}}),ue.prototype=Object.assign(Object.create(ce.prototype),{constructor:ue,isCamera:!0,copy:function(e,t){return ce.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:function(){var e=new i;return function(t){var n=t||new m;return this.getWorldQuaternion(e),n.set(0,0,-1).applyQuaternion(e)}}(),updateMatrixWorld:function(e){ce.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}}),me.prototype=Object.assign(Object.create(ue.prototype),{constructor:me,isOrthographicCamera:!0,copy:function(e,t){return ue.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,a,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,a=n-e,o=n+e,i=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var d=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),p=(this.right-this.left)/this.view.width,c=(this.top-this.bottom)/this.view.height;a+=p*(this.view.offsetX/d),o=a+p*(this.view.width/d),i-=c*(this.view.offsetY/l),s=i-c*(this.view.height/l)}this.projectionMatrix.makeOrthographic(a,o,i,s,this.near,this.far)},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Object.assign(fe.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Gd=0;ge.prototype=Object.assign(Object.create(r.prototype),{constructor:ge,isGeometry:!0,applyMatrix:function(e){for(var t=new s().getNormalMatrix(e),n=0,r=this.vertices.length,a;n<r;n++)a=this.vertices[n],a.applyMatrix4(e);for(var n=0,r=this.faces.length,o;n<r;n++){o=this.faces[n],o.normal.applyMatrix3(t).normalize();for(var i=0,d=o.vertexNormals.length;i<d;i++)o.vertexNormals[i].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new a;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new a;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new a;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new a;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new a;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ce;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,r,a){var o=void 0===d?[]:[f[e].clone(),f[t].clone(),f[r].clone()],i=void 0===l?[]:[n.colors[e].clone(),n.colors[t].clone(),n.colors[r].clone()],s=new fe(e,t,r,o,i,a);n.faces.push(s),void 0!==p&&n.faceVertexUvs[0].push([g[e].clone(),g[t].clone(),g[r].clone()]),void 0!==u&&n.faceVertexUvs[1].push([h[e].clone(),h[t].clone(),h[r].clone()])}var n=this,r=null===e.index?void 0:e.index.array,a=e.attributes,s=a.position.array,d=void 0===a.normal?void 0:a.normal.array,l=void 0===a.color?void 0:a.color.array,p=void 0===a.uv?void 0:a.uv.array,u=void 0===a.uv2?void 0:a.uv2.array;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var f=[],g=[],h=[],c=0,i=0;c<s.length;c+=3,i+=2)n.vertices.push(new m(s[c],s[c+1],s[c+2])),void 0!==d&&f.push(new m(d[c],d[c+1],d[c+2])),void 0!==l&&n.colors.push(new K(l[c],l[c+1],l[c+2])),void 0!==p&&g.push(new o(p[i],p[i+1])),void 0!==u&&h.push(new o(u[i],u[i+1]));var y=e.groups;if(0<y.length)for(var c=0;c<y.length;c++)for(var x=y[c],v=x.start,b=x.count,i=v;i<v+b;i+=3)void 0===r?t(i,i+1,i+2,x.materialIndex):t(r[i],r[i+1],r[i+2],x.materialIndex);else if(void 0!==r)for(var c=0;c<r.length;c+=3)t(r[c],r[c+1],r[c+2]);else for(var c=0;c<s.length/3;c+=3)t(c,c+1,c+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new a;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new m,t=new m,n=0,r=this.faces.length;n<r;n++){var a=this.faces[n],o=this.vertices[a.a],i=this.vertices[a.b],s=this.vertices[a.c];e.subVectors(s,i),t.subVectors(o,i),e.cross(t),e.normalize(),a.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);var t,n,r,a,o,i;for(i=Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)i[t]=new m;if(e){var s=new m,d=new m,l,p,c;for(r=0,a=this.faces.length;r<a;r++)o=this.faces[r],l=this.vertices[o.a],p=this.vertices[o.b],c=this.vertices[o.c],s.subVectors(c,p),d.subVectors(l,p),s.cross(d),i[o.a].add(s),i[o.b].add(s),i[o.c].add(s)}else for(this.computeFaceNormals(),r=0,a=this.faces.length;r<a;r++)o=this.faces[r],i[o.a].add(o.normal),i[o.b].add(o.normal),i[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)i[t].normalize();for(r=0,a=this.faces.length;r<a;r++){o=this.faces[r];var u=o.vertexNormals;3===u.length?(u[0].copy(i[o.a]),u[1].copy(i[o.b]),u[2].copy(i[o.c])):(u[0]=i[o.a].clone(),u[1]=i[o.b].clone(),u[2]=i[o.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){n=this.faces[e];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,a;for(n=0,r=this.faces.length;n<r;n++)for(a=this.faces[n],a.__originalFaceNormal?a.__originalFaceNormal.copy(a.normal):a.__originalFaceNormal=a.normal.clone(),a.__originalVertexNormals||(a.__originalVertexNormals=[]),(e=0,t=a.vertexNormals.length);e<t;e++)a.__originalVertexNormals[e]?a.__originalVertexNormals[e].copy(a.vertexNormals[e]):a.__originalVertexNormals[e]=a.vertexNormals[e].clone();var o=new ge;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var i=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals,d,l;for(n=0,r=this.faces.length;n<r;n++)d=new m,l={a:new m,b:new m,c:new m},i.push(d),s.push(l)}var p=this.morphNormals[e];o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals();var d,l;for(n=0,r=this.faces.length;n<r;n++)a=this.faces[n],d=p.faceNormals[n],l=p.vertexNormals[n],d.copy(a.normal),l.a.copy(a.vertexNormals[0]),l.b.copy(a.vertexNormals[1]),l.c.copy(a.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)a=this.faces[n],a.normal=a.__originalFaceNormal,a.vertexNormals=a.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,r=t.length;n<r;n++)0<n&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new re),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ae),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!(e&&e.isGeometry))return void console.error('THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.',e);var r=this.vertices.length,a=this.vertices,o=e.vertices,d=this.faces,l=e.faces,p=this.faceVertexUvs[0],c=e.faceVertexUvs[0],u=this.colors,m=e.colors,f;n===void 0&&(n=0),t!==void 0&&(f=new s().getNormalMatrix(t));for(var g=0,i=o.length;g<i;g++){var h=o[g],y=h.clone();t!==void 0&&y.applyMatrix4(t),a.push(y)}for(var g=0,i=m.length;g<i;g++)u.push(m[g].clone());for(g=0,i=l.length;g<i;g++){var x=l[g],v=x.vertexNormals,b=x.vertexColors,_,E,T;_=new fe(x.a+r,x.b+r,x.c+r),_.normal.copy(x.normal),f!==void 0&&_.normal.applyMatrix3(f).normalize();for(var S=0,C=v.length;S<C;S++)E=v[S].clone(),void 0!==f&&E.applyMatrix3(f).normalize(),_.vertexNormals.push(E);_.color.copy(x.color);for(var S=0,C=b.length;S<C;S++)T=b[S],_.vertexColors.push(T.clone());_.materialIndex=x.materialIndex+n,d.push(_)}for(g=0,i=c.length;g<i;g++){var M=c[g],w=[];if(void 0!==M){for(var S=0,C=M.length;S<C;S++)w.push(M[S].clone());p.push(w)}}},mergeMesh:function(e){return e&&e.isMesh?void(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):void console.error('THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.',e)},mergeVertices:function(){var e={},t=[],r=[],a=10000,o,s,d,i,l,p,c,u;for(d=0,i=this.vertices.length;d<i;d++)o=this.vertices[d],s=Jo(o.x*a)+'_'+Jo(o.y*a)+'_'+Jo(o.z*a),void 0===e[s]?(e[s]=d,t.push(this.vertices[d]),r[d]=t.length-1):r[d]=r[e[s]];var m=[];for(d=0,i=this.faces.length;d<i;d++){l=this.faces[d],l.a=r[l.a],l.b=r[l.b],l.c=r[l.c],p=[l.a,l.b,l.c];for(var f=0;3>f;f++)if(p[f]===p[(f+1)%3]){m.push(d);break}}for(d=m.length-1;0<=d;d--){var n=m[d];for(this.faces.splice(n,1),c=0,u=this.faceVertexUvs.length;c<u;c++)this.faceVertexUvs[c].splice(n,1)}var g=this.vertices.length-t.length;return this.vertices=t,g},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length,r;t<n;t++)r=e[t],this.vertices.push(new m(r.x,r.y,r.z||0));return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var r=this.faceVertexUvs[0],a=this.faceVertexUvs[1],o,i;r&&r.length===t&&(o=[]),a&&a.length===t&&(i=[]);for(var n=0,s;n<t;n++)s=e[n]._id,o&&o.push(r[s]),i&&i.push(a[s]);o&&(this.faceVertexUvs[0]=o),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0===u[t]?(u[t]=c.length/3,c.push(e.x,e.y,e.z),u[t]):u[t]}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0===f[t]?(f[t]=m.length,m.push(e.getHex()),f[t]):f[t]}function r(e){var t=e.x.toString()+e.y.toString();return void 0===h[t]?(h[t]=g.length/2,g.push(e.x,e.y),h[t]):h[t]}var a={metadata:{version:4.5,type:'Geometry',generator:'Geometry.toJSON'}};if(a.uuid=this.uuid,a.type=this.type,''!==this.name&&(a.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var s in o)void 0!==o[s]&&(a[s]=o[s]);return a}for(var d=[],l=0,i;l<this.vertices.length;l++)i=this.vertices[l],d.push(i.x,i.y,i.z);for(var p=[],c=[],u={},m=[],f={},g=[],h={},l=0;l<this.faces.length;l++){var y=this.faces[l],x=void 0!==this.faceVertexUvs[0][l],v=0<y.normal.length(),b=0<y.vertexNormals.length,_=1!==y.color.r||1!==y.color.g||1!==y.color.b,E=0<y.vertexColors.length,T=0;if(T=e(T,0,0),T=e(T,1,!0),T=e(T,2,!1),T=e(T,3,x),T=e(T,4,v),T=e(T,5,b),T=e(T,6,_),T=e(T,7,E),p.push(T),p.push(y.a,y.b,y.c),p.push(y.materialIndex),x){var S=this.faceVertexUvs[0][l];p.push(r(S[0]),r(S[1]),r(S[2]))}if(v&&p.push(t(y.normal)),b){var C=y.vertexNormals;p.push(t(C[0]),t(C[1]),t(C[2]))}if(_&&p.push(n(y.color)),E){var M=y.vertexColors;p.push(n(M[0]),n(M[1]),n(M[2]))}}return a.data={},a.data.vertices=d,a.data.normals=c,0<m.length&&(a.data.colors=m),0<g.length&&(a.data.uvs=[g]),a.data.faces=p,a},clone:function(){return new ge().copy(this)},copy:function(e){var t,n,r,a,o,i;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var d=e.colors;for(t=0,n=d.length;t<n;t++)this.colors.push(d[t].clone());var l=e.faces;for(t=0,n=l.length;t<n;t++)this.faces.push(l[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var p=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,a=p.length;r<a;r++){var c=p[r],u=[];for(o=0,i=c.length;o<i;o++){var m=c[o];u.push(m.clone())}this.faceVertexUvs[t].push(u)}}var f=e.morphTargets;for(t=0,n=f.length;t<n;t++){var g={name:f[t].name};if(void 0!==f[t].vertices)for(g.vertices=[],r=0,a=f[t].vertices.length;r<a;r++)g.vertices.push(f[t].vertices[r].clone());if(void 0!==f[t].normals)for(g.normals=[],r=0,a=f[t].normals.length;r<a;r++)g.normals.push(f[t].normals[r].clone());this.morphTargets.push(g)}var h=e.morphNormals;for(t=0,n=h.length;t<n;t++){var y={};if(void 0!==h[t].vertexNormals)for(y.vertexNormals=[],r=0,a=h[t].vertexNormals.length;r<a;r++){var x=h[t].vertexNormals[r],v={};v.a=x.a.clone(),v.b=x.b.clone(),v.c=x.c.clone(),y.vertexNormals.push(v)}if(void 0!==h[t].faceNormals)for(y.faceNormals=[],r=0,a=h[t].faceNormals.length;r<a;r++)y.faceNormals.push(h[t].faceNormals[r].clone());this.morphNormals.push(y)}var b=e.skinWeights;for(t=0,n=b.length;t<n;t++)this.skinWeights.push(b[t].clone());var _=e.skinIndices;for(t=0,n=_.length;t<n;t++)this.skinIndices.push(_[t].clone());var E=e.lineDistances;for(t=0,n=E.length;t<n;t++)this.lineDistances.push(E[t]);var T=e.boundingBox;null!==T&&(this.boundingBox=T.clone());var S=e.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:'dispose'})}}),Object.defineProperty(he.prototype,'needsUpdate',{set:function(e){!0===e&&this.version++}}),Object.assign(he.prototype,{isBufferAttribute:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');this.count=e===void 0?0:e.length/this.itemSize,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,a=e.length,o;r<a;r++)o=e[r],void 0===o&&(console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined',r),o=new K),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b;return this},copyIndicesArray:function(e){for(var t=this.array,n=0,r=0,a=e.length,o;r<a;r++)o=e[r],t[n++]=o.a,t[n++]=o.b,t[n++]=o.c;return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,a=e.length,i;r<a;r++)i=e[r],void 0===i&&(console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined',r),i=new o),t[n++]=i.x,t[n++]=i.y;return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,a=e.length,o;r<a;r++)o=e[r],void 0===o&&(console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined',r),o=new m),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z;return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,a=e.length,o;r<a;r++)o=e[r],void 0===o&&(console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined',r),o=new p),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w;return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=a,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),ye.prototype=Object.create(he.prototype),ye.prototype.constructor=ye,xe.prototype=Object.create(he.prototype),xe.prototype.constructor=xe,ve.prototype=Object.create(he.prototype),ve.prototype.constructor=ve,be.prototype=Object.create(he.prototype),be.prototype.constructor=be,_e.prototype=Object.create(he.prototype),_e.prototype.constructor=_e,Ee.prototype=Object.create(he.prototype),Ee.prototype.constructor=Ee,Te.prototype=Object.create(he.prototype),Te.prototype.constructor=Te,Se.prototype=Object.create(he.prototype),Se.prototype.constructor=Se,Ce.prototype=Object.create(he.prototype),Ce.prototype.constructor=Ce,Object.assign(Me.prototype,{computeGroups:function(e){for(var t=[],n=void 0,r=e.faces,a=0,o,i;a<r.length;a++)i=r[a],i.materialIndex!==n&&(n=i.materialIndex,void 0!=o&&(o.count=3*a-o.start,t.push(o)),o={start:3*a,materialIndex:n});o!==void 0&&(o.count=3*a-o.start,t.push(o)),this.groups=t},fromGeometry:function(e){var t=e.faces,n=e.vertices,r=e.faceVertexUvs,a=r[0]&&0<r[0].length,s=r[1]&&0<r[1].length,d=e.morphTargets,l=d.length,p;if(0<l){p=[];for(var c=0;c<l;c++)p[c]=[];this.morphTargets.position=p}var i=e.morphNormals,u=i.length,m;if(0<u){m=[];for(var c=0;c<u;c++)m[c]=[];this.morphTargets.normal=m}for(var f=e.skinIndices,g=e.skinWeights,h=f.length===n.length,y=g.length===n.length,c=0,x;c<t.length;c++){x=t[c],this.vertices.push(n[x.a],n[x.b],n[x.c]);var v=x.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{var b=x.normal;this.normals.push(b,b,b)}var _=x.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var E=x.color;this.colors.push(E,E,E)}if(!0===a){var T=r[0][c];void 0===T?(console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ',c),this.uvs.push(new o,new o,new o)):this.uvs.push(T[0],T[1],T[2])}if(!0===s){var T=r[1][c];void 0===T?(console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ',c),this.uvs2.push(new o,new o,new o)):this.uvs2.push(T[0],T[1],T[2])}for(var S=0,C;S<l;S++)C=d[S].vertices,p[S].push(C[x.a],C[x.b],C[x.c]);for(var S=0,M;S<u;S++)M=i[S].vertexNormals[c],m[S].push(M.a,M.b,M.c);h&&this.skinIndices.push(f[x.a],f[x.b],f[x.c]),y&&this.skinWeights.push(g[x.a],g[x.b],g[x.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var Wd=1;Re.prototype=Object.assign(Object.create(r.prototype),{constructor:Re,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){this.index=Array.isArray(e)?new(65535<we(e)?Te:_e)(e,1):e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?'index'===e?(console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.'),void this.setIndex(t)):(this.attributes[e]=t,this):(console.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).'),void this.addAttribute(e,new he(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n===void 0?0:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=new s().getNormalMatrix(e);r.applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new a;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new a;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new a;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new a;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new a;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ce;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Se(3*t.vertices.length,3),r=new Se(3*t.colors.length,3);if(this.addAttribute('position',n.copyVector3sArray(t.vertices)),this.addAttribute('color',r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var a=new Se(t.lineDistances.length,1);this.addAttribute('lineDistance',a.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length,a;n<r;n++)a=e[n],t.push(a.x,a.y,a.z||0);return this.addAttribute('position',new Se(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}var r;return!0===t.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(t.normals),r.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(t.colors),r.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(t.uvs),r.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(t.lineDistances),r.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new Me().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute('position',new he(t,3).copyVector3sArray(e.vertices)),0<e.normals.length){var n=new Float32Array(3*e.normals.length);this.addAttribute('normal',new he(n,3).copyVector3sArray(e.normals))}if(0<e.colors.length){var r=new Float32Array(3*e.colors.length);this.addAttribute('color',new he(r,3).copyColorsArray(e.colors))}if(0<e.uvs.length){var a=new Float32Array(2*e.uvs.length);this.addAttribute('uv',new he(a,2).copyVector2sArray(e.uvs))}if(0<e.uvs2.length){var o=new Float32Array(2*e.uvs2.length);this.addAttribute('uv2',new he(o,2).copyVector2sArray(e.uvs2))}if(0<e.indices.length){var s=65535<we(e.indices)?Uint32Array:Uint16Array,d=new s(3*e.indices.length);this.setIndex(new he(d,1).copyIndicesArray(e.indices))}for(var p in this.groups=e.groups,e.morphTargets){for(var c=[],u=e.morphTargets[p],m=0,i=u.length;m<i;m++){var l=u[m],f=new Se(3*l.length,3);c.push(f.copyVector3sArray(l))}this.morphAttributes[p]=c}if(0<e.skinIndices.length){var g=new Se(4*e.skinIndices.length,4);this.addAttribute('skinIndex',g.copyVector4sArray(e.skinIndices))}if(0<e.skinWeights.length){var h=new Se(4*e.skinWeights.length,4);this.addAttribute('skinWeight',h.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new re);var e=this.attributes.position;e===void 0?this.boundingBox.makeEmpty():this.boundingBox.setFromBufferAttribute(e),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new re,t=new m;return function(){null===this.boundingSphere&&(this.boundingSphere=new ae);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var a=0,o=0,i=n.count;o<i;o++)t.x=n.getX(o),t.y=n.getY(o),t.z=n.getZ(o),a=ni(a,r.distanceToSquared(t));this.boundingSphere.radius=Zo(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var r=t.position.array;if(t.normal===void 0)this.addAttribute('normal',new he(new Float32Array(r.length),3));else for(var a=t.normal.array,o=0,i=a.length;o<i;o++)a[o]=0;var s=t.normal.array,d=new m,l=new m,p=new m,c=new m,u=new m,f,g,h;if(e){var y=e.array;0===n.length&&this.addGroup(0,y.length);for(var x=0,v=n.length;x<v;++x)for(var b=n[x],_=b.start,E=b.count,o=_,i=_+E;o<i;o+=3)f=3*y[o+0],g=3*y[o+1],h=3*y[o+2],d.fromArray(r,f),l.fromArray(r,g),p.fromArray(r,h),c.subVectors(p,l),u.subVectors(d,l),c.cross(u),s[f]+=c.x,s[f+1]+=c.y,s[f+2]+=c.z,s[g]+=c.x,s[g+1]+=c.y,s[g+2]+=c.z,s[h]+=c.x,s[h+1]+=c.y,s[h+2]+=c.z}else for(var o=0,i=r.length;o<i;o+=9)d.fromArray(r,o),l.fromArray(r,o+3),p.fromArray(r,o+6),c.subVectors(p,l),u.subVectors(d,l),c.cross(u),s[o]=c.x,s[o+1]=c.y,s[o+2]=c.z,s[o+3]=c.x,s[o+4]=c.y,s[o+5]=c.z,s[o+6]=c.x,s[o+7]=c.y,s[o+8]=c.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry))return void console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.',e);t===void 0&&(t=0);var n=this.attributes;for(var r in n)if(e.attributes[r]!==void 0)for(var a=n[r],o=a.array,s=e.attributes[r],d=s.array,l=s.itemSize,p=0,i=l*t;p<d.length;p++,i++)o[i]=d[p];return this},normalizeNormals:function(){var e=new m;return function(){for(var t=this.attributes.normal,n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn('THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.'),this;var e=new Re,t=this.index.array,n=this.attributes;for(var r in n){for(var a=n[r],o=a.array,s=a.itemSize,d=new o.constructor(t.length*s),p=0,c=0,u=0,i=t.length;u<i;u++){p=t[u]*s;for(var l=0;l<s;l++)d[c++]=o[p++]}e.addAttribute(r,new he(d,s))}return e},toJSON:function(){var e={metadata:{version:4.5,type:'BufferGeometry',generator:'BufferGeometry.toJSON'}};if(e.uuid=this.uuid,e.type=this.type,''!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var a=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:a}}var o=this.attributes;for(var n in o){var i=o[n],a=Array.prototype.slice.call(i.array);e.data.attributes[n]={itemSize:i.itemSize,type:i.array.constructor.name,array:a,normalized:i.normalized}}var s=this.groups;0<s.length&&(e.data.groups=JSON.parse(JSON.stringify(s)));var d=this.boundingSphere;return null!==d&&(e.data.boundingSphere={center:d.center.toArray(),radius:d.radius}),e},clone:function(){return new Re().copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var a=e.index;null!==a&&this.setIndex(a.clone());var o=e.attributes;for(t in o){var i=o[t];this.addAttribute(t,i.clone())}var s=e.morphAttributes;for(t in s){var d=[],l=s[t];for(n=0,r=l.length;n<r;n++)d.push(l[n].clone());this.morphAttributes[t]=d}var p=e.groups;for(n=0,r=p.length;n<r;n++){var c=p[n];this.addGroup(c.start,c.count,c.materialIndex)}var u=e.boundingBox;null!==u&&(this.boundingBox=u.clone());var m=e.boundingSphere;return null!==m&&(this.boundingSphere=m.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:'dispose'})}}),Pe.prototype=Object.create(ge.prototype),Pe.prototype.constructor=Pe,Ae.prototype=Object.create(Re.prototype),Ae.prototype.constructor=Ae,Le.prototype=Object.create(ge.prototype),Le.prototype.constructor=Le,Ie.prototype=Object.create(Re.prototype),Ie.prototype.constructor=Ie,Ne.prototype=Object.create(ee.prototype),Ne.prototype.constructor=Ne,Ne.prototype.isMeshBasicMaterial=!0,Ne.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},De.prototype=Object.create(ee.prototype),De.prototype.constructor=De,De.prototype.isShaderMaterial=!0,De.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Fd.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},De.prototype.toJSON=function(e){var t=ee.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Object.assign(Ue.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){var n=t||new m;return n.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new m;return function(n){return this.origin.copy(this.at(n,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new m;n.subVectors(e,this.origin);var r=n.dot(this.direction);return 0>r?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Zo(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new m;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return 0>n?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new m,t=new m,n=new m;return function(r,a,o,i){e.copy(r).add(a).multiplyScalar(0.5),t.copy(a).sub(r).normalize(),n.copy(this.origin).sub(e);var s=0.5*r.distanceTo(a),d=-this.direction.dot(t),l=n.dot(this.direction),p=-n.dot(t),u=n.lengthSq(),c=Ko(1-d*d),m,f,g,h;if(!(0<c))f=0<d?-s:s,m=ni(0,-(d*f+l)),g=-m*m+f*(f+2*p)+u;else if(m=d*p-l,f=d*l-p,h=s*c,!(0<=m))f<=-h?(m=ni(0,-(-d*s+l)),f=0<m?-s:si(ni(-s,-p),s),g=-m*m+f*(f+2*p)+u):f<=h?(m=0,f=si(ni(-s,-p),s),g=f*(f+2*p)+u):(m=ni(0,-(d*s+l)),f=0<m?s:si(ni(-s,-p),s),g=-m*m+f*(f+2*p)+u);else if(!(f>=-h))f=-s,m=ni(0,-(d*f+l)),g=-m*m+f*(f+2*p)+u;else if(f<=h){var y=1/c;m*=y,f*=y,g=m*(m+d*f+2*l)+f*(d*m+f+2*p)+u}else f=s,m=ni(0,-(d*f+l)),g=-m*m+f*(f+2*p)+u;return o&&o.copy(this.direction).multiplyScalar(m).add(this.origin),i&&i.copy(t).multiplyScalar(f).add(e),g}}(),intersectSphere:function(){var e=new m;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),a=e.dot(e)-r*r,o=t.radius*t.radius;if(a>o)return null;var i=Zo(o-a),s=r-i,d=r+i;return 0>s&&0>d?null:0>s?this.at(d,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var n=e.normal.dot(this.direction);if(0===n)return 0===e.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(e.normal)+e.constant)/n;return 0<=r?r:null},intersectPlane:function(e,n){var r=this.distanceToPlane(e);return null===r?null:this.at(r,n)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;var n=e.normal.dot(this.direction);return!!(0>n*t)},intersectBox:function(e,t){var n=1/this.direction.x,r=1/this.direction.y,a=1/this.direction.z,o=this.origin,i,s,d,l,p,c;return(0<=n?(i=(e.min.x-o.x)*n,s=(e.max.x-o.x)*n):(i=(e.max.x-o.x)*n,s=(e.min.x-o.x)*n),0<=r?(d=(e.min.y-o.y)*r,l=(e.max.y-o.y)*r):(d=(e.max.y-o.y)*r,l=(e.min.y-o.y)*r),i>l||d>s)?null:((d>i||i!==i)&&(i=d),(l<s||s!==s)&&(s=l),0<=a?(p=(e.min.z-o.z)*a,c=(e.max.z-o.z)*a):(p=(e.max.z-o.z)*a,c=(e.min.z-o.z)*a),i>c||p>s)?null:((p>i||i!==i)&&(i=p),(c<s||s!==s)&&(s=c),0>s?null:this.at(0<=i?i:s,t))},intersectsBox:function(){var e=new m;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new m,t=new m,n=new m,r=new m;return function(o,a,i,s,d){t.subVectors(a,o),n.subVectors(i,o),r.crossVectors(t,n);var l=this.direction.dot(r),p;if(0<l){if(s)return null;p=1}else if(0>l)p=-1,l=-l;else return null;e.subVectors(this.origin,o);var c=p*this.direction.dot(n.crossVectors(e,n));if(0>c)return null;var u=p*this.direction.dot(t.cross(e));if(0>u)return null;if(c+u>l)return null;var m=-p*e.dot(r);return 0>m?null:this.at(m/l,d)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(ke.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){var t=e||new m;return t.addVectors(this.start,this.end).multiplyScalar(0.5)},delta:function(e){var t=e||new m;return t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new m;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new m,n=new m;return function(r,a){e.subVectors(r,this.start),n.subVectors(this.end,this.start);var o=n.dot(n),i=n.dot(e),s=i/o;return a&&(s=wd.clamp(s,0,1)),s}}(),closestPointToPoint:function(e,n,r){var a=this.closestPointToPointParameter(e,n),t=r||new m;return this.delta(t).multiplyScalar(a).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(Oe,{normal:function(){var e=new m;return function(t,n,r,a){var o=a||new m;o.subVectors(r,n),e.subVectors(t,n),o.cross(e);var i=o.lengthSq();return 0<i?o.multiplyScalar(1/Zo(i)):o.set(0,0,0)}}(),barycoordFromPoint:function(){var e=new m,t=new m,n=new m;return function(r,o,a,i,s){e.subVectors(i,o),t.subVectors(a,o),n.subVectors(r,o);var d=e.dot(e),l=e.dot(t),p=e.dot(n),c=t.dot(t),f=t.dot(n),g=d*c-l*l,h=s||new m;if(0==g)return h.set(-2,-1,-1);var y=1/g,x=(c*p-l*f)*y,u=(d*f-l*p)*y;return h.set(1-x-u,u,x)}}(),containsPoint:function(){var e=new m;return function(t,n,r,a){var o=Oe.barycoordFromPoint(t,n,r,a,e);return 0<=o.x&&0<=o.y&&1>=o.x+o.y}}()}),Object.assign(Oe.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new m,t=new m;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),0.5*e.cross(t).length()}}(),midpoint:function(e){var t=e||new m;return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Oe.normal(this.a,this.b,this.c,e)},plane:function(e){var t=e||new oe;return t.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Oe.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Oe.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e=new oe,t=[new ke,new ke,new ke],n=new m,r=new m;return function(a,o){var s=o||new m,d=Infinity;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(a,n),!0===this.containsPoint(n))s.copy(n);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var l=0;l<t.length;l++){t[l].closestPointToPoint(n,!0,r);var i=n.distanceToSquared(r);i<d&&(d=i,s.copy(r))}}return s}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Fe.prototype=Object.assign(Object.create(ce.prototype),{constructor:Fe,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return ce.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e=this.geometry,t,n,r;if(e.isBufferGeometry){var a=e.morphAttributes,o=Object.keys(a);if(0<o.length){var i=a[o[0]];if(i!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},(t=0,n=i.length);t<n;t++)r=i[t].name||t+'',this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}else{var s=e.morphTargets;if(s!==void 0&&0<s.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},(t=0,n=s.length);t<n;t++)r=s[t].name||t+'',this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}},raycast:function(){function e(e,t,n,r,a,o,i){return Oe.barycoordFromPoint(e,t,n,r,x),a.multiplyScalar(x.x),o.multiplyScalar(x.y),i.multiplyScalar(x.z),a.add(o).add(i),a.clone()}function n(e,t,n,r,a,o,i,s){var d;if(d=t.side===Ei?r.intersectTriangle(i,o,a,!0,s):r.intersectTriangle(a,o,i,t.side!==Ti,s),null===d)return null;b.copy(s),b.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(b);return l<n.near||l>n.far?null:{distance:l,point:b.clone(),object:e}}function t(t,r,o,s,d,u,a,m){i.fromBufferAttribute(s,u),l.fromBufferAttribute(s,a),p.fromBufferAttribute(s,m);var c=n(t,t.material,r,o,i,l,p,v);return c&&(d&&(g.fromBufferAttribute(d,u),h.fromBufferAttribute(d,a),y.fromBufferAttribute(d,m),c.uv=e(v,i,l,p,g,h,y)),c.face=new fe(u,a,m,Oe.normal(i,l,p)),c.faceIndex=u),c}var r=new a,s=new Ue,d=new ae,i=new m,l=new m,p=new m,c=new m,u=new m,f=new m,g=new o,h=new o,y=new o,x=new m,v=new m,b=new m;return function(o,m){var x=this.geometry,_=this.material,E=this.matrixWorld;if(void 0!==_&&(null===x.boundingSphere&&x.computeBoundingSphere(),d.copy(x.boundingSphere),d.applyMatrix4(E),!1!==o.ray.intersectsSphere(d))&&(r.getInverse(E),s.copy(o.ray).applyMatrix4(r),null===x.boundingBox||!1!==s.intersectsBox(x.boundingBox))){var T;if(x.isBufferGeometry){var S=x.index,C=x.attributes.position,M=x.attributes.uv,w,a,b,R,P;if(null!==S)for(R=0,P=S.count;R<P;R+=3)w=S.getX(R),a=S.getX(R+1),b=S.getX(R+2),T=t(this,o,s,C,M,w,a,b),T&&(T.faceIndex=ai(R/3),m.push(T));else if(void 0!==C)for(R=0,P=C.count;R<P;R+=3)w=R,a=R+1,b=R+2,T=t(this,o,s,C,M,w,a,b),T&&(T.index=w,m.push(T))}else if(x.isGeometry){var A=Array.isArray(_),L=x.vertices,I=x.faces,N=x.faceVertexUvs[0],D,U,k,O;0<N.length&&(O=N);for(var F=0,z=I.length;F<z;F++){var B=I[F],H=A?_[B.materialIndex]:_;if(void 0!==H){if(D=L[B.a],U=L[B.b],k=L[B.c],!0===H.morphTargets){var V=x.morphTargets,G=this.morphTargetInfluences;i.set(0,0,0),l.set(0,0,0),p.set(0,0,0);for(var W=0,j=V.length,X;W<j;W++)if(X=G[W],0!==X){var Y=V[W].vertices;i.addScaledVector(c.subVectors(Y[B.a],D),X),l.addScaledVector(u.subVectors(Y[B.b],U),X),p.addScaledVector(f.subVectors(Y[B.c],k),X)}i.add(D),l.add(U),p.add(k),D=i,U=l,k=p}if(T=n(this,H,o,s,D,U,k,v),T){if(O&&O[F]){var q=O[F];g.copy(q[0]),h.copy(q[1]),y.copy(q[2]),T.uv=e(v,D,U,k,g,h,y)}T.face=B,T.faceIndex=F,m.push(T)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var jd=0;yt.prototype=Object.assign(Object.create(ue.prototype),{constructor:yt,isPerspectiveCamera:!0,copy:function(e,t){return ue.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=0.5*this.getFilmHeight()/e;this.fov=2*wd.RAD2DEG*Wo(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=li(0.5*wd.DEG2RAD*this.fov);return 0.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*wd.RAD2DEG*Wo(li(0.5*wd.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*si(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/ni(this.aspect,1)},setViewOffset:function(e,t,n,r,a,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*li(0.5*wd.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,a=-0.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var i=o.fullWidth,s=o.fullHeight;a+=o.offsetX*r/i,t-=o.offsetY*n/s,r*=o.width/i,n*=o.height/s}var d=this.filmOffset;0!==d&&(a+=e*d/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-n,e,this.far)},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),xt.prototype=Object.assign(Object.create(yt.prototype),{constructor:xt,isArrayCamera:!0}),St.prototype.isFogExp2=!0,St.prototype.clone=function(){return new St(this.color.getHex(),this.density)},St.prototype.toJSON=function(){return{type:'FogExp2',color:this.color.getHex(),density:this.density}},Ct.prototype.isFog=!0,Ct.prototype.clone=function(){return new Ct(this.color.getHex(),this.near,this.far)},Ct.prototype.toJSON=function(){return{type:'Fog',color:this.color.getHex(),near:this.near,far:this.far}},Mt.prototype=Object.assign(Object.create(ce.prototype),{constructor:Mt,copy:function(e,t){return ce.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),wt.prototype=Object.assign(Object.create(ce.prototype),{constructor:wt,isLensFlare:!0,copy:function(e){ce.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;t<n;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,n,r,a,o){t===void 0&&(t=-1),n===void 0&&(n=0),o===void 0&&(o=1),a===void 0&&(a=new K(16777215)),r===void 0&&(r=Ai),n=si(n,ni(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:a,blending:r})},updateLensFlares:function(){var e=this.lensFlares.length,t=2*-this.positionScreen.x,n=2*-this.positionScreen.y,r,a;for(r=0;r<e;r++)a=this.lensFlares[r],a.x=this.positionScreen.x+t*a.distance,a.y=this.positionScreen.y+n*a.distance,a.wantedRotation=0.25*(a.x*di),a.rotation+=0.25*(a.wantedRotation-a.rotation)}}),Rt.prototype=Object.create(ee.prototype),Rt.prototype.constructor=Rt,Rt.prototype.isSpriteMaterial=!0,Rt.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},Pt.prototype=Object.assign(Object.create(ce.prototype),{constructor:Pt,isSprite:!0,raycast:function(){var e=new m,t=new m,n=new m;return function(r,a){t.setFromMatrixPosition(this.matrixWorld),r.ray.closestPointToPoint(t,e),n.setFromMatrixScale(this.matrixWorld);var o=n.x*n.y/4;if(!(t.distanceToSquared(e)>o)){var i=r.ray.origin.distanceTo(e);i<r.near||i>r.far||a.push({distance:i,point:e.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),At.prototype=Object.assign(Object.create(ce.prototype),{constructor:At,copy:function(e){ce.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length,a;n<r;n++)a=t[n],this.addLevel(a.object.clone(),a.distance);return this},addLevel:function(e,t){t===void 0&&(t=0),t=Ko(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new m;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),update:function(){var e=new m,t=new m;return function(n){var r=this.levels;if(1<r.length){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var a=e.distanceTo(t);r[0].object.visible=!0;for(var o=1,i=r.length;o<i&&a>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<i;o++)r[o].object.visible=!1}}}(),toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,a=n.length,o;r<a;r++)o=n[r],t.object.levels.push({object:o.object.uuid,distance:o.distance});return t}}),Object.assign(Lt.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length,n;e<t;e++)n=new a,this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)e=this.bones[t],e&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)e=this.bones[t],e&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new a,t=new a;return function(){for(var n=this.bones,r=this.boneInverses,a=this.boneMatrices,o=this.boneTexture,s=0,i=n.length,d;s<i;s++)d=n[s]?n[s].matrixWorld:t,e.multiplyMatrices(d,r[s]),e.toArray(a,16*s);o!==void 0&&(o.needsUpdate=!0)}}(),clone:function(){return new Lt(this.bones,this.boneInverses)}}),It.prototype=Object.assign(Object.create(ce.prototype),{constructor:It,isBone:!0}),Nt.prototype=Object.assign(Object.create(Fe.prototype),{constructor:Nt,isSkinnedMesh:!0,initBones:function(){var e=[],t,n,r,a;if(this.geometry&&void 0!==this.geometry.bones){for(r=0,a=this.geometry.bones.length;r<a;r++)n=this.geometry.bones[r],t=new It,e.push(t),t.name=n.name,t.position.fromArray(n.pos),t.quaternion.fromArray(n.rotq),void 0!==n.scl&&t.scale.fromArray(n.scl);for(r=0,a=this.geometry.bones.length;r<a;r++)n=this.geometry.bones[r],-1!==n.parent&&null!==n.parent&&void 0!==e[n.parent]?e[n.parent].add(e[r]):this.add(e[r])}return this.updateMatrixWorld(!0),e},bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry)for(t=0;t<this.geometry.skinWeights.length;t++){var n=this.geometry.skinWeights[t];e=1/n.manhattanLength(),e===Infinity?n.set(1,0,0,0):n.multiplyScalar(e)}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new p,a=this.geometry.attributes.skinWeight;for(t=0;t<a.count;t++)r.x=a.getX(t),r.y=a.getY(t),r.z=a.getZ(t),r.w=a.getW(t),e=1/r.manhattanLength(),e===Infinity?r.set(1,0,0,0):r.multiplyScalar(e),a.setXYZW(t,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(e){Fe.prototype.updateMatrixWorld.call(this,e),'attached'===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):'detached'===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn('THREE.SkinnedMesh: Unrecognized bindMode: '+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Dt.prototype=Object.create(ee.prototype),Dt.prototype.constructor=Dt,Dt.prototype.isLineBasicMaterial=!0,Dt.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Ut.prototype=Object.assign(Object.create(ce.prototype),{constructor:Ut,isLine:!0,raycast:function(){var e=new a,t=new Ue,n=new ae;return function(r,o){var s=r.linePrecision,d=s*s,p=this.geometry,c=this.matrixWorld;if(null===p.boundingSphere&&p.computeBoundingSphere(),n.copy(p.boundingSphere),n.applyMatrix4(c),!1!==r.ray.intersectsSphere(n)){e.getInverse(c),t.copy(r.ray).applyMatrix4(e);var u=new m,f=new m,g=new m,h=new m,y=this&&this.isLineSegments?2:1;if(p.isBufferGeometry){var x=p.index,v=p.attributes,_=v.position.array;if(null!==x)for(var E=x.array,T=0,S=E.length-1;T<S;T+=y){var l=E[T],a=E[T+1];u.fromArray(_,3*l),f.fromArray(_,3*a);var b=t.distanceSqToSegment(u,f,h,g);if(!(b>d)){h.applyMatrix4(this.matrixWorld);var C=r.ray.origin.distanceTo(h);C<r.near||C>r.far||o.push({distance:C,point:g.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}else for(var T=0,S=_.length/3-1;T<S;T+=y){u.fromArray(_,3*T),f.fromArray(_,3*T+3);var b=t.distanceSqToSegment(u,f,h,g);if(!(b>d)){h.applyMatrix4(this.matrixWorld);var C=r.ray.origin.distanceTo(h);C<r.near||C>r.far||o.push({distance:C,point:g.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}}else if(p.isGeometry)for(var M=p.vertices,w=M.length,T=0,b;T<w-1;T+=y)if(b=t.distanceSqToSegment(M[T],M[T+1],h,g),!(b>d)){h.applyMatrix4(this.matrixWorld);var C=r.ray.origin.distanceTo(h);C<r.near||C>r.far||o.push({distance:C,point:g.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),kt.prototype=Object.assign(Object.create(Ut.prototype),{constructor:kt,isLineSegments:!0}),Ot.prototype=Object.assign(Object.create(Ut.prototype),{constructor:Ot,isLineLoop:!0}),Ft.prototype=Object.create(ee.prototype),Ft.prototype.constructor=Ft,Ft.prototype.isPointsMaterial=!0,Ft.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},zt.prototype=Object.assign(Object.create(ce.prototype),{constructor:zt,isPoints:!0,raycast:function(){var e=new a,t=new Ue,n=new ae;return function(r,o){function s(e,n){var a=t.distanceSqToPoint(e);if(a<g){var i=t.closestPointToPoint(e);i.applyMatrix4(c);var s=r.ray.origin.distanceTo(i);if(s<r.near||s>r.far)return;o.push({distance:s,distanceToRay:Zo(a),point:i.clone(),index:n,face:null,object:d})}}var d=this,p=this.geometry,c=this.matrixWorld,u=r.params.Points.threshold;if(null===p.boundingSphere&&p.computeBoundingSphere(),n.copy(p.boundingSphere),n.applyMatrix4(c),n.radius+=u,!1!==r.ray.intersectsSphere(n)){e.getInverse(c),t.copy(r.ray).applyMatrix4(e);var f=u/((this.scale.x+this.scale.y+this.scale.z)/3),g=f*f,h=new m;if(p.isBufferGeometry){var y=p.index,x=p.attributes,v=x.position.array;if(null!==y)for(var b=y.array,_=0,i=b.length,E;_<i;_++)E=b[_],h.fromArray(v,3*E),s(h,E);else for(var _=0,a=v.length/3;_<a;_++)h.fromArray(v,3*_),s(h,_)}else for(var l=p.vertices,_=0,a=l.length;_<a;_++)s(l[_],_)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Bt.prototype=Object.assign(Object.create(ce.prototype),{constructor:Bt,isGroup:!0}),Ht.prototype=Object.assign(Object.create(d.prototype),{constructor:Ht,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Vt.prototype=Object.create(d.prototype),Vt.prototype.constructor=Vt,Vt.prototype.isCompressedTexture=!0,Gt.prototype=Object.create(d.prototype),Gt.prototype.constructor=Gt,Gt.prototype.isDepthTexture=!0,Wt.prototype=Object.create(Re.prototype),Wt.prototype.constructor=Wt,jt.prototype=Object.create(ge.prototype),jt.prototype.constructor=jt,Xt.prototype=Object.create(Re.prototype),Xt.prototype.constructor=Xt,Yt.prototype=Object.create(ge.prototype),Yt.prototype.constructor=Yt,qt.prototype=Object.create(Re.prototype),qt.prototype.constructor=qt,Kt.prototype=Object.create(ge.prototype),Kt.prototype.constructor=Kt,Zt.prototype=Object.create(qt.prototype),Zt.prototype.constructor=Zt,Jt.prototype=Object.create(ge.prototype),Jt.prototype.constructor=Jt,Qt.prototype=Object.create(qt.prototype),Qt.prototype.constructor=Qt,$t.prototype=Object.create(ge.prototype),$t.prototype.constructor=$t,en.prototype=Object.create(qt.prototype),en.prototype.constructor=en,tn.prototype=Object.create(ge.prototype),tn.prototype.constructor=tn,nn.prototype=Object.create(qt.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(ge.prototype),rn.prototype.constructor=rn,an.prototype=Object.create(Re.prototype),an.prototype.constructor=an,on.prototype=Object.create(ge.prototype),on.prototype.constructor=on,sn.prototype=Object.create(Re.prototype),sn.prototype.constructor=sn,dn.prototype=Object.create(ge.prototype),dn.prototype.constructor=dn,ln.prototype=Object.create(Re.prototype),ln.prototype.constructor=ln;var Xd={triangulate:function(e,t,n){n=n||2;var r=t&&t.length,a=r?t[0]*n:e.length,o=pn(e,0,a,n,!0),s=[];if(!o)return s;var d,l,p,c,u,m,f;if(r&&(o=yn(e,t,o,n)),e.length>80*n){d=p=e[0],l=c=e[1];for(var g=n;g<a;g+=n)u=e[g],m=e[g+1],u<d&&(d=u),m<l&&(l=m),u>p&&(p=u),m>c&&(c=m);f=ni(p-d,c-l),f=0===f?0:1/f}return un(o,s,n,d,l,f),s}},Yd={area:function(e){for(var t=e.length,n=0,r=t-1,a=0;a<t;r=a++)n+=e[r].x*e[a].y-e[a].x*e[r].y;return 0.5*n},isClockWise:function(e){return 0>Yd.area(e)},triangulateShape:function(e,t){function n(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function r(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var a=[],o=[],s=[];n(e),r(a,e);var d=e.length;for(t.forEach(n),p=0;p<t.length;p++)o.push(d),d+=t[p].length,r(a,t[p]);for(var l=Xd.triangulate(a,o),p=0;p<l.length;p+=3)s.push(l.slice(p,p+3));return s}};Fn.prototype=Object.create(ge.prototype),Fn.prototype.constructor=Fn,zn.prototype=Object.create(Re.prototype),zn.prototype.constructor=zn,zn.prototype.getArrays=function(){var e=this.getAttribute('position'),t=e?Array.prototype.slice.call(e.array):[],n=this.getAttribute('uv'),r=n?Array.prototype.slice.call(n.array):[],a=this.index,o=a?Array.prototype.slice.call(a.array):[];return{position:t,uv:r,index:o}},zn.prototype.addShapeList=function(e,t){var n=e.length;t.arrays=this.getArrays();for(var r=0,a;r<n;r++)a=e[r],this.addShape(a,t);this.setIndex(t.arrays.index),this.addAttribute('position',new Se(t.arrays.position,3)),this.addAttribute('uv',new Se(t.arrays.uv,2))},zn.prototype.addShape=function(e,n){function r(e,t,n){return t||console.error('THREE.ExtrudeGeometry: vec does not exist'),t.clone().multiplyScalar(n).add(e)}function a(e,t,n){var r=e.x-t.x,a=e.y-t.y,i=n.x-e.x,s=n.y-e.y,d=r*r+a*a,l,p,c;if(Ko(r*s-a*i)>ii){var u=Zo(d),m=Zo(i*i+s*s),f=t.x-a/u,g=t.y+r/u,h=n.x-s/m,y=n.y+i/m,x=((h-f)*s-(y-g)*i)/(r*s-a*i);l=f+r*x-e.x,p=g+a*x-e.y;var v=l*l+p*p;if(2>=v)return new o(l,p);c=Zo(v/2)}else{var b=!1;r>ii?i>ii&&(b=!0):r<-ii?i<-ii&&(b=!0):ri(a)===ri(s)&&(b=!0),b?(l=-a,p=r,c=Zo(d)):(l=r,p=a,c=Zo(d/2))}return new o(l/c,p/c)}function d(e,t){var n,r;for(Q=e.length;0<=--Q;){n=Q,r=Q-1,0>r&&(r=e.length-1);var o=0,i=R+2*C;for(o=0;o<i;o++){var s=K*o,l=K*(o+1),p=t+n+s,a=t+r+s,m=t+r+l,c=t+n+l;u(p,a,m,c)}}}function l(e,t,n){_.push(e),_.push(t),_.push(n)}function p(e,t,n){f(e),f(t),f(n);var r=y.length/3,a=L.generateTopUV(F,y,r-3,r-2,r-1);g(a[0]),g(a[1]),g(a[2])}function u(e,t,n,r){f(e),f(t),f(r),f(t),f(n),f(r);var a=y.length/3,o=L.generateSideWallUV(F,y,a-6,a-3,a-2,a-1);g(o[0]),g(o[1]),g(o[3]),g(o[1]),g(o[2]),g(o[3])}function f(e){x.push(y.length/3),y.push(_[3*e+0]),y.push(_[3*e+1]),y.push(_[3*e+2])}function g(e){v.push(e.x),v.push(e.y)}var c=n.arrays?n.arrays:this.getArrays(),y=c.position,x=c.index,v=c.uv,_=[],E=n.amount===void 0?100:n.amount,T=n.bevelThickness===void 0?6:n.bevelThickness,S=n.bevelSize===void 0?T-2:n.bevelSize,C=n.bevelSegments===void 0?3:n.bevelSegments,M=!(n.bevelEnabled!==void 0)||n.bevelEnabled,w=n.curveSegments===void 0?12:n.curveSegments,R=n.steps===void 0?1:n.steps,P=n.extrudePath,A=!1,L=n.UVGenerator===void 0?Fn.WorldUVGenerator:n.UVGenerator,I,N,D,U,O;P&&(I=P.getSpacedPoints(R),A=!0,M=!1,N=n.frames===void 0?P.computeFrenetFrames(R,!1):n.frames,D=new m,U=new m,O=new m),M||(C=0,T=0,S=0);var F=this,B=e.extractPoints(w),H=B.shape,V=B.holes,G=!Yd.isClockWise(H),W,X,h;if(G)for(H=H.reverse(),X=0,h=V.length;X<h;X++)W=V[X],Yd.isClockWise(W)&&(V[X]=W.reverse());var Y=Yd.triangulateShape(H,V),q=H;for(X=0,h=V.length;X<h;X++)W=V[X],H=H.concat(W);for(var K=H.length,Z=Y.length,J=[],Q=0,i=q.length,$=i-1,j=Q+1,k,b,ee,t,te,ne;Q<i;Q++,$++,j++)$===i&&($=0),j===i&&(j=0),J[Q]=a(q[Q],q[$],q[j]);var re=[],ae=J.concat(),oe;for(X=0,h=V.length;X<h;X++){for(W=V[X],oe=[],(Q=0,i=W.length,$=i-1,j=Q+1);Q<i;Q++,$++,j++)$===i&&($=0),j===i&&(j=0),oe[Q]=a(W[Q],W[$],W[j]);re.push(oe),ae=ae.concat(oe)}for(k=0;k<C;k++){for(ee=k/C,t=T*Yo(ee*di/2),b=S*Xo(ee*di/2),(Q=0,i=q.length);Q<i;Q++)te=r(q[Q],J[Q],b),l(te.x,te.y,-t);for(X=0,h=V.length;X<h;X++)for(W=V[X],oe=re[X],(Q=0,i=W.length);Q<i;Q++)te=r(W[Q],oe[Q],b),l(te.x,te.y,-t)}for(b=S,Q=0;Q<K;Q++)te=M?r(H[Q],ae[Q],b):H[Q],A?(U.copy(N.normals[0]).multiplyScalar(te.x),D.copy(N.binormals[0]).multiplyScalar(te.y),O.copy(I[0]).add(U).add(D),l(O.x,O.y,O.z)):l(te.x,te.y,0);var ie;for(ie=1;ie<=R;ie++)for(Q=0;Q<K;Q++)te=M?r(H[Q],ae[Q],b):H[Q],A?(U.copy(N.normals[ie]).multiplyScalar(te.x),D.copy(N.binormals[ie]).multiplyScalar(te.y),O.copy(I[ie]).add(U).add(D),l(O.x,O.y,O.z)):l(te.x,te.y,E/R*ie);for(k=C-1;0<=k;k--){for(ee=k/C,t=T*Yo(ee*di/2),b=S*Xo(ee*di/2),(Q=0,i=q.length);Q<i;Q++)te=r(q[Q],J[Q],b),l(te.x,te.y,E+t);for(X=0,h=V.length;X<h;X++)for(W=V[X],oe=re[X],(Q=0,i=W.length);Q<i;Q++)te=r(W[Q],oe[Q],b),A?l(te.x,te.y+I[R-1].y,I[R-1].x+t):l(te.x,te.y,E+t)}(function(){var e=y.length/3;if(M){var t=0,r=K*t;for(Q=0;Q<Z;Q++)ne=Y[Q],p(ne[2]+r,ne[1]+r,ne[0]+r);for(t=R+2*C,r=K*t,Q=0;Q<Z;Q++)ne=Y[Q],p(ne[0]+r,ne[1]+r,ne[2]+r)}else{for(Q=0;Q<Z;Q++)ne=Y[Q],p(ne[2],ne[1],ne[0]);for(Q=0;Q<Z;Q++)ne=Y[Q],p(ne[0]+K*R,ne[1]+K*R,ne[2]+K*R)}F.addGroup(e,y.length/3-e,n.material===void 0?0:n.material)})(),function(){var e=y.length/3,t=0;for(d(q,t),t+=q.length,(X=0,h=V.length);X<h;X++)W=V[X],d(W,t),t+=W.length;F.addGroup(e,y.length/3-e,n.extrudeMaterial===void 0?1:n.extrudeMaterial)}(),n.arrays||(this.setIndex(x),this.addAttribute('position',new Se(y,3)),this.addAttribute('uv',new Se(v,2)))},Fn.WorldUVGenerator={generateTopUV:function(e,t,n,r,a){var i=t[3*n],s=t[3*n+1],d=t[3*r],l=t[3*r+1],p=t[3*a],c=t[3*a+1];return[new o(i,s),new o(d,l),new o(p,c)]},generateSideWallUV:function(e,t,n,r,a,i){var s=t[3*n],d=t[3*n+1],l=t[3*n+2],p=t[3*r],c=t[3*r+1],u=t[3*r+2],m=t[3*a],f=t[3*a+1],g=t[3*a+2],h=t[3*i],y=t[3*i+1],x=t[3*i+2];return 0.01>Ko(d-c)?[new o(s,1-l),new o(p,1-u),new o(m,1-g),new o(h,1-x)]:[new o(d,1-l),new o(c,1-u),new o(f,1-g),new o(y,1-x)]}},Bn.prototype=Object.create(ge.prototype),Bn.prototype.constructor=Bn,Hn.prototype=Object.create(zn.prototype),Hn.prototype.constructor=Hn,Vn.prototype=Object.create(ge.prototype),Vn.prototype.constructor=Vn,Gn.prototype=Object.create(Re.prototype),Gn.prototype.constructor=Gn,Wn.prototype=Object.create(ge.prototype),Wn.prototype.constructor=Wn,jn.prototype=Object.create(Re.prototype),jn.prototype.constructor=jn,Xn.prototype=Object.create(ge.prototype),Xn.prototype.constructor=Xn,Yn.prototype=Object.create(Re.prototype),Yn.prototype.constructor=Yn,qn.prototype=Object.create(ge.prototype),qn.prototype.constructor=qn,qn.prototype.toJSON=function(){var e=ge.prototype.toJSON.call(this),t=this.parameters.shapes;return Zn(t,e)},Kn.prototype=Object.create(Re.prototype),Kn.prototype.constructor=Kn,Kn.prototype.toJSON=function(){var e=Re.prototype.toJSON.call(this),t=this.parameters.shapes;return Zn(t,e)},Jn.prototype=Object.create(Re.prototype),Jn.prototype.constructor=Jn,Qn.prototype=Object.create(ge.prototype),Qn.prototype.constructor=Qn,$n.prototype=Object.create(Re.prototype),$n.prototype.constructor=$n,er.prototype=Object.create(Qn.prototype),er.prototype.constructor=er,tr.prototype=Object.create($n.prototype),tr.prototype.constructor=tr,nr.prototype=Object.create(ge.prototype),nr.prototype.constructor=nr,rr.prototype=Object.create(Re.prototype),rr.prototype.constructor=rr;var qd=Object.freeze({WireframeGeometry:Wt,ParametricGeometry:jt,ParametricBufferGeometry:Xt,TetrahedronGeometry:Kt,TetrahedronBufferGeometry:Zt,OctahedronGeometry:Jt,OctahedronBufferGeometry:Qt,IcosahedronGeometry:$t,IcosahedronBufferGeometry:en,DodecahedronGeometry:tn,DodecahedronBufferGeometry:nn,PolyhedronGeometry:Yt,PolyhedronBufferGeometry:qt,TubeGeometry:rn,TubeBufferGeometry:an,TorusKnotGeometry:on,TorusKnotBufferGeometry:sn,TorusGeometry:dn,TorusBufferGeometry:ln,TextGeometry:Bn,TextBufferGeometry:Hn,SphereGeometry:Vn,SphereBufferGeometry:Gn,RingGeometry:Wn,RingBufferGeometry:jn,PlaneGeometry:Le,PlaneBufferGeometry:Ie,LatheGeometry:Xn,LatheBufferGeometry:Yn,ShapeGeometry:qn,ShapeBufferGeometry:Kn,ExtrudeGeometry:Fn,ExtrudeBufferGeometry:zn,EdgesGeometry:Jn,ConeGeometry:er,ConeBufferGeometry:tr,CylinderGeometry:Qn,CylinderBufferGeometry:$n,CircleGeometry:nr,CircleBufferGeometry:rr,BoxGeometry:Pe,BoxBufferGeometry:Ae});ar.prototype=Object.create(ee.prototype),ar.prototype.constructor=ar,ar.prototype.isShadowMaterial=!0,or.prototype=Object.create(De.prototype),or.prototype.constructor=or,or.prototype.isRawShaderMaterial=!0,ir.prototype=Object.create(ee.prototype),ir.prototype.constructor=ir,ir.prototype.isMeshStandardMaterial=!0,ir.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.defines={STANDARD:''},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},sr.prototype=Object.create(ir.prototype),sr.prototype.constructor=sr,sr.prototype.isMeshPhysicalMaterial=!0,sr.prototype.copy=function(e){return ir.prototype.copy.call(this,e),this.defines={PHYSICAL:''},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},dr.prototype=Object.create(ee.prototype),dr.prototype.constructor=dr,dr.prototype.isMeshPhongMaterial=!0,dr.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},lr.prototype=Object.create(dr.prototype),lr.prototype.constructor=lr,lr.prototype.isMeshToonMaterial=!0,lr.prototype.copy=function(e){return dr.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},pr.prototype=Object.create(ee.prototype),pr.prototype.constructor=pr,pr.prototype.isMeshNormalMaterial=!0,pr.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},cr.prototype=Object.create(ee.prototype),cr.prototype.constructor=cr,cr.prototype.isMeshLambertMaterial=!0,cr.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ur.prototype=Object.create(Dt.prototype),ur.prototype.constructor=ur,ur.prototype.isLineDashedMaterial=!0,ur.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Kd=Object.freeze({ShadowMaterial:ar,SpriteMaterial:Rt,RawShaderMaterial:or,ShaderMaterial:De,PointsMaterial:Ft,MeshPhysicalMaterial:sr,MeshStandardMaterial:ir,MeshPhongMaterial:dr,MeshToonMaterial:lr,MeshNormalMaterial:pr,MeshLambertMaterial:cr,MeshDepthMaterial:te,MeshDistanceMaterial:ne,MeshBasicMaterial:Ne,LineDashedMaterial:ur,LineBasicMaterial:Dt,Material:ee}),Zd={enabled:!1,files:{},add:function(e,t){!1===this.enabled||(this.files[e]=t)},get:function(e){return!1===this.enabled?void 0:this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Jd=new mr,Qd={};Object.assign(fr.prototype,{load:function(e,t,n,r){void 0===e&&(e=''),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,o=Zd.get(e);if(void 0!==o)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;if(void 0!==Qd[e])return void Qd[e].push({onLoad:t,onProgress:n,onError:r});var s=/^data:(.*?)(;base64)?,(.*)$/,d=e.match(s);if(d){var l=d[1],p=!!d[2],c=d[3];c=window.decodeURIComponent(c),p&&(c=window.atob(c));try{var u=(this.responseType||'').toLowerCase(),m;switch(u){case'arraybuffer':case'blob':for(var f=new Uint8Array(c.length),g=0;g<c.length;g++)f[g]=c.charCodeAt(g);m='blob'===u?new Blob([f.buffer],{type:l}):f.buffer;break;case'document':var i=new DOMParser;m=i.parseFromString(c,l);break;case'json':m=JSON.parse(c);break;default:m=c;}window.setTimeout(function(){t&&t(m),a.manager.itemEnd(e)},0)}catch(t){window.setTimeout(function(){r&&r(t),a.manager.itemEnd(e),a.manager.itemError(e)},0)}}else{Qd[e]=[],Qd[e].push({onLoad:t,onProgress:n,onError:r});var h=new XMLHttpRequest;for(var y in h.open('GET',e,!0),h.addEventListener('load',function(t){var n=this.response;Zd.add(e,n);var r=Qd[e];if(delete Qd[e],200===this.status){for(var o=0,i=r.length,s;o<i;o++)s=r[o],s.onLoad&&s.onLoad(n);a.manager.itemEnd(e)}else if(0===this.status){console.warn('THREE.FileLoader: HTTP Status 0 received.');for(var o=0,i=r.length,s;o<i;o++)s=r[o],s.onLoad&&s.onLoad(n);a.manager.itemEnd(e)}else{for(var o=0,i=r.length,s;o<i;o++)s=r[o],s.onError&&s.onError(t);a.manager.itemEnd(e),a.manager.itemError(e)}},!1),h.addEventListener('progress',function(t){for(var n=Qd[e],r=0,a=n.length,o;r<a;r++)o=n[r],o.onProgress&&o.onProgress(t)},!1),h.addEventListener('error',function(t){var n=Qd[e];delete Qd[e];for(var r=0,o=n.length,i;r<o;r++)i=n[r],i.onError&&i.onError(t);a.manager.itemEnd(e),a.manager.itemError(e)},!1),void 0!==this.responseType&&(h.responseType=this.responseType),void 0!==this.withCredentials&&(h.withCredentials=this.withCredentials),h.overrideMimeType&&h.overrideMimeType(void 0===this.mimeType?'text/plain':this.mimeType),this.requestHeader)h.setRequestHeader(y,this.requestHeader[y]);h.send(null)}return a.manager.itemStart(e),h},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(gr.prototype,{load:function(e,t,n,r){function a(a){l.load(e[a],function(e){var n=o._parser(e,!0);s[a]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},p+=1,6==p&&(1===n.mipmapCount&&(d.minFilter=ws),d.format=n.format,d.needsUpdate=!0,t&&t(d))},n,r)}var o=this,s=[],d=new Vt;d.image=s;var l=new fr(this.manager);if(l.setPath(this.path),l.setResponseType('arraybuffer'),Array.isArray(e))for(var p=0,c=0,i=e.length;c<i;++c)a(c);else l.load(e,function(e){var n=o._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,a=0;a<r;a++){s[a]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)s[a].mipmaps.push(n.mipmaps[a*n.mipmapCount+l]),s[a].format=n.format,s[a].width=n.width,s[a].height=n.height}else d.image.width=n.width,d.image.height=n.height,d.mipmaps=n.mipmaps;1===n.mipmapCount&&(d.minFilter=ws),d.format=n.format,d.needsUpdate=!0,t&&t(d)},n,r);return d},setPath:function(e){return this.path=e,this}}),Object.assign(hr.prototype,{load:function(e,t,n,r){var a=this,o=new u,i=new fr(this.manager);return i.setResponseType('arraybuffer'),i.load(e,function(e){var n=a._parser(e);n&&(void 0===n.image?void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data):o.image=n.image,o.wrapS=void 0===n.wrapS?Es:n.wrapS,o.wrapT=void 0===n.wrapT?Es:n.wrapT,o.magFilter=void 0===n.magFilter?ws:n.magFilter,o.minFilter=void 0===n.minFilter?Ps:n.minFilter,o.anisotropy=void 0===n.anisotropy?1:n.anisotropy,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=ws),o.needsUpdate=!0,t&&t(o,n))},n,r),o}}),Object.assign(yr.prototype,{crossOrigin:'Anonymous',load:function(e,t,n,r){void 0===e&&(e=''),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,o=Zd.get(e);if(void 0!==o)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;var i=document.createElementNS('http://www.w3.org/1999/xhtml','img');return i.addEventListener('load',function(){Zd.add(e,this),t&&t(this),a.manager.itemEnd(e)},!1),i.addEventListener('error',function(t){r&&r(t),a.manager.itemEnd(e),a.manager.itemError(e)},!1),'data:'!==e.substr(0,5)&&void 0!==this.crossOrigin&&(i.crossOrigin=this.crossOrigin),a.manager.itemStart(e),i.src=e,i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(xr.prototype,{crossOrigin:'Anonymous',load:function(e,t,n,r){function a(n){s.load(e[n],function(e){o.images[n]=e,d++,6==d&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}var o=new f,s=new yr(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);for(var d=0,l=0;l<e.length;++l)a(l);return o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(vr.prototype,{crossOrigin:'Anonymous',load:function(e,t,n,r){var a=new d,o=new yr(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(n){a.image=n;var r=0<e.search(/\.(jpg|jpeg)$/)||0===e.search(/^data\:image\/jpeg/);a.format=r?Gs:Ws,a.needsUpdate=!0,void 0!==t&&t(a)},n,r),a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(br.prototype,{getPoint:function(){return console.warn('THREE.Curve: .getPoint() not implemented.'),null},getPointAt:function(e,n){var r=this.getUtoTmapping(e);return this.getPoint(r,n)},getPoints:function(e){e===void 0&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){e===void 0&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t=[],n=this.getPoint(0),r=0,a,o;for(t.push(0),o=1;o<=e;o++)a=this.getPoint(o/e),r+=a.distanceTo(n),t.push(r),n=a;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,n){var r=this.getLengths(),a=0,o=r.length,i;i=n?n:e*r[o-1];for(var s=0,d=o-1,l;s<=d;)if(a=ai(s+(d-s)/2),l=r[a]-i,0>l)s=a+1;else if(0<l)d=a-1;else{d=a;break}if(a=d,r[a]===i)return a/(o-1);var p=r[a],c=r[a+1],u=(i-p)/(c-p),m=(a+u)/(o-1);return m},getTangent:function(e){var t=1e-4,n=e-t,r=e+t;0>n&&(n=0),1<r&&(r=1);var a=this.getPoint(n),o=this.getPoint(r),i=o.clone().sub(a);return i.normalize()},getTangentAt:function(e){var n=this.getUtoTmapping(e);return this.getTangent(n)},computeFrenetFrames:function(e,t){var n=new m,r=[],o=[],s=[],d=new m,l=new a,p,i,c;for(p=0;p<=e;p++)i=p/e,r[p]=this.getTangentAt(i),r[p].normalize();o[0]=new m,s[0]=new m;var u=Number.MAX_VALUE,f=Ko(r[0].x),g=Ko(r[0].y),h=Ko(r[0].z);for(f<=u&&(u=f,n.set(1,0,0)),g<=u&&(u=g,n.set(0,1,0)),h<=u&&n.set(0,0,1),d.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],d),s[0].crossVectors(r[0],o[0]),p=1;p<=e;p++)o[p]=o[p-1].clone(),s[p]=s[p-1].clone(),d.crossVectors(r[p-1],r[p]),d.length()>ii&&(d.normalize(),c=jo(wd.clamp(r[p-1].dot(r[p]),-1,1)),o[p].applyMatrix4(l.makeRotationAxis(d,c))),s[p].crossVectors(r[p],o[p]);if(!0===t)for(c=jo(wd.clamp(o[0].dot(o[e]),-1,1)),c/=e,0<r[0].dot(d.crossVectors(o[0],o[e]))&&(c=-c),p=1;p<=e;p++)o[p].applyMatrix4(l.makeRotationAxis(r[p],c*p)),s[p].crossVectors(r[p],o[p]);return{tangents:r,normals:o,binormals:s}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:'Curve',generator:'Curve.toJSON'},arcLengthDivisions:this.arcLengthDivisions,type:this.type};return e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),_r.prototype=Object.create(br.prototype),_r.prototype.constructor=_r,_r.prototype.isEllipseCurve=!0,_r.prototype.getPoint=function(e,t){for(var n=t||new o,r=2*di,a=this.aEndAngle-this.aStartAngle,i=Ko(a)<ii;0>a;)a+=r;for(;a>r;)a-=r;a<ii&&(i?a=0:a=r),!0!==this.aClockwise||i||(a==r?a=-r:a-=r);var s=this.aStartAngle+e*a,d=this.aX+this.xRadius*Yo(s),l=this.aY+this.yRadius*Xo(s);if(0!==this.aRotation){var p=Yo(this.aRotation),c=Xo(this.aRotation),u=d-this.aX,m=l-this.aY;d=u*p-m*c+this.aX,l=u*c+m*p+this.aY}return n.set(d,l)},_r.prototype.copy=function(e){return br.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},_r.prototype.toJSON=function(){var e=br.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},_r.prototype.fromJSON=function(e){return br.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Er.prototype=Object.create(_r.prototype),Er.prototype.constructor=Er,Er.prototype.isArcCurve=!0;var $d=new m,el=new Tr,tl=new Tr,nl=new Tr;Sr.prototype=Object.create(br.prototype),Sr.prototype.constructor=Sr,Sr.prototype.isCatmullRomCurve3=!0,Sr.prototype.getPoint=function(e,t){var n=t||new m,r=this.points,a=r.length,o=(a-(this.closed?0:1))*e,i=ai(o),s=o-i;this.closed?i+=0<i?0:(ai(Ko(i)/r.length)+1)*r.length:0==s&&i===a-1&&(i=a-2,s=1);var d,l,p,c;if(this.closed||0<i?d=r[(i-1)%a]:($d.subVectors(r[0],r[1]).add(r[0]),d=$d),l=r[i%a],p=r[(i+1)%a],this.closed||i+2<a?c=r[(i+2)%a]:($d.subVectors(r[a-1],r[a-2]).add(r[a-1]),c=$d),'centripetal'===this.curveType||'chordal'===this.curveType){var u='chordal'===this.curveType?0.5:0.25,f=Qo(d.distanceToSquared(l),u),g=Qo(l.distanceToSquared(p),u),h=Qo(p.distanceToSquared(c),u);1e-4>g&&(g=1),1e-4>f&&(f=g),1e-4>h&&(h=g),el.initNonuniformCatmullRom(d.x,l.x,p.x,c.x,f,g,h),tl.initNonuniformCatmullRom(d.y,l.y,p.y,c.y,f,g,h),nl.initNonuniformCatmullRom(d.z,l.z,p.z,c.z,f,g,h)}else'catmullrom'===this.curveType&&(el.initCatmullRom(d.x,l.x,p.x,c.x,this.tension),tl.initCatmullRom(d.y,l.y,p.y,c.y,this.tension),nl.initCatmullRom(d.z,l.z,p.z,c.z,this.tension));return n.set(el.calc(s),tl.calc(s),nl.calc(s)),n},Sr.prototype.copy=function(e){br.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length,r;t<n;t++)r=e.points[t],this.points.push(r.clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Sr.prototype.toJSON=function(){var e=br.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length,r;t<n;t++)r=this.points[t],e.points.push(r.toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Sr.prototype.fromJSON=function(e){br.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length,r;t<n;t++)r=e.points[t],this.points.push(new m().fromArray(r));return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Ur.prototype=Object.create(br.prototype),Ur.prototype.constructor=Ur,Ur.prototype.isCubicBezierCurve=!0,Ur.prototype.getPoint=function(e,t){var n=t||new o,r=this.v0,a=this.v1,i=this.v2,s=this.v3;return n.set(Dr(e,r.x,a.x,i.x,s.x),Dr(e,r.y,a.y,i.y,s.y)),n},Ur.prototype.copy=function(e){return br.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ur.prototype.toJSON=function(){var e=br.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Ur.prototype.fromJSON=function(e){return br.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},kr.prototype=Object.create(br.prototype),kr.prototype.constructor=kr,kr.prototype.isCubicBezierCurve3=!0,kr.prototype.getPoint=function(e,t){var n=t||new m,r=this.v0,a=this.v1,o=this.v2,i=this.v3;return n.set(Dr(e,r.x,a.x,o.x,i.x),Dr(e,r.y,a.y,o.y,i.y),Dr(e,r.z,a.z,o.z,i.z)),n},kr.prototype.copy=function(e){return br.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},kr.prototype.toJSON=function(){var e=br.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},kr.prototype.fromJSON=function(e){return br.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Or.prototype=Object.create(br.prototype),Or.prototype.constructor=Or,Or.prototype.isLineCurve=!0,Or.prototype.getPoint=function(e,t){var n=t||new o;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Or.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Or.prototype.getTangent=function(){var e=this.v2.clone().sub(this.v1);return e.normalize()},Or.prototype.copy=function(e){return br.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Or.prototype.toJSON=function(){var e=br.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Or.prototype.fromJSON=function(e){return br.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Fr.prototype=Object.create(br.prototype),Fr.prototype.constructor=Fr,Fr.prototype.isLineCurve3=!0,Fr.prototype.getPoint=function(e,t){var n=t||new m;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Fr.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Fr.prototype.copy=function(e){return br.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Fr.prototype.toJSON=function(){var e=br.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Fr.prototype.fromJSON=function(e){return br.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},zr.prototype=Object.create(br.prototype),zr.prototype.constructor=zr,zr.prototype.isQuadraticBezierCurve=!0,zr.prototype.getPoint=function(e,t){var n=t||new o,r=this.v0,a=this.v1,i=this.v2;return n.set(Pr(e,r.x,a.x,i.x),Pr(e,r.y,a.y,i.y)),n},zr.prototype.copy=function(e){return br.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},zr.prototype.toJSON=function(){var e=br.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},zr.prototype.fromJSON=function(e){return br.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Br.prototype=Object.create(br.prototype),Br.prototype.constructor=Br,Br.prototype.isQuadraticBezierCurve3=!0,Br.prototype.getPoint=function(e,t){var n=t||new m,r=this.v0,a=this.v1,o=this.v2;return n.set(Pr(e,r.x,a.x,o.x),Pr(e,r.y,a.y,o.y),Pr(e,r.z,a.z,o.z)),n},Br.prototype.copy=function(e){return br.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Br.prototype.toJSON=function(){var e=br.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Br.prototype.fromJSON=function(e){return br.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Hr.prototype=Object.create(br.prototype),Hr.prototype.constructor=Hr,Hr.prototype.isSplineCurve=!0,Hr.prototype.getPoint=function(e,t){var n=t||new o,r=this.points,a=(r.length-1)*e,i=ai(a),s=a-i,d=r[0===i?i:i-1],l=r[i],p=r[i>r.length-2?r.length-1:i+1],c=r[i>r.length-3?r.length-1:i+2];return n.set(Cr(s,d.x,l.x,p.x,c.x),Cr(s,d.y,l.y,p.y,c.y)),n},Hr.prototype.copy=function(e){br.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length,r;t<n;t++)r=e.points[t],this.points.push(r.clone());return this},Hr.prototype.toJSON=function(){var e=br.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length,r;t<n;t++)r=this.points[t],e.points.push(r.toArray());return e},Hr.prototype.fromJSON=function(e){br.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length,r;t<n;t++)r=e.points[t],this.points.push(new o().fromArray(r));return this};var rl=Object.freeze({ArcCurve:Er,CatmullRomCurve3:Sr,CubicBezierCurve:Ur,CubicBezierCurve3:kr,EllipseCurve:_r,LineCurve:Or,LineCurve3:Fr,QuadraticBezierCurve:zr,QuadraticBezierCurve3:Br,SplineCurve:Hr});Vr.prototype=Object.assign(Object.create(br.prototype),{constructor:Vr,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Or(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var a=n[r]-t,o=this.curves[r],i=o.getLength(),s=0===i?0:1-a/i;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t=[],n=0,r=this.curves,a;n<r.length;n++)for(var o=r[n],i=o&&o.isEllipseCurve?2*e:o&&o.isLineCurve?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(i),d=0,l;d<s.length;d++)l=s[d],a&&a.equals(l)||(t.push(l),a=l);return this.autoClose&&1<t.length&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){br.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length,r;t<n;t++)r=e.curves[t],this.curves.push(r.clone());return this.autoClose=e.autoClose,this},toJSON:function(){var e=br.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length,r;t<n;t++)r=this.curves[t],e.curves.push(r.toJSON());return e},fromJSON:function(e){br.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length,r;t<n;t++)r=e.curves[t],this.curves.push(new rl[r.type]().fromJSON(r));return this}}),Gr.prototype=Object.assign(Object.create(Vr.prototype),{constructor:Gr,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new Or(this.currentPoint.clone(),new o(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var a=new zr(this.currentPoint.clone(),new o(e,t),new o(n,r));this.curves.push(a),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,a,i){var s=new Ur(this.currentPoint.clone(),new o(e,t),new o(n,r),new o(a,i));this.curves.push(s),this.currentPoint.set(a,i)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Hr(t);this.curves.push(n),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,a,o){var i=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+i,t+s,n,r,a,o)},absarc:function(e,t,n,r,a,o){this.absellipse(e,t,n,n,r,a,o)},ellipse:function(e,t,n,r,a,o,i,s){var d=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(e+d,t+l,n,r,a,o,i,s)},absellipse:function(e,t,n,r,a,o,i,s){var d=new _r(e,t,n,r,a,o,i,s);if(0<this.curves.length){var l=d.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(d);var p=d.getPoint(1);this.currentPoint.copy(p)},copy:function(e){return Vr.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Vr.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Vr.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Wr.prototype=Object.assign(Object.create(Gr.prototype),{constructor:Wr,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Gr.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length,r;t<n;t++)r=e.holes[t],this.holes.push(r.clone());return this},toJSON:function(){var e=Gr.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length,r;t<n;t++)r=this.holes[t],e.holes.push(r.toJSON());return e},fromJSON:function(e){Gr.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length,r;t<n;t++)r=e.holes[t],this.holes.push(new Gr().fromJSON(r));return this}}),jr.prototype=Object.assign(Object.create(ce.prototype),{constructor:jr,isLight:!0,copy:function(e){return ce.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Xr.prototype=Object.assign(Object.create(jr.prototype),{constructor:Xr,isHemisphereLight:!0,copy:function(e){return jr.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Yr.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),qr.prototype=Object.assign(Object.create(Yr.prototype),{constructor:qr,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*wd.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(n!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=r,t.far=a,t.updateProjectionMatrix())}}),Kr.prototype=Object.assign(Object.create(jr.prototype),{constructor:Kr,isSpotLight:!0,copy:function(e){return jr.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Zr.prototype=Object.assign(Object.create(jr.prototype),{constructor:Zr,isPointLight:!0,copy:function(e){return jr.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Jr.prototype=Object.assign(Object.create(Yr.prototype),{constructor:Jr}),Qr.prototype=Object.assign(Object.create(jr.prototype),{constructor:Qr,isDirectionalLight:!0,copy:function(e){return jr.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),$r.prototype=Object.assign(Object.create(jr.prototype),{constructor:$r,isAmbientLight:!0}),ea.prototype=Object.assign(Object.create(jr.prototype),{constructor:ea,isRectAreaLight:!0,copy:function(e){return jr.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=jr.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),ta.prototype=Object.assign(Object.create(ca.prototype),{constructor:ta,ValueTypeName:'string',ValueBufferType:Array,DefaultInterpolation:dd,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),na.prototype=Object.assign(Object.create(ca.prototype),{constructor:na,ValueTypeName:'bool',ValueBufferType:Array,DefaultInterpolation:dd,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Object.assign(ra.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],a=t[n-1];validate_interval:{seek:{var o;linear_scan:{forward_scan:if(!(e<r)){for(var i=n+2;;){if(void 0===r){if(e<a)break forward_scan;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,a)}if(n===i)break;if(a=r,r=t[++n],e<r)break seek}o=t.length;break linear_scan}if(!(e>=a)){var s=t[1];e<s&&(n=2,a=s);for(var i=n-2;;){if(void 0===a)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===i)break;if(r=a,a=t[--n-1],e>=a)break seek}o=n,n=0;break linear_scan}break validate_interval}for(;n<o;){var d=n+o>>>1;e<t[d]?o=d:n=d+1}if(r=t[n],a=t[n-1],void 0===a)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,a,e)}this._cachedIndex=n,this.intervalChanged_(n,a,r)}return this.interpolate_(n,a,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=0;a!==r;++a)t[a]=n[e*r+a];return t},interpolate_:function(){throw new Error('call to abstract method')},intervalChanged_:function(){}}),Object.assign(ra.prototype,{beforeStart_:ra.prototype.copySampleValue_,afterEnd_:ra.prototype.copySampleValue_}),aa.prototype=Object.assign(Object.create(ra.prototype),{constructor:aa,interpolate_:function(e,n,r,t){for(var a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,d=e*s,l=d+s;d!==l;d+=4)i.slerpFlat(a,0,o,d-s,o,d,(r-n)/(t-n));return a}}),oa.prototype=Object.assign(Object.create(ca.prototype),{constructor:oa,ValueTypeName:'quaternion',DefaultInterpolation:ld,InterpolantFactoryMethodLinear:function(e){return new aa(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),ia.prototype=Object.assign(Object.create(ca.prototype),{constructor:ia,ValueTypeName:'color'}),sa.prototype=Object.assign(Object.create(ca.prototype),{constructor:sa,ValueTypeName:'number'}),da.prototype=Object.assign(Object.create(ra.prototype),{constructor:da,DefaultSettings_:{endingStart:cd,endingEnd:cd},intervalChanged_:function(e,t,n){var r=this.parameterPositions,a=e-2,o=e+1,i=r[a],s=r[o];if(i===void 0)switch(this.getSettings_().endingStart){case ud:a=e,i=2*t-n;break;case md:a=r.length-2,i=t+r[a]-r[a+1];break;default:a=e,i=n;}if(void 0===s)switch(this.getSettings_().endingEnd){case ud:o=e,s=2*n-t;break;case md:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t;}var d=0.5*(n-t),l=this.valueSize;this._weightPrev=d/(t-i),this._weightNext=d/(s-n),this._offsetPrev=a*l,this._offsetNext=o*l},interpolate_:function(e,n,r,t){for(var a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,d=e*s,l=this._offsetPrev,c=this._offsetNext,u=this._weightPrev,m=this._weightNext,f=(r-n)/(t-n),p=f*f,g=p*f,h=0;h!==s;++h)a[h]=(-u*g+2*u*p-u*f)*o[l+h]+((1+u)*g+(-1.5-2*u)*p+(-0.5+u)*f+1)*o[d-s+h]+((-1-m)*g+(1.5+m)*p+0.5*f)*o[d+h]+(m*g-m*p)*o[c+h];return a}}),la.prototype=Object.assign(Object.create(ra.prototype),{constructor:la,interpolate_:function(e,n,r,t){for(var a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,d=e*s,l=(r-n)/(t-n),p=0;p!==s;++p)a[p]=o[d-s+p]*(1-l)+o[d+p]*l;return a}}),pa.prototype=Object.assign(Object.create(ra.prototype),{constructor:pa,interpolate_:function(e){return this.copySampleValue_(e-1)}});var al={arraySlice:function(e,t,n){return al.isTypedArray(e)?new e.constructor(e.subarray(t,void 0===n?e.length:n)):e.slice(t,n)},convertArray:function(e,t,n){return e&&(n||e.constructor!==t)?'number'==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=Array(t),r=0;r!==t;++r)n[r]=r;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var r=e.length,a=new e.constructor(r),o=0,i=0,s;i!==r;++o){s=n[o]*t;for(var d=0;d!==t;++d)a[i++]=e[s+d]}return a},flattenJSON:function(e,t,n,r){for(var a=1,o=e[0];o!==void 0&&o[r]===void 0;)o=e[a++];if(void 0!==o){var i=o[r];if(void 0!==i)if(Array.isArray(i))do i=o[r],void 0!==i&&(t.push(o.time),n.push.apply(n,i)),o=e[a++];while(void 0!==o);else if(void 0!==i.toArray)do i=o[r],void 0!==i&&(t.push(o.time),i.toArray(n,n.length)),o=e[a++];while(void 0!==o);else do i=o[r],void 0!==i&&(t.push(o.time),n.push(i)),o=e[a++];while(void 0!==o)}}};Object.assign(ca,{parse:function(e){if(e.type===void 0)throw new Error('THREE.KeyframeTrack: track type undefined, can not parse');var t=ca._getTrackTypeForValueTypeName(e.type);if(e.times===void 0){var n=[],r=[];al.flattenJSON(e.keys,n,r,'value'),e.times=n,e.values=r}return void 0===t.parse?new t(e.name,e.times,e.values,e.interpolation):t.parse(e)},toJSON:function(e){var t=e.constructor,n;if(void 0!==t.toJSON)n=t.toJSON(e);else{n={name:e.name,times:al.convertArray(e.times,Array),values:al.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case'scalar':case'double':case'float':case'number':case'integer':return sa;case'vector':case'vector2':case'vector3':case'vector4':return ua;case'color':return ia;case'quaternion':return oa;case'bool':case'boolean':return na;case'string':return ta;}throw new Error('THREE.KeyframeTrack: Unsupported typeName: '+e)}}),Object.assign(ca.prototype,{constructor:ca,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:ld,InterpolantFactoryMethodDiscrete:function(e){return new pa(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new la(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new da(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;if(e===dd?t=this.InterpolantFactoryMethodDiscrete:e===ld?t=this.InterpolantFactoryMethodLinear:e===pd?t=this.InterpolantFactoryMethodSmooth:void 0,void 0===t){var n='unsupported interpolation for '+this.ValueTypeName+' keyframe track named '+this.name;if(void 0===this.createInterpolant)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return void console.warn('THREE.KeyframeTrack:',n)}this.createInterpolant=t},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return dd;case this.InterpolantFactoryMethodLinear:return ld;case this.InterpolantFactoryMethodSmooth:return pd;}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,r=0,a=t.length;r!==a;++r)t[r]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,r=0,a=t.length;r!==a;++r)t[r]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,a=0,o=r-1;a!==r&&n[a]<e;)++a;for(;-1!=o&&n[o]>t;)--o;if(++o,0!=a||o!==r){a>=o&&(o=ni(o,1),a=o-1);var i=this.getValueSize();this.times=al.arraySlice(n,a,o),this.values=al.arraySlice(this.values,a*i,o*i)}return this},validate:function(){var e=!0,t=this.getValueSize();0!=t-ai(t)&&(console.error('THREE.KeyframeTrack: Invalid value size in track.',this),e=!1);var r=this.times,a=this.values,o=r.length;0===o&&(console.error('THREE.KeyframeTrack: Track is empty.',this),e=!1);for(var s=null,d=0,i;d!==o;d++){if(i=r[d],'number'==typeof i&&isNaN(i)){console.error('THREE.KeyframeTrack: Time is not a valid number.',this,d,i),e=!1;break}if(null!=s&&s>i){console.error('THREE.KeyframeTrack: Out of order keys.',this,d,i,s),e=!1;break}s=i}if(a!==void 0&&al.isTypedArray(a))for(var d=0,l=a.length,n;d!==l;++d)if(n=a[d],isNaN(n)){console.error('THREE.KeyframeTrack: Value is not a valid number.',this,d,n),e=!1;break}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===pd,a=1,o=e.length-1,s=1;s<o;++s){var i=!1,d=e[s],l=e[s+1];if(d!==l&&(1!==s||d!==d[0]))if(!r){for(var p=s*n,c=0,u;c!==n;++c)if(u=t[p+c],u!==t[p-n+c]||u!==t[p+n+c]){i=!0;break}}else i=!0;if(i){if(s!==a){e[a]=e[s];for(var m=s*n,f=a*n,c=0;c!==n;++c)t[f+c]=t[m+c]}++a}}if(0<o){e[a]=e[o];for(var m=o*n,f=a*n,c=0;c!==n;++c)t[f+c]=t[m+c];++a}return a!==e.length&&(this.times=al.arraySlice(e,0,a),this.values=al.arraySlice(t,0,a*n)),this}}),ua.prototype=Object.assign(Object.create(ca.prototype),{constructor:ua,ValueTypeName:'vector'}),Object.assign(ma,{parse:function(e){for(var t=[],r=e.tracks,a=1/(e.fps||1),o=0,i=r.length;o!==i;++o)t.push(ca.parse(r[o]).scale(a));return new ma(e.name,e.duration,t)},toJSON:function(e){for(var t=[],r=e.tracks,a={name:e.name,duration:e.duration,tracks:t},o=0,i=r.length;o!==i;++o)t.push(ca.toJSON(r[o]));return a},CreateFromMorphTargetSequence:function(e,t,n,r){for(var a=t.length,o=[],s=0;s<a;s++){var i=[],d=[];i.push((s+a-1)%a,s,(s+1)%a),d.push(0,1,0);var l=al.getKeyframeOrder(i);i=al.sortedArray(i,1,l),d=al.sortedArray(d,1,l),r||0!==i[0]||(i.push(a),d.push(d[0])),o.push(new sa('.morphTargetInfluences['+t[s].name+']',i,d).scale(1/n))}return new ma(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var a=0;a<n.length;a++)if(n[a].name===t)return n[a];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},a=/^([\w-]*?)([\d]+)$/,o=0,i=e.length;o<i;o++){var s=e[o],d=s.name.match(a);if(d&&1<d.length){var l=d[1],p=r[l];p||(r[l]=p=[]),p.push(s)}}var c=[];for(var l in r)c.push(ma.CreateFromMorphTargetSequence(l,r[l],t,n));return c},parseAnimation:function(e,t){if(!e)return console.error('THREE.AnimationClip: No animation in JSONLoader data.'),null;for(var n=function(e,t,n,r,a){if(0!==n.length){var o=[],i=[];al.flattenJSON(n,o,i,r),0!==o.length&&a.push(new e(t,o,i))}},r=[],a=e.name||'default',o=e.length||-1,i=e.fps||30,s=e.hierarchy||[],d=0,l;d<s.length;d++)if(l=s[d].keys,l&&0!==l.length)if(l[0].morphTargets){for(var p={},c=0;c<l.length;c++)if(l[c].morphTargets)for(var u=0;u<l[c].morphTargets.length;u++)p[l[c].morphTargets[u]]=-1;for(var m in p){for(var f=[],g=[],u=0,h;u!==l[c].morphTargets.length;++u)h=l[c],f.push(h.time),g.push(h.morphTarget===m?1:0);r.push(new sa('.morphTargetInfluence['+m+']',f,g))}o=p.length*(i||1)}else{var y='.bones['+t[d].name+']';n(ua,y+'.position',l,'pos',r),n(oa,y+'.quaternion',l,'rot',r),n(ua,y+'.scale',l,'scl',r)}if(0===r.length)return null;var x=new ma(a,o,r);return x}}),Object.assign(ma.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,r=0,a=e.length,n;r!==a;++r)n=this.tracks[r],t=ni(t,n.times[n.times.length-1]);this.duration=t},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(fa.prototype,{load:function(e,t,n,r){var a=this,o=new fr(a.manager);o.load(e,function(e){t(a.parse(JSON.parse(e)))},n,r)},setTextures:function(e){this.textures=e},parse:function(e){function t(e){return void 0===n[e]&&console.warn('THREE.MaterialLoader: Undefined texture',e),n[e]}var n=this.textures,r=new Kd[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(r.uniforms=e.uniforms),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=t(e.map)),void 0!==e.alphaMap&&(r.alphaMap=t(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=t(e.normalMap)),void 0!==e.normalScale){var a=e.normalScale;!1===Array.isArray(a)&&(a=[a,a]),r.normalScale=new o().fromArray(a)}return void 0!==e.displacementMap&&(r.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=t(e.specularMap)),void 0!==e.envMap&&(r.envMap=t(e.envMap)),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=t(e.gradientMap)),r}}),Object.assign(ga.prototype,{load:function(e,t,n,r){var a=this,o=new fr(a.manager);o.load(e,function(e){t(a.parse(JSON.parse(e)))},n,r)},parse:function(e){var t=new Re,r=e.data.index;if(r!==void 0){var a=new ol[r.type](r.array);t.setIndex(new he(a,1))}var o=e.data.attributes;for(var s in o){var d=o[s],a=new ol[d.type](d.array);t.addAttribute(s,new he(a,d.itemSize,d.normalized))}var l=e.data.groups||e.data.drawcalls||e.data.offsets;if(l!==void 0)for(var p=0,i=l.length,n;p!==i;++p)n=l[p],t.addGroup(n.start,n.count,n.materialIndex);var c=e.data.boundingSphere;if(c!==void 0){var u=new m;c.center!==void 0&&u.fromArray(c.center),t.boundingSphere=new ae(u,c.radius)}return t}});var ol={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:'undefined'==typeof Uint8ClampedArray?Uint8Array:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};ha.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var a=t[n],o=t[n+1];if(a.test(e))return o}return null}},Object.assign(ha.prototype,{crossOrigin:void 0,initMaterials:function(e,t,n){for(var r=[],a=0;a<e.length;++a)r[a]=this.createMaterial(e[a],t,n);return r},createMaterial:function(){var e={NoBlending:Pi,NormalBlending:Ai,AdditiveBlending:Li,SubtractiveBlending:Ii,MultiplyBlending:Ni,CustomBlending:Di},t=new K,n=new vr,r=new fa;return function(a,o,i){function s(e,t,r,a,s){var l=o+e,p=ha.Handlers.get(l),c;null===p?(n.setCrossOrigin(i),c=n.load(l)):c=p.load(l),void 0!==t&&(c.repeat.fromArray(t),1!==t[0]&&(c.wrapS=_s),1!==t[1]&&(c.wrapT=_s)),void 0!==r&&c.offset.fromArray(r),void 0!==a&&('repeat'===a[0]&&(c.wrapS=_s),'mirror'===a[0]&&(c.wrapS=Ts),'repeat'===a[1]&&(c.wrapT=_s),'mirror'===a[1]&&(c.wrapT=Ts)),void 0!==s&&(c.anisotropy=s);var u=wd.generateUUID();return d[u]=c,u}var d={},l={uuid:wd.generateUUID(),type:'MeshLambertMaterial'};for(var p in a){var c=a[p];switch(p){case'DbgColor':case'DbgIndex':case'opticalDensity':case'illumination':break;case'DbgName':l.name=c;break;case'blending':l.blending=e[c];break;case'colorAmbient':case'mapAmbient':console.warn('THREE.Loader.createMaterial:',p,'is no longer supported.');break;case'colorDiffuse':l.color=t.fromArray(c).getHex();break;case'colorSpecular':l.specular=t.fromArray(c).getHex();break;case'colorEmissive':l.emissive=t.fromArray(c).getHex();break;case'specularCoef':l.shininess=c;break;case'shading':'basic'===c.toLowerCase()&&(l.type='MeshBasicMaterial'),'phong'===c.toLowerCase()&&(l.type='MeshPhongMaterial'),'standard'===c.toLowerCase()&&(l.type='MeshStandardMaterial');break;case'mapDiffuse':l.map=s(c,a.mapDiffuseRepeat,a.mapDiffuseOffset,a.mapDiffuseWrap,a.mapDiffuseAnisotropy);break;case'mapDiffuseRepeat':case'mapDiffuseOffset':case'mapDiffuseWrap':case'mapDiffuseAnisotropy':break;case'mapEmissive':l.emissiveMap=s(c,a.mapEmissiveRepeat,a.mapEmissiveOffset,a.mapEmissiveWrap,a.mapEmissiveAnisotropy);break;case'mapEmissiveRepeat':case'mapEmissiveOffset':case'mapEmissiveWrap':case'mapEmissiveAnisotropy':break;case'mapLight':l.lightMap=s(c,a.mapLightRepeat,a.mapLightOffset,a.mapLightWrap,a.mapLightAnisotropy);break;case'mapLightRepeat':case'mapLightOffset':case'mapLightWrap':case'mapLightAnisotropy':break;case'mapAO':l.aoMap=s(c,a.mapAORepeat,a.mapAOOffset,a.mapAOWrap,a.mapAOAnisotropy);break;case'mapAORepeat':case'mapAOOffset':case'mapAOWrap':case'mapAOAnisotropy':break;case'mapBump':l.bumpMap=s(c,a.mapBumpRepeat,a.mapBumpOffset,a.mapBumpWrap,a.mapBumpAnisotropy);break;case'mapBumpScale':l.bumpScale=c;break;case'mapBumpRepeat':case'mapBumpOffset':case'mapBumpWrap':case'mapBumpAnisotropy':break;case'mapNormal':l.normalMap=s(c,a.mapNormalRepeat,a.mapNormalOffset,a.mapNormalWrap,a.mapNormalAnisotropy);break;case'mapNormalFactor':l.normalScale=[c,c];break;case'mapNormalRepeat':case'mapNormalOffset':case'mapNormalWrap':case'mapNormalAnisotropy':break;case'mapSpecular':l.specularMap=s(c,a.mapSpecularRepeat,a.mapSpecularOffset,a.mapSpecularWrap,a.mapSpecularAnisotropy);break;case'mapSpecularRepeat':case'mapSpecularOffset':case'mapSpecularWrap':case'mapSpecularAnisotropy':break;case'mapMetalness':l.metalnessMap=s(c,a.mapMetalnessRepeat,a.mapMetalnessOffset,a.mapMetalnessWrap,a.mapMetalnessAnisotropy);break;case'mapMetalnessRepeat':case'mapMetalnessOffset':case'mapMetalnessWrap':case'mapMetalnessAnisotropy':break;case'mapRoughness':l.roughnessMap=s(c,a.mapRoughnessRepeat,a.mapRoughnessOffset,a.mapRoughnessWrap,a.mapRoughnessAnisotropy);break;case'mapRoughnessRepeat':case'mapRoughnessOffset':case'mapRoughnessWrap':case'mapRoughnessAnisotropy':break;case'mapAlpha':l.alphaMap=s(c,a.mapAlphaRepeat,a.mapAlphaOffset,a.mapAlphaWrap,a.mapAlphaAnisotropy);break;case'mapAlphaRepeat':case'mapAlphaOffset':case'mapAlphaWrap':case'mapAlphaAnisotropy':break;case'flipSided':l.side=Ei;break;case'doubleSided':l.side=Ti;break;case'transparency':console.warn('THREE.Loader.createMaterial: transparency has been renamed to opacity'),l.opacity=c;break;case'depthTest':case'depthWrite':case'colorWrite':case'opacity':case'reflectivity':case'transparent':case'visible':case'wireframe':l[p]=c;break;case'vertexColors':!0===c&&(l.vertexColors=Ri),'face'===c&&(l.vertexColors=wi);break;default:console.error('THREE.Loader.createMaterial: Unsupported',p,c);}}return'MeshBasicMaterial'===l.type&&delete l.emissive,'MeshPhongMaterial'!==l.type&&delete l.specular,1>l.opacity&&(l.transparent=!0),r.setTextures(d),r.parse(l)}}()});var il={decodeText:function(e){if('undefined'!=typeof TextDecoder)return new TextDecoder().decode(e);for(var t='',n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);return t},extractUrlBase:function(e){var t=e.split('/');return 1===t.length?'./':(t.pop(),t.join('/')+'/')}};Object.assign(ya.prototype,{load:function(e,t,n,r){var a=this,o=this.texturePath&&'string'==typeof this.texturePath?this.texturePath:il.extractUrlBase(e),i=new fr(this.manager);i.setWithCredentials(this.withCredentials),i.load(e,function(n){var r=JSON.parse(n),i=r.metadata;if(i!==void 0){var s=i.type;if(s!==void 0){if('object'===s.toLowerCase())return void console.error('THREE.JSONLoader: '+e+' should be loaded with THREE.ObjectLoader instead.');if('scene'===s.toLowerCase())return void console.error('THREE.JSONLoader: '+e+' should be loaded with THREE.SceneLoader instead.')}}var d=a.parse(r,o);t(d.geometry,d.materials)},n,r)},setTexturePath:function(e){this.texturePath=e},parse:function(){function e(e,t){function n(e,t){return e&1<<t}var r=e.faces,a=e.vertices,s=e.normals,d=e.colors,l=e.scale,p=0,c,i,f,g,h,y,x,b,_,E,T,S,C,M,w,R,P,A,L,I,N,D,U,k,O,F,u;if(e.uvs!==void 0){for(c=0;c<e.uvs.length;c++)e.uvs[c].length&&p++;for(c=0;c<p;c++)t.faceVertexUvs[c]=[]}for(g=0,h=a.length;g<h;)A=new m,A.x=a[g++]*l,A.y=a[g++]*l,A.z=a[g++]*l,t.vertices.push(A);for(g=0,h=r.length;g<h;)if(E=r[g++],T=n(E,0),S=n(E,1),C=n(E,3),M=n(E,4),w=n(E,5),R=n(E,6),P=n(E,7),T){if(I=new fe,I.a=r[g],I.b=r[g+1],I.c=r[g+3],N=new fe,N.a=r[g+1],N.b=r[g+2],N.c=r[g+3],g+=4,S&&(_=r[g++],I.materialIndex=_,N.materialIndex=_),f=t.faces.length,C)for(c=0;c<p;c++)for(k=e.uvs[c],t.faceVertexUvs[c][f]=[],t.faceVertexUvs[c][f+1]=[],i=0;4>i;i++)b=r[g++],F=k[2*b],u=k[2*b+1],O=new o(F,u),2!==i&&t.faceVertexUvs[c][f].push(O),0!==i&&t.faceVertexUvs[c][f+1].push(O);if(M&&(x=3*r[g++],I.normal.set(s[x++],s[x++],s[x]),N.normal.copy(I.normal)),w)for(c=0;4>c;c++)x=3*r[g++],U=new m(s[x++],s[x++],s[x]),2!==c&&I.vertexNormals.push(U),0!==c&&N.vertexNormals.push(U);if(R&&(y=r[g++],D=d[y],I.color.setHex(D),N.color.setHex(D)),P)for(c=0;4>c;c++)y=r[g++],D=d[y],2!==c&&I.vertexColors.push(new K(D)),0!==c&&N.vertexColors.push(new K(D));t.faces.push(I),t.faces.push(N)}else{if(L=new fe,L.a=r[g++],L.b=r[g++],L.c=r[g++],S&&(_=r[g++],L.materialIndex=_),f=t.faces.length,C)for(c=0;c<p;c++)for(k=e.uvs[c],t.faceVertexUvs[c][f]=[],i=0;3>i;i++)b=r[g++],F=k[2*b],u=k[2*b+1],O=new o(F,u),t.faceVertexUvs[c][f].push(O);if(M&&(x=3*r[g++],L.normal.set(s[x++],s[x++],s[x])),w)for(c=0;3>c;c++)x=3*r[g++],U=new m(s[x++],s[x++],s[x]),L.vertexNormals.push(U);if(R&&(y=r[g++],L.color.setHex(d[y])),P)for(c=0;3>c;c++)y=r[g++],L.vertexColors.push(new K(d[y]));t.faces.push(L)}}function t(e,t){var n=e.influencesPerVertex===void 0?2:e.influencesPerVertex;if(e.skinWeights)for(var r=0,o=e.skinWeights.length;r<o;r+=n){var i=e.skinWeights[r],s=1<n?e.skinWeights[r+1]:0,l=2<n?e.skinWeights[r+2]:0,u=3<n?e.skinWeights[r+3]:0;t.skinWeights.push(new p(i,s,l,u))}if(e.skinIndices)for(var r=0,o=e.skinIndices.length;r<o;r+=n){var m=e.skinIndices[r],a=1<n?e.skinIndices[r+1]:0,f=2<n?e.skinIndices[r+2]:0,c=3<n?e.skinIndices[r+3]:0;t.skinIndices.push(new p(m,a,f,c))}t.bones=e.bones,t.bones&&0<t.bones.length&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn('When skinning, number of vertices ('+t.vertices.length+'), skinIndices ('+t.skinIndices.length+'), and skinWeights ('+t.skinWeights.length+') should match.')}function n(e,t){var n=e.scale;if(e.morphTargets!==void 0)for(var r=0,a=e.morphTargets.length;r<a;r++){t.morphTargets[r]={},t.morphTargets[r].name=e.morphTargets[r].name,t.morphTargets[r].vertices=[];for(var o=t.morphTargets[r].vertices,i=e.morphTargets[r].vertices,s=0,d=i.length,l;s<d;s+=3)l=new m,l.x=i[s]*n,l.y=i[s+1]*n,l.z=i[s+2]*n,o.push(l)}if(void 0!==e.morphColors&&0<e.morphColors.length){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var p=t.faces,c=e.morphColors[0].colors,r=0,a=p.length;r<a;r++)p[r].color.fromArray(c,3*r)}}function r(e,t){var n=[],r=[];e.animation!==void 0&&r.push(e.animation),e.animations!==void 0&&(e.animations.length?r=r.concat(e.animations):r.push(e.animations));for(var a=0,o;a<r.length;a++)o=ma.parseAnimation(r[a],t.bones),o&&n.push(o);if(t.morphTargets){var i=ma.CreateClipsFromMorphTargetSequences(t.morphTargets,10);n=n.concat(i)}0<n.length&&(t.animations=n)}return function(a,o){void 0!==a.data&&(a=a.data),a.scale=void 0===a.scale?1:1/a.scale;var i=new ge;if(e(a,i),t(a,i),n(a,i),r(a,i),i.computeFaceNormals(),i.computeBoundingSphere(),void 0===a.materials||0===a.materials.length)return{geometry:i};var s=ha.prototype.initMaterials(a.materials,o,this.crossOrigin);return{geometry:i,materials:s}}}()}),Object.assign(xa.prototype,{load:function(e,t,n,r){''===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf('/')+1));var a=this,o=new fr(a.manager);o.load(e,function(n){var o=null;try{o=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error('THREE:ObjectLoader: Can\'t parse '+e+'.',t.message)}var i=o.metadata;return void 0===i||void 0===i.type||'geometry'===i.type.toLowerCase()?void console.error('THREE.ObjectLoader: Can\'t load '+e+'. Use THREE.JSONLoader instead.'):void a.parse(o,t)},n,r)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),a=this.parseImages(e.images,function(){void 0!==t&&t(s)}),o=this.parseTextures(e.textures,a),i=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,i);return e.animations&&(s.animations=this.parseAnimations(e.animations)),(void 0===e.images||0===e.images.length)&&void 0!==t&&t(s),s},parseShape:function(e){var t={};if(e!==void 0)for(var n=0,r=e.length,a;n<r;n++)a=new Wr().fromJSON(e[n]),t[a.uuid]=a;return t},parseGeometries:function(e,t){var n={};if(e!==void 0)for(var r=new ya,a=new ga,o=0,i=e.length;o<i;o++){var s=e[o],d;switch(s.type){case'PlaneGeometry':case'PlaneBufferGeometry':d=new qd[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case'BoxGeometry':case'BoxBufferGeometry':case'CubeGeometry':d=new qd[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case'CircleGeometry':case'CircleBufferGeometry':d=new qd[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case'CylinderGeometry':case'CylinderBufferGeometry':d=new qd[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case'ConeGeometry':case'ConeBufferGeometry':d=new qd[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case'SphereGeometry':case'SphereBufferGeometry':d=new qd[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case'DodecahedronGeometry':case'DodecahedronBufferGeometry':case'IcosahedronGeometry':case'IcosahedronBufferGeometry':case'OctahedronGeometry':case'OctahedronBufferGeometry':case'TetrahedronGeometry':case'TetrahedronBufferGeometry':d=new qd[s.type](s.radius,s.detail);break;case'RingGeometry':case'RingBufferGeometry':d=new qd[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case'TorusGeometry':case'TorusBufferGeometry':d=new qd[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case'TorusKnotGeometry':case'TorusKnotBufferGeometry':d=new qd[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case'LatheGeometry':case'LatheBufferGeometry':d=new qd[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case'PolyhedronGeometry':case'PolyhedronBufferGeometry':d=new qd[s.type](s.vertices,s.indices,s.radius,s.details);break;case'ShapeGeometry':case'ShapeBufferGeometry':for(var l=[],o=0,i=s.shapes.length,p;o<i;o++)p=t[s.shapes[o]],l.push(p);d=new qd[s.type](l,s.curveSegments);break;case'BufferGeometry':d=a.parse(s);break;case'Geometry':d=r.parse(s,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue;}d.uuid=s.uuid,void 0!==s.name&&(d.name=s.name),n[s.uuid]=d}return n},parseMaterials:function(e,t){var n={};if(e!==void 0){var r=new fa;r.setTextures(t);for(var a=0,o=e.length,i;a<o;a++)if(i=e[a],'MultiMaterial'===i.type){for(var s=[],d=0;d<i.materials.length;d++)s.push(r.parse(i.materials[d]));n[i.uuid]=s}else n[i.uuid]=r.parse(i)}return n},parseAnimations:function(e){for(var t=[],n=0,r;n<e.length;n++)r=ma.parse(e[n]),t.push(r);return t},parseImages:function(e,t){function n(e){return r.manager.itemStart(e),s.load(e,function(){r.manager.itemEnd(e)},void 0,function(){r.manager.itemEnd(e),r.manager.itemError(e)})}var r=this,a={};if(e!==void 0&&0<e.length){var o=new mr(t),s=new yr(o);s.setCrossOrigin(this.crossOrigin);for(var d=0,i=e.length;d<i;d++){var l=e[d],p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:r.texturePath+l.url;a[l.uuid]=n(p)}}return a},parseTextures:function(e,t){function n(e,t){return'number'==typeof e?e:(console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.',e),t[e])}var r={};if(e!==void 0)for(var a=0,o=e.length,i;a<o;a++){i=e[a],void 0===i.image&&console.warn('THREE.ObjectLoader: No "image" specified for',i.uuid),void 0===t[i.image]&&console.warn('THREE.ObjectLoader: Undefined image',i.image);var s=new d(t[i.image]);s.needsUpdate=!0,s.uuid=i.uuid,void 0!==i.name&&(s.name=i.name),void 0!==i.mapping&&(s.mapping=n(i.mapping,sl)),void 0!==i.offset&&s.offset.fromArray(i.offset),void 0!==i.repeat&&s.repeat.fromArray(i.repeat),void 0!==i.center&&s.center.fromArray(i.center),void 0!==i.rotation&&(s.rotation=i.rotation),void 0!==i.wrap&&(s.wrapS=n(i.wrap[0],dl),s.wrapT=n(i.wrap[1],dl)),void 0!==i.minFilter&&(s.minFilter=n(i.minFilter,ll)),void 0!==i.magFilter&&(s.magFilter=n(i.magFilter,ll)),void 0!==i.anisotropy&&(s.anisotropy=i.anisotropy),void 0!==i.flipY&&(s.flipY=i.flipY),r[i.uuid]=s}return r},parseObject:function(){var e=new a;return function(t,n,r){function a(e){return void 0===n[e]&&console.warn('THREE.ObjectLoader: Undefined geometry',e),n[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,a=e.length,o;n<a;n++)o=e[n],void 0===r[o]&&console.warn('THREE.ObjectLoader: Undefined material',o),t.push(r[o]);return t}return void 0===r[e]&&console.warn('THREE.ObjectLoader: Undefined material',e),r[e]}}var s;switch(t.type){case'Scene':s=new Mt,void 0!==t.background&&oi(t.background)&&(s.background=new K(t.background)),void 0!==t.fog&&('Fog'===t.fog.type?s.fog=new Ct(t.fog.color,t.fog.near,t.fog.far):'FogExp2'===t.fog.type&&(s.fog=new St(t.fog.color,t.fog.density)));break;case'PerspectiveCamera':s=new yt(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(s.focus=t.focus),void 0!==t.zoom&&(s.zoom=t.zoom),void 0!==t.filmGauge&&(s.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(s.filmOffset=t.filmOffset),void 0!==t.view&&(s.view=Object.assign({},t.view));break;case'OrthographicCamera':s=new me(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case'AmbientLight':s=new $r(t.color,t.intensity);break;case'DirectionalLight':s=new Qr(t.color,t.intensity);break;case'PointLight':s=new Zr(t.color,t.intensity,t.distance,t.decay);break;case'RectAreaLight':s=new ea(t.color,t.intensity,t.width,t.height);break;case'SpotLight':s=new Kr(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case'HemisphereLight':s=new Xr(t.color,t.groundColor,t.intensity);break;case'SkinnedMesh':console.warn('THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.');case'Mesh':var d=a(t.geometry),p=o(t.material);s=d.bones&&0<d.bones.length?new Nt(d,p):new Fe(d,p);break;case'LOD':s=new At;break;case'Line':s=new Ut(a(t.geometry),o(t.material),t.mode);break;case'LineLoop':s=new Ot(a(t.geometry),o(t.material));break;case'LineSegments':s=new kt(a(t.geometry),o(t.material));break;case'PointCloud':case'Points':s=new zt(a(t.geometry),o(t.material));break;case'Sprite':s=new Pt(o(t.material));break;case'Group':s=new Bt;break;default:s=new ce;}if(s.uuid=t.uuid,void 0!==t.name&&(s.name=t.name),void 0===t.matrix?(void 0!==t.position&&s.position.fromArray(t.position),void 0!==t.rotation&&s.rotation.fromArray(t.rotation),void 0!==t.quaternion&&s.quaternion.fromArray(t.quaternion),void 0!==t.scale&&s.scale.fromArray(t.scale)):(e.fromArray(t.matrix),e.decompose(s.position,s.quaternion,s.scale)),void 0!==t.castShadow&&(s.castShadow=t.castShadow),void 0!==t.receiveShadow&&(s.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(s.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(s.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&s.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(s.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(s.visible=t.visible),void 0!==t.userData&&(s.userData=t.userData),void 0!==t.children)for(var c=t.children,u=0;u<c.length;u++)s.add(this.parseObject(c[u],n,r));if('LOD'===t.type)for(var i=t.levels,m=0;m<i.length;m++){var l=i[m],f=s.getObjectByProperty('uuid',l.object);void 0!==f&&s.addLevel(f,l.distance)}return s}}()});var sl={UVMapping:ms,CubeReflectionMapping:fs,CubeRefractionMapping:gs,EquirectangularReflectionMapping:hs,EquirectangularRefractionMapping:ys,SphericalReflectionMapping:xs,CubeUVReflectionMapping:vs,CubeUVRefractionMapping:bs},dl={RepeatWrapping:_s,ClampToEdgeWrapping:Es,MirroredRepeatWrapping:Ts},ll={NearestFilter:Ss,NearestMipMapNearestFilter:Cs,NearestMipMapLinearFilter:Ms,LinearFilter:ws,LinearMipMapNearestFilter:Rs,LinearMipMapLinearFilter:Ps};va.prototype={constructor:va,setOptions:function(e){return this.options=e,this},load:function(t,e,n,r){t===void 0&&(t=''),this.path!==void 0&&(t=this.path+t);var a=this,o=Zd.get(t);return void 0===o?void fetch(t).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,a.options)}).then(function(n){Zd.add(t,n),e&&e(n),a.manager.itemEnd(t)}).catch(function(n){r&&r(n),a.manager.itemEnd(t),a.manager.itemError(t)}):(a.manager.itemStart(t),setTimeout(function(){e&&e(o),a.manager.itemEnd(t)},0),o)},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(ba.prototype,{moveTo:function(e,t){this.currentPath=new Gr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,a,o){this.currentPath.bezierCurveTo(e,t,n,r,a,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n],o=new Wr;o.curves=a.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,a=n-1,o=0;o<n;a=o++){var i=t[a],s=t[o],d=s.x-i.x,l=s.y-i.y;if(Ko(l)>ii){if(0>l&&(i=t[o],d=-d,s=t[a],l=-l),e.y<i.y||e.y>s.y)continue;if(e.y!==i.y){var p=l*(e.x-i.x)-d*(e.y-i.y);if(0==p)return!0;if(0>p)continue;r=!r}else if(e.x===i.x)return!0}else{if(e.y!==i.y)continue;if(s.x<=e.x&&e.x<=i.x||i.x<=e.x&&e.x<=s.x)return!0}}return r}var a=Yd.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var s=[],d,p,c;if(1===o.length)return p=o[0],c=new Wr,c.curves=p.curves,s.push(c),s;var u=!a(o[0].getPoints());u=e?!u:u;var m=[],f=[],g=[],h=0,y;f[h]=void 0,g[h]=[];for(var x=0,i=o.length;x<i;x++)p=o[x],y=p.getPoints(),d=a(y),d=e?!d:d,d?(!u&&f[h]&&h++,f[h]={s:new Wr,p:y},f[h].s.curves=p.curves,u&&h++,g[h]=[]):g[h].push({h:p,p:y[0]});if(!f[0])return n(o);if(1<f.length){for(var l=!1,v=[],b=0,_=f.length;b<_;b++)m[b]=[];for(var b=0,_=f.length,E;b<_;b++){E=g[b];for(var T=0;T<E.length;T++){for(var S=E[T],C=!0,M=0;M<f.length;M++)r(S.p,f[M].p)&&(b!==M&&v.push({froms:b,tos:M,hole:T}),C?(C=!1,m[M].push(S)):l=!0);C&&m[b].push(S)}}0<v.length&&!l&&(g=m)}for(var x=0,w=f.length,R;x<w;x++){c=f[x].s,s.push(c),R=g[x];for(var P=0,A=R.length;P<A;P++)c.holes.push(R[P].h)}return s}}),Object.assign(_a.prototype,{isFont:!0,generateShapes:function(e,t,n){function r(e){for(var n=(e+'').split(''),r=t/o.resolution,s=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*r,d=0,l=0,p=[],c=0,i;c<n.length;c++)if(i=n[c],'\n'===i)d=0,l-=s;else{var u=a(i,r,d,l);d+=u.offsetX,p.push(u.path)}return p}function a(e,t,n,r){var a=o.glyphs[e]||o.glyphs['?'];if(a){var s=new ba,d=[],p,c,u,m,f,g,h,y,x,v,b;if(a.o)for(var _=a._cachedOutline||(a._cachedOutline=a.o.split(' ')),E=0,i=_.length,l;E<i;)l=_[E++],'m'===l?(p=_[E++]*t+n,c=_[E++]*t+r,s.moveTo(p,c)):'l'===l?(p=_[E++]*t+n,c=_[E++]*t+r,s.lineTo(p,c)):'q'===l?(u=_[E++]*t+n,m=_[E++]*t+r,h=_[E++]*t+n,y=_[E++]*t+r,s.quadraticCurveTo(h,y,u,m),b=d[d.length-1],b&&(f=b.x,g=b.y)):'b'===l?(u=_[E++]*t+n,m=_[E++]*t+r,h=_[E++]*t+n,y=_[E++]*t+r,x=_[E++]*t+n,v=_[E++]*t+r,s.bezierCurveTo(h,y,x,v,u,m),b=d[d.length-1],b&&(f=b.x,g=b.y)):void 0;return{offsetX:a.ha*t,path:s}}}t===void 0&&(t=100),n===void 0&&(n=4);for(var o=this.data,i=r(e),s=[],d=0,l=i.length;d<l;d++)Array.prototype.push.apply(s,i[d].toShapes());return s}}),Object.assign(Ea.prototype,{load:function(e,t,n,r){var a=this,o=new fr(this.manager);o.setPath(this.path),o.load(e,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn('THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.'),n=JSON.parse(e.substring(65,e.length-2))}var r=a.parse(n);t&&t(r)},n,r)},parse:function(e){return new _a(e)},setPath:function(e){return this.path=e,this}});var pl={getContext:function(){return void 0==cl&&(cl=new(window.AudioContext||window.webkitAudioContext)),cl},setContext:function(e){cl=e}},cl;Object.assign(Ta.prototype,{load:function(e,t,n,r){var a=new fr(this.manager);a.setResponseType('arraybuffer'),a.load(e,function(e){var n=pl.getContext();n.decodeAudioData(e,function(e){t(e)})},n,r)}}),Object.assign(Sa.prototype,{update:function(){var e=new a,t=new a,n,r,o,i,s,d,l,p;return function(a){var c=n!==this||r!==a.focus||o!==a.fov||i!==a.aspect*this.aspect||s!==a.near||d!==a.far||l!==a.zoom||p!==this.eyeSep;if(c){n=this,r=a.focus,o=a.fov,i=a.aspect*this.aspect,s=a.near,d=a.far,l=a.zoom;var u=a.projectionMatrix.clone();p=this.eyeSep/2;var m=p*s/r,f=s*li(0.5*(wd.DEG2RAD*o))/l,g,h;t.elements[12]=-p,e.elements[12]=p,g=-f*i+m,h=f*i+m,u.elements[0]=2*s/(h-g),u.elements[8]=(h+g)/(h-g),this.cameraL.projectionMatrix.copy(u),g=-f*i-m,h=f*i-m,u.elements[0]=2*s/(h-g),u.elements[8]=(h+g)/(h-g),this.cameraR.projectionMatrix.copy(u)}this.cameraL.matrixWorld.copy(a.matrixWorld).multiply(t),this.cameraR.matrixWorld.copy(a.matrixWorld).multiply(e)}}()}),Ca.prototype=Object.create(ce.prototype),Ca.prototype.constructor=Ca,Ma.prototype=Object.assign(Object.create(ce.prototype),{constructor:Ma,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null===this.filter?this.gain.disconnect(this.context.destination):(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new m,t=new i,n=new m,r=new m;return function(a){ce.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,i=this.up;this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),o.positionX?(o.positionX.setValueAtTime(e.x,this.context.currentTime),o.positionY.setValueAtTime(e.y,this.context.currentTime),o.positionZ.setValueAtTime(e.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(i.x,this.context.currentTime),o.upY.setValueAtTime(i.y,this.context.currentTime),o.upZ.setValueAtTime(i.z,this.context.currentTime)):(o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z,i.x,i.y,i.z))}}()}),wa.prototype=Object.assign(Object.create(ce.prototype),{constructor:wa,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType='audioNode',this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType='buffer',this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn('THREE.Audio: Audio is already playing.');if(!1===this.hasPlaybackControl)return void console.warn('THREE.Audio: this Audio has no playback control.');var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn('THREE.Audio: this Audio has no playback control.'):(!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn('THREE.Audio: this Audio has no playback control.'):(this.source.stop(),this.offset=0,this.isPlaying=!1,this)},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){return!1===this.hasPlaybackControl?void console.warn('THREE.Audio: this Audio has no playback control.'):(this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn('THREE.Audio: this Audio has no playback control.'),!1):this.loop},setLoop:function(e){return!1===this.hasPlaybackControl?void console.warn('THREE.Audio: this Audio has no playback control.'):(this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),Ra.prototype=Object.assign(Object.create(wa.prototype),{constructor:Ra,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new m;return function(t){ce.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign(Pa.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Aa.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,a=e*r+r,o=this.cumulativeWeight;if(0===o){for(var s=0;s!==r;++s)n[a+s]=n[s];o=t}else{o+=t;var i=t/o;this._mixBufferRegion(n,a,0,i,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,a=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,1>a){this._mixBufferRegion(n,r,3*t,1-a,t)}for(var s=t;s!==t+t;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var a=n;a!==r;++a)t[a]=t[r+a%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,n,r,a,t){if(0.5<=a)for(var o=0;o!==t;++o)e[n+o]=e[r+o]},_slerp:function(e,n,r,a){i.slerpFlat(e,n,e,n,e,r,a)},_lerp:function(e,n,r,a,t){for(var o=0,i;o!==t;++o)i=n+o,e[i]=e[i]*(1-a)+e[r+o]*a}}),Object.assign(La.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)},setValue:function(e,t){for(var r=this._bindings,a=this._targetGroup.nCachedObjects_,o=r.length;a!==o;++a)r[a].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}),Object.assign(Ia,{Composite:La,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Ia.Composite(e,t,n):new Ia(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,'_').replace(/[^\w-]/g,'')},parseTrackName:function(){var e=/((?:[\w-]+[\/:])*)/,t=/([\w-\.]+)?/,n=/(?:\.([\w-]+)(?:\[(.+)\])?)?/,r=/\.([\w-]+)(?:\[(.+)\])?/,a=new RegExp('^'+e.source+t.source+n.source+r.source+'$'),o=['material','materials','bones'];return function(e){var t=a.exec(e);if(!t)throw new Error('PropertyBinding: Cannot parse trackName: '+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf('.');if(r!==void 0&&-1!==r){var i=n.nodeName.substring(r+1);-1!==o.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error('PropertyBinding: can not parse propertyName from trackName: '+e);return n}}(),findNode:function(e,t){if(!t||''===t||'root'===t||'.'===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=function(e){for(var n=0,r;n<e.bones.length;n++)if(r=e.bones[n],r.name===t)return r;return null},r=n(e.skeleton);if(r)return r}if(e.children){var a=function(e){for(var n=0,r;n<e.length;n++){if(r=e[n],r.name===t||r.uuid===t)return r;var o=a(r.children);if(o)return o}return null},o=a(e.children);if(o)return o}return null}}),Object.assign(Ia.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var r=this.resolvedProperty,a=0,o=r.length;a!==o;++a)e[t++]=r[a]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var r=this.resolvedProperty,a=0,o=r.length;a!==o;++a)r[a]=e[t++]},function(e,t){for(var r=this.resolvedProperty,a=0,o=r.length;a!==o;++a)r[a]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var r=this.resolvedProperty,a=0,o=r.length;a!==o;++a)r[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,a=t.propertyIndex;if(e||(e=Ia.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error('THREE.PropertyBinding: Trying to update node for track: '+this.path+' but it wasn\'t found.');if(n){var o=t.objectIndex;switch(n){case'materials':if(!e.material)return void console.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.',this);if(!e.material.materials)return void console.error('THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.',this);e=e.material.materials;break;case'bones':if(!e.skeleton)return void console.error('THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.',this);e=e.skeleton.bones;for(var s=0;s<e.length;s++)if(e[s].name===o){o=s;break}break;default:if(void 0===e[n])return void console.error('THREE.PropertyBinding: Can not bind to objectName of node undefined.',this);e=e[n];}if(void 0!==o){if(void 0===e[o])return void console.error('THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.',this,e);e=e[o]}}var i=e[r];if(void 0===i){var d=t.nodeName;return void console.error('THREE.PropertyBinding: Trying to update property for track: '+d+'.'+r+' but it wasn\'t found.',e)}var l=this.Versioning.None;void 0===e.needsUpdate?void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e):(l=this.Versioning.NeedsUpdate,this.targetObject=e);var p=this.BindingType.Direct;if(void 0!==a){if('morphTargetInfluences'===r){if(!e.geometry)return void console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.',this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.',this);for(var s=0;s<this.node.geometry.morphAttributes.position.length;s++)if(e.geometry.morphAttributes.position[s].name===a){a=s;break}}else{if(!e.geometry.morphTargets)return void console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.',this);for(var s=0;s<this.node.geometry.morphTargets.length;s++)if(e.geometry.morphTargets[s].name===a){a=s;break}}}p=this.BindingType.ArrayElement,this.resolvedProperty=i,this.propertyIndex=a}else void 0!==i.fromArray&&void 0!==i.toArray?(p=this.BindingType.HasFromToArray,this.resolvedProperty=i):Array.isArray(i)?(p=this.BindingType.EntireArray,this.resolvedProperty=i):this.propertyName=r;this.getValue=this.GetterByBindingType[p],this.setValue=this.SetterByBindingTypeAndVersioning[p][l]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Ia.prototype,{_getValue_unbound:Ia.prototype.getValue,_setValue_unbound:Ia.prototype.setValue}),Object.assign(Na.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,r=this.nCachedObjects_,a=this._indicesByUUID,o=this._paths,s=this._parsedPaths,d=this._bindings,l=d.length,p=0,i=arguments.length;p!==i;++p){var n=arguments[p],c=n.uuid,u=a[c],f=void 0;if(u===void 0){u=t++,a[c]=u,e.push(n);for(var g=0,h=l;g!==h;++g)d[g].push(new Ia(n,o[g],s[g]))}else if(u<r){f=e[u];var m=--r,y=e[m];a[y.uuid]=u,e[u]=y,a[c]=m,e[m]=n;for(var g=0,h=l;g!==h;++g){var x=d[g],v=x[m],b=x[u];x[u]=v,b===void 0&&(b=new Ia(n,o[g],s[g])),x[m]=b}}else e[u]!==f&&console.error('THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.')}this.nCachedObjects_=r},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,r=this._indicesByUUID,a=this._bindings,o=a.length,s=0,i=arguments.length;s!==i;++s){var n=arguments[s],d=n.uuid,l=r[d];if(l!==void 0&&l>=t){var p=t++,c=e[p];r[c.uuid]=l,e[l]=c,r[d]=p,e[p]=n;for(var u=0;u!==o;++u){var m=a[u],f=m[p],g=m[l];m[l]=f,m[p]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,r=this.nCachedObjects_,a=this._indicesByUUID,o=this._bindings,s=o.length,d=0,i=arguments.length;d!==i;++d){var n=arguments[d],l=n.uuid,p=a[l];if(void 0!==p)if(delete a[l],p<r){var c=--r,u=e[c],f=--t,g=e[f];a[u.uuid]=p,e[p]=u,a[g.uuid]=c,e[c]=g,e.pop();for(var h=0,y=s;h!==y;++h){var m=o[h],x=m[c],v=m[f];m[p]=x,m[c]=v,m.pop()}}else{var f=--t,g=e[f];a[g.uuid]=p,e[p]=g,e.pop();for(var h=0,y=s,m;h!==y;++h)m=o[h],m[p]=m[f],m.pop()}}this.nCachedObjects_=r},subscribe_:function(e,t){var r=this._bindingsIndicesByPath,a=r[e],o=this._bindings;if(a!==void 0)return o[a];var s=this._paths,d=this._parsedPaths,l=this._objects,p=l.length,c=this.nCachedObjects_,u=Array(p);a=o.length,r[e]=a,s.push(e),d.push(t),o.push(u);for(var m=c,i=l.length,n;m!==i;++m)n=l[m],u[m]=new Ia(n,e,t);return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){var r=this._paths,a=this._parsedPaths,o=this._bindings,i=o.length-1,s=o[i],d=e[i];t[d]=n,o[n]=s,o.pop(),a[n]=a[i],a.pop(),r[n]=r[i],r.pop()}}}),Object.assign(Da.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,a=e._clip.duration;e.warp(1,a/r,t),this.warp(r/a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,a=r.time,o=this._timeScaleInterpolant,i=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,d=o.sampleValues;return s[0]=a,s[1]=a+n,d[0]=e/i,d[1]=t/i,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);var a=this._startTime;if(null!==a){var o=(e-a)*n;if(0>o||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var i=this._updateTime(t),s=this._updateWeight(e);if(0<s)for(var d=this._interpolants,l=this._propertyBindings,p=0,c=d.length;p!==c;++p)d[p].evaluate(i),l[p].accumulate(r,s)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,r=this.loop,a=this._loopCount;if(r===od){-1===a&&(this._loopCount=0,this._setEndings(!0,!0,!1));handle_stop:{if(t>=n)t=n;else if(0>t)t=0;else break handle_stop;this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:'finished',action:this,direction:0>e?-1:1})}}else{var o=r===sd;if(-1===a&&(0<=e?(a=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||0>t){var i=ai(t/n);t-=n*i,a+=Ko(i);var s=this.repetitions-a;if(0>s)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=0<e?n:0,this._mixer.dispatchEvent({type:'finished',action:this,direction:0<e?1:-1});else{if(0==s){var d=0>e;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this._mixer.dispatchEvent({type:'loop',action:this,loopDelta:i})}}if(o&&1==(1&a))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=ud,r.endingEnd=ud):(r.endingStart=e?this.zeroSlopeAtStart?ud:cd:md,r.endingEnd=t?this.zeroSlopeAtEnd?ud:cd:md)},_scheduleFading:function(e,t,n){var r=this._mixer,a=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var i=o.parameterPositions,s=o.sampleValues;return i[0]=a,s[0]=t,i[1]=a+e,s[1]=n,this}}),Ua.prototype=Object.assign(Object.create(r.prototype),{constructor:Ua,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,a=r.length,o=e._propertyBindings,s=e._interpolants,d=n.uuid,l=this._bindingsByRootAndName,p=l[d];p===void 0&&(p={},l[d]=p);for(var c=0;c!==a;++c){var i=r[c],u=i.name,m=p[u];if(void 0!==m)o[c]=m;else{if(m=o[c],void 0!==m){null===m._cacheIndex&&(++m.referenceCount,this._addInactiveBinding(m,d,u));continue}var f=t&&t._propertyBindings[c].binding.parsedPath;m=new Aa(Ia.create(n,u,f),i.ValueTypeName,i.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,d,u),o[c]=m}s[c].resultBuffer=m.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,t)}for(var o=e._propertyBindings,s=0,i=o.length,n;s!==i;++s)n=o[s],0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState());this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,r=0,a=t.length,n;r!==a;++r)n=t[r],0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n));this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,a=this._actionsByClip,o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{var i=o.knownActions;e._byClipCacheIndex=i.length,i.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var a=e._clip.uuid,o=this._actionsByClip,i=o[a],s=i.knownActions,d=s[s.length-1],l=e._byClipCacheIndex;d._byClipCacheIndex=l,s[l]=d,s.pop(),e._byClipCacheIndex=null;var p=i.actionByRoot,c=(e._localRoot||this._root).uuid;delete p[c],0===s.length&&delete o[a],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,r=0,a=t.length,n;r!==a;++r)n=t[r],0==--n.referenceCount&&this._removeInactiveBinding(n)},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,a=r[t],o=this._bindings;a===void 0&&(a={},r[t]=a),a[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,a=n.path,o=this._bindingsByRootAndName,i=o[r],s=t[t.length-1],d=e._cacheIndex;s._cacheIndex=d,t[d]=s,t.pop(),delete i[a];remove_empty_map:{for(var l in i)break remove_empty_map;delete o[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(n=new la(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=n,t[n]=a},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,a='string'==typeof e?ma.findByName(n,e):e,o=null===a?e:a.uuid,i=this._actionsByClip[o],s=null;if(void 0!==i){var d=i.actionByRoot[r];if(void 0!==d)return d;s=i.knownActions[0],null===a&&(a=s._clip)}if(null===a)return null;var l=new Da(this,a,t);return this._bindAction(l,s),this._addInactiveAction(l,o,r),l},existingAction:function(e,t){var n=t||this._root,r=n.uuid,a='string'==typeof e?ma.findByName(n,e):e,o=a?a.uuid:e,i=this._actionsByClip[o];return void 0===i?null:i.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var a=0;a!==t;++a)e[a].reset();for(var a=0;a!==r;++a)n[a].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,a=ri(e),o=this._accuIndex^=1,s=0,i;s!==n;++s)i=t[s],i._update(r,e,a,o);for(var d=this._bindings,l=this._nActiveBindings,s=0;s!==l;++s)d[s].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,r=e.uuid,a=this._actionsByClip,o=a[r];if(o!==void 0){for(var s=o.knownActions,d=0,i=s.length,n;d!==i;++d){n=s[d],this._deactivateAction(n);var l=n._cacheIndex,p=t[t.length-1];n._cacheIndex=null,n._byClipCacheIndex=null,p._cacheIndex=l,t[l]=p,t.pop(),this._removeInactiveBindingsForAction(n)}delete a[r]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var a=n[r].actionByRoot,o=a[t];o!==void 0&&(this._deactivateAction(o),this._removeInactiveAction(o))}var i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(var d in s){var l=s[d];l.restoreOriginalState(),this._removeInactiveBinding(l)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),ka.prototype.clone=function(){return new ka(this.value.clone===void 0?this.value:this.value.clone())},Oa.prototype=Object.assign(Object.create(Re.prototype),{constructor:Oa,isInstancedBufferGeometry:!0,copy:function(e){return Re.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return new this.constructor().copy(this)}}),Object.defineProperties(Fa.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Fa.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=a,this}}),Object.defineProperty(za.prototype,'needsUpdate',{set:function(e){!0===e&&this.version++}}),Object.assign(za.prototype,{isInterleavedBuffer:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');this.count=e===void 0?0:e.length/this.stride,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Ba.prototype=Object.assign(Object.create(za.prototype),{constructor:Ba,isInstancedInterleavedBuffer:!0,copy:function(e){return za.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Ha.prototype=Object.assign(Object.create(he.prototype),{constructor:Ha,isInstancedBufferAttribute:!0,copy:function(e){return he.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Va.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,0.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error('THREE.Raycaster: Unsupported camera type.')},intersectObject:function(e,t){var n=[];return Wa(e,this,n,t),n.sort(Ga),n},intersectObjects:function(e,t){var n=[];if(!1===Array.isArray(e))return console.warn('THREE.Raycaster.intersectObjects: objects is not an Array.'),n;for(var r=0,a=e.length;r<a;r++)Wa(e[r],this,n,t);return n.sort(Ga),n}}),Object.assign(ja.prototype,{start:function(){this.startTime=('undefined'==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=('undefined'==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Object.assign(Xa.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=ni(e,si(di-e,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=qo(e.x,e.z),this.phi=jo(wd.clamp(e.y/this.radius,-1,1))),this}}),Object.assign(Ya.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Zo(e.x*e.x+e.z*e.z),this.theta=qo(e.x,e.z),this.y=e.y,this}}),qa.prototype=Object.create(ce.prototype),qa.prototype.constructor=qa,qa.prototype.isImmediateRenderObject=!0,Ka.prototype=Object.create(kt.prototype),Ka.prototype.constructor=Ka,Ka.prototype.update=function(){var e=new m,t=new m,n=new s;return function(){var r=['a','b','c'];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var a=this.object.matrixWorld,o=this.geometry.attributes.position,s=this.object.geometry;if(s&&s.isGeometry)for(var d=s.vertices,p=s.faces,c=0,u=0,i=p.length,l;u<i;u++){l=p[u];for(var m=0,f=l.vertexNormals.length;m<f;m++){var g=d[l[r[m]]],h=l.vertexNormals[m];e.copy(g).applyMatrix4(a),t.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),++c,o.setXYZ(c,t.x,t.y,t.z),++c}}else if(s&&s.isBufferGeometry)for(var y=s.attributes.position,x=s.attributes.normal,c=0,m=0,f=y.count;m<f;m++)e.set(y.getX(m),y.getY(m),y.getZ(m)).applyMatrix4(a),t.set(x.getX(m),x.getY(m),x.getZ(m)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),++c,o.setXYZ(c,t.x,t.y,t.z),++c;o.needsUpdate=!0}}(),Za.prototype=Object.create(ce.prototype),Za.prototype.constructor=Za,Za.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Za.prototype.update=function(){var e=new m,t=new m;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,r=n*li(this.light.angle);this.cone.scale.set(r,r,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),this.color===void 0?this.cone.material.color.copy(this.light.color):this.cone.material.color.set(this.color)}}(),Qa.prototype=Object.create(kt.prototype),Qa.prototype.constructor=Qa,Qa.prototype.updateMatrixWorld=function(){var e=new m,t=new a,n=new a;return function(r){var a=this.bones,o=this.geometry,s=o.getAttribute('position');n.getInverse(this.root.matrixWorld);for(var d=0,i=0,l;d<a.length;d++)l=a[d],l.parent&&l.parent.isBone&&(t.multiplyMatrices(n,l.matrixWorld),e.setFromMatrixPosition(t),s.setXYZ(i,e.x,e.y,e.z),t.multiplyMatrices(n,l.parent.matrixWorld),e.setFromMatrixPosition(t),s.setXYZ(i+1,e.x,e.y,e.z),i+=2);o.getAttribute('position').needsUpdate=!0,ce.prototype.updateMatrixWorld.call(this,r)}}(),$a.prototype=Object.create(Fe.prototype),$a.prototype.constructor=$a,$a.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},$a.prototype.update=function(){this.color===void 0?this.material.color.copy(this.light.color):this.material.color.set(this.color)},eo.prototype=Object.create(ce.prototype),eo.prototype.constructor=eo,eo.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},eo.prototype.update=function(){var e=0.5*this.light.width,t=0.5*this.light.height,n=this.line.geometry.attributes.position,r=n.array;r[0]=e,r[1]=-t,r[2]=0,r[3]=e,r[4]=t,r[5]=0,r[6]=-e,r[7]=t,r[8]=0,r[9]=-e,r[10]=-t,r[11]=0,r[12]=e,r[13]=-t,r[14]=0,n.needsUpdate=!0,this.color===void 0?this.line.material.color.copy(this.light.color):this.line.material.color.set(this.color)},to.prototype=Object.create(ce.prototype),to.prototype.constructor=to,to.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},to.prototype.update=function(){var e=new m,t=new K,n=new K;return function(){var r=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var a=r.geometry.getAttribute('color');t.copy(this.light.color),n.copy(this.light.groundColor);for(var o=0,i=a.count,s;o<i;o++)s=o<i/2?t:n,a.setXYZ(o,s.r,s.g,s.b);a.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),no.prototype=Object.create(kt.prototype),no.prototype.constructor=no,ro.prototype=Object.create(kt.prototype),ro.prototype.constructor=ro,ao.prototype=Object.create(kt.prototype),ao.prototype.constructor=ao,ao.prototype.update=function(){var e=new m,t=new m,n=new s;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry,s=o.vertices,d=o.faces,p=0,c=0,i=d.length;c<i;c++){var l=d[c],u=l.normal;e.copy(s[l.a]).add(s[l.b]).add(s[l.c]).divideScalar(3).applyMatrix4(r),t.copy(u).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),a.setXYZ(p,e.x,e.y,e.z),++p,a.setXYZ(p,t.x,t.y,t.z),++p}a.needsUpdate=!0}}(),oo.prototype=Object.create(ce.prototype),oo.prototype.constructor=oo,oo.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},oo.prototype.update=function(){var e=new m,t=new m,n=new m;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(n),this.color===void 0?(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)):(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),io.prototype=Object.create(kt.prototype),io.prototype.constructor=io,io.prototype.update=function(){function e(e,o,s,d){t.set(o,s,d).unproject(n);var p=a[e];if(p!==void 0)for(var c=r.getAttribute('position'),u=0,i=p.length;u<i;u++)c.setXYZ(p[u],t.x,t.y,t.z)}var t=new m,n=new ue,r,a;return function(){r=this.geometry,a=this.pointMap;var t=1,o=1;n.projectionMatrix.copy(this.camera.projectionMatrix),e('c',0,0,-1),e('t',0,0,1),e('n1',-t,-o,-1),e('n2',t,-o,-1),e('n3',-t,o,-1),e('n4',t,o,-1),e('f1',-t,-o,1),e('f2',t,-o,1),e('f3',-t,o,1),e('f4',t,o,1),e('u1',0.7*t,1.1*o,-1),e('u2',0.7*-t,1.1*o,-1),e('u3',0,2*o,-1),e('cf1',-t,0,1),e('cf2',t,0,1),e('cf3',0,-o,1),e('cf4',0,o,1),e('cn1',-t,0,-1),e('cn2',t,0,-1),e('cn3',0,-o,-1),e('cn4',0,o,-1),r.getAttribute('position').needsUpdate=!0}}(),so.prototype=Object.create(kt.prototype),so.prototype.constructor=so,so.prototype.update=function(){var e=new re;return function(t){if(void 0!==t&&console.warn('THREE.BoxHelper: .update() has no longer arguments.'),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,r=e.max,a=this.geometry.attributes.position,o=a.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,a.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),so.prototype.setFromObject=function(e){return this.object=e,this.update(),this},lo.prototype=Object.create(kt.prototype),lo.prototype.constructor=lo,lo.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(0.5),ce.prototype.updateMatrixWorld.call(this,e))},po.prototype=Object.create(Ut.prototype),po.prototype.constructor=po,po.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;1e-8>Ko(t)&&(t=1e-8),this.scale.set(0.5*this.size,0.5*this.size,t),this.lookAt(this.plane.normal),ce.prototype.updateMatrixWorld.call(this,e)};var ul,ml;co.prototype=Object.create(ce.prototype),co.prototype.constructor=co,co.prototype.setDirection=function(){var e=new m,t;return function(n){0.99999<n.y?this.quaternion.set(0,0,0,1):-0.99999>n.y?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=jo(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),co.prototype.setLength=function(e,t,n){t===void 0&&(t=0.2*e),n===void 0&&(n=0.2*t),this.line.scale.set(1,ni(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},co.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},uo.prototype=Object.create(kt.prototype),uo.prototype.constructor=uo;var fl={createMultiMaterialObject:function(e,t){for(var n=new Bt,r=0,a=t.length;r<a;r++)n.add(new Fe(e,t[r]));return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld),t.remove(e),n.add(e)},attach:function(e,t,n){e.applyMatrix(new a().getInverse(n.matrixWorld)),t.remove(e),n.add(e)}},gl=0,hl=1;br.create=function(e,t){return console.log('THREE.Curve.create() has been deprecated'),e.prototype=Object.create(br.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Vr.prototype,{createPointsGeometry:function(e){console.warn('THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn('THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn('THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');for(var t=new ge,n=0,r=e.length,a;n<r;n++)a=e[n],t.vertices.push(new m(a.x,a.y,a.z||0));return t}}),Object.assign(Gr.prototype,{fromPoints:function(e){console.warn('THREE.Path: .fromPoints() has been renamed to .setFromPoints().'),this.setFromPoints(e)}}),No.prototype=Object.create(Sr.prototype),Do.prototype=Object.create(Sr.prototype),Uo.prototype=Object.create(Sr.prototype),Object.assign(Uo.prototype,{initFromArray:function(){console.error('THREE.Spline: .initFromArray() has been removed.')},getControlPointsArray:function(){console.error('THREE.Spline: .getControlPointsArray() has been removed.')},reparametrizeByArcLength:function(){console.error('THREE.Spline: .reparametrizeByArcLength() has been removed.')}}),no.prototype.setColors=function(){console.error('THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.')},Qa.prototype.update=function(){console.error('THREE.SkeletonHelper: update() no longer needs to be called.')},Object.assign(ha.prototype,{extractUrlBase:function(e){return console.warn('THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.'),il.extractUrlBase(e)}}),Object.assign(Z.prototype,{center:function(e){return console.warn('THREE.Box2: .center() has been renamed to .getCenter().'),this.getCenter(e)},empty:function(){return console.warn('THREE.Box2: .empty() has been renamed to .isEmpty().'),this.isEmpty()},isIntersectionBox:function(e){return console.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().'),this.intersectsBox(e)},size:function(e){return console.warn('THREE.Box2: .size() has been renamed to .getSize().'),this.getSize(e)}}),Object.assign(re.prototype,{center:function(e){return console.warn('THREE.Box3: .center() has been renamed to .getCenter().'),this.getCenter(e)},empty:function(){return console.warn('THREE.Box3: .empty() has been renamed to .isEmpty().'),this.isEmpty()},isIntersectionBox:function(e){return console.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().'),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().'),this.intersectsSphere(e)},size:function(e){return console.warn('THREE.Box3: .size() has been renamed to .getSize().'),this.getSize(e)}}),ke.prototype.center=function(e){return console.warn('THREE.Line3: .center() has been renamed to .getCenter().'),this.getCenter(e)},Object.assign(wd,{random16:function(){return console.warn('THREE.Math: .random16() has been deprecated. Use Math.random() instead.'),Math.random()},nearestPowerOfTwo:function(e){return console.warn('THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().'),wd.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn('THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().'),wd.ceilPowerOfTwo(e)}}),Object.assign(s.prototype,{flattenToArrayOffset:function(e,t){return console.warn('THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.'),this.toArray(e,t)},multiplyVector3:function(e){return console.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.'),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error('THREE.Matrix3: .multiplyVector3Array() has been removed.')},applyToBuffer:function(e){return console.warn('THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.'),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error('THREE.Matrix3: .applyToVector3Array() has been removed.')}}),Object.assign(a.prototype,{extractPosition:function(e){return console.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().'),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn('THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.'),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0==e&&(e=new m),console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.'),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().'),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn('THREE.Matrix4: .multiplyToArray() has been removed.')},multiplyVector3:function(e){return console.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.'),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.'),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error('THREE.Matrix4: .multiplyVector3Array() has been removed.')},rotateAxis:function(e){console.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.'),e.transformDirection(this)},crossVector:function(e){return console.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.'),e.applyMatrix4(this)},translate:function(){console.error('THREE.Matrix4: .translate() has been removed.')},rotateX:function(){console.error('THREE.Matrix4: .rotateX() has been removed.')},rotateY:function(){console.error('THREE.Matrix4: .rotateY() has been removed.')},rotateZ:function(){console.error('THREE.Matrix4: .rotateZ() has been removed.')},rotateByAxis:function(){console.error('THREE.Matrix4: .rotateByAxis() has been removed.')},applyToBuffer:function(e){return console.warn('THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.'),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error('THREE.Matrix4: .applyToVector3Array() has been removed.')},makeFrustum:function(e,t,n,r,a,o){return console.warn('THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.'),this.makePerspective(e,t,r,n,a,o)}}),oe.prototype.isIntersectionLine=function(e){return console.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().'),this.intersectsLine(e)},i.prototype.multiplyVector3=function(e){return console.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.'),e.applyQuaternion(this)},Object.assign(Ue.prototype,{isIntersectionBox:function(e){return console.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().'),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().'),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().'),this.intersectsSphere(e)}}),Object.assign(Wr.prototype,{extractAllPoints:function(e){return console.warn('THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.'),this.extractPoints(e)},extrude:function(e){return console.warn('THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.'),new Fn(this,e)},makeGeometry:function(e){return console.warn('THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.'),new qn(this,e)}}),Object.assign(o.prototype,{fromAttribute:function(e,t,n){return console.warn('THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().'),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn('THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().'),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn('THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().'),this.manhattanLength()}}),Object.assign(m.prototype,{setEulerFromRotationMatrix:function(){console.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.')},setEulerFromQuaternion:function(){console.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.')},getPositionFromMatrix:function(e){return console.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().'),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().'),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().'),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn('THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.'),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn('THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().'),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn('THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().'),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn('THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().'),this.manhattanLength()}}),Object.assign(p.prototype,{fromAttribute:function(e,t,n){return console.warn('THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().'),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn('THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().'),this.manhattanLength()}}),ge.prototype.computeTangents=function(){console.warn('THREE.Geometry: .computeTangents() has been removed.')},Object.assign(ce.prototype,{getChildByName:function(e){return console.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().'),this.getObjectByName(e)},renderDepth:function(){console.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.')},translate:function(e,t){return console.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.'),this.translateOnAxis(t,e)}}),Object.defineProperties(ce.prototype,{eulerOrder:{get:function(){return console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.'),this.rotation.order},set:function(e){console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.'),this.rotation.order=e}},useQuaternion:{get:function(){console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.')},set:function(){console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.')}}}),Object.defineProperties(At.prototype,{objects:{get:function(){return console.warn('THREE.LOD: .objects has been renamed to .levels.'),this.levels}}}),Object.defineProperty(Lt.prototype,'useVertexTexture',{get:function(){console.warn('THREE.Skeleton: useVertexTexture has been removed.')},set:function(){console.warn('THREE.Skeleton: useVertexTexture has been removed.')}}),Object.defineProperty(br.prototype,'__arcLengthDivisions',{get:function(){return console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.'),this.arcLengthDivisions},set:function(e){console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.'),this.arcLengthDivisions=e}}),yt.prototype.setLens=function(e,t){console.warn('THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.'),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(jr.prototype,{onlyShadow:{set:function(){console.warn('THREE.Light: .onlyShadow has been removed.')}},shadowCameraFov:{set:function(e){console.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.'),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.'),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.'),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.'),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.'),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.'),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.'),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.')}},shadowBias:{set:function(e){console.warn('THREE.Light: .shadowBias is now .shadow.bias.'),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn('THREE.Light: .shadowDarkness has been removed.')}},shadowMapWidth:{set:function(e){console.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.'),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.'),this.shadow.mapSize.height=e}}}),Object.defineProperties(he.prototype,{length:{get:function(){return console.warn('THREE.BufferAttribute: .length has been deprecated. Use .count instead.'),this.array.length}}}),Object.assign(Re.prototype,{addIndex:function(e){console.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().'),this.setIndex(e)},addDrawCall:function(e,t,n){n!==void 0&&console.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.'),console.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().'),this.addGroup(e,t)},clearDrawCalls:function(){console.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().'),this.clearGroups()},computeTangents:function(){console.warn('THREE.BufferGeometry: .computeTangents() has been removed.')},computeOffsets:function(){console.warn('THREE.BufferGeometry: .computeOffsets() has been removed.')}}),Object.defineProperties(Re.prototype,{drawcalls:{get:function(){return console.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.'),this.groups}},offsets:{get:function(){return console.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.'),this.groups}}}),Object.defineProperties(ka.prototype,{dynamic:{set:function(){console.warn('THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.')}},onUpdate:{value:function(){return console.warn('THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.'),this}}}),Object.defineProperties(ee.prototype,{wrapAround:{get:function(){console.warn('THREE.Material: .wrapAround has been removed.')},set:function(){console.warn('THREE.Material: .wrapAround has been removed.')}},wrapRGB:{get:function(){return console.warn('THREE.Material: .wrapRGB has been removed.'),new K}},shading:{get:function(){console.error('THREE.'+this.type+': .shading has been removed. Use the boolean .flatShading instead.')},set:function(e){console.warn('THREE.'+this.type+': .shading has been removed. Use the boolean .flatShading instead.'),this.flatShading=e===Si}}}),Object.defineProperties(dr.prototype,{metal:{get:function(){return console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.'),!1},set:function(){console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead')}}}),Object.defineProperties(De.prototype,{derivatives:{get:function(){return console.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.'),this.extensions.derivatives},set:function(e){console.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.'),this.extensions.derivatives=e}}}),Object.assign(Tt.prototype,{getCurrentRenderTarget:function(){return console.warn('THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().'),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn('THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().'),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn('THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.'),this.capabilities.precision},resetGLState:function(){return console.warn('THREE.WebGLRenderer: .resetGLState() is now .state.reset().'),this.state.reset()},supportsFloatTextures:function(){return console.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \'OES_texture_float\' ).'),this.extensions.get('OES_texture_float')},supportsHalfFloatTextures:function(){return console.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \'OES_texture_half_float\' ).'),this.extensions.get('OES_texture_half_float')},supportsStandardDerivatives:function(){return console.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \'OES_standard_derivatives\' ).'),this.extensions.get('OES_standard_derivatives')},supportsCompressedTextureS3TC:function(){return console.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \'WEBGL_compressed_texture_s3tc\' ).'),this.extensions.get('WEBGL_compressed_texture_s3tc')},supportsCompressedTexturePVRTC:function(){return console.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \'WEBGL_compressed_texture_pvrtc\' ).'),this.extensions.get('WEBGL_compressed_texture_pvrtc')},supportsBlendMinMax:function(){return console.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \'EXT_blend_minmax\' ).'),this.extensions.get('EXT_blend_minmax')},supportsVertexTextures:function(){return console.warn('THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.'),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \'ANGLE_instanced_arrays\' ).'),this.extensions.get('ANGLE_instanced_arrays')},enableScissorTest:function(e){console.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().'),this.setScissorTest(e)},initMaterial:function(){console.warn('THREE.WebGLRenderer: .initMaterial() has been removed.')},addPrePlugin:function(){console.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.')},addPostPlugin:function(){console.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.')},updateShadowMap:function(){console.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.')}}),Object.defineProperties(Tt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.'),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.'),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn('THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.'),this.shadowMap.cullFace=e}}}),Object.defineProperties(se.prototype,{cullFace:{get:function(){return this.renderReverseSided?fi:mi},set:function(e){var t=e!==mi;console.warn('WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to '+t+'.'),this.renderReverseSided=t}}}),Object.defineProperties(l.prototype,{wrapS:{get:function(){return console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.'),this.texture.wrapS},set:function(e){console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.'),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.'),this.texture.wrapT},set:function(e){console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.'),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.'),this.texture.magFilter},set:function(e){console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.'),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.'),this.texture.minFilter},set:function(e){console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.'),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.'),this.texture.anisotropy},set:function(e){console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.'),this.texture.anisotropy=e}},offset:{get:function(){return console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.'),this.texture.offset},set:function(e){console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.'),this.texture.offset=e}},repeat:{get:function(){return console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.'),this.texture.repeat},set:function(e){console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.'),this.texture.repeat=e}},format:{get:function(){return console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.'),this.texture.format},set:function(e){console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.'),this.texture.format=e}},type:{get:function(){return console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.'),this.texture.type},set:function(e){console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.'),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.'),this.texture.generateMipmaps},set:function(e){console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.'),this.texture.generateMipmaps=e}}}),Object.assign(vt.prototype,{getStandingMatrix:function(){console.warn('THREE.WebVRManager: .getStandingMatrix() has been removed.')}}),Object.defineProperties(vt.prototype,{standing:{set:function(){console.warn('THREE.WebVRManager: .standing has been removed.')}}}),wa.prototype.load=function(e){console.warn('THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.');var t=this,n=new Ta;return n.load(e,function(e){t.setBuffer(e)}),this},Pa.prototype.getData=function(){return console.warn('THREE.AudioAnalyser: .getData() is now .getFrequencyData().'),this.getFrequencyData()},Ca.prototype.updateCubeMap=function(e,t){return console.warn('THREE.CubeCamera: .updateCubeMap() is now .update().'),this.update(e,t)};var yl={merge:function(e,t,n){console.warn('THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.');var r;t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn('THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.'),e.center()}},xl={crossOrigin:void 0,loadTexture:function(e,t,n,r){console.warn('THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.');var a=new vr;a.setCrossOrigin(this.crossOrigin);var o=a.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadTextureCube:function(e,t,n,r){console.warn('THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.');var a=new xr;a.setCrossOrigin(this.crossOrigin);var o=a.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadCompressedTexture:function(){console.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.')},loadCompressedTextureCube:function(){console.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.')}}}]);